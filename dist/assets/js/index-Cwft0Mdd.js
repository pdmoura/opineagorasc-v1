import{b as e,c as t,g as n,r,R as s,u as i,L as o,d as a,e as l,f as c,h as d,a as u,N as h,i as p,j as m,B as f}from"./router-DUeN9tVm.js";import{U as g,C as x,E as y,A as v,L as b,Z as w,X as k,N as j,a as N,T as C,b as S,M as E,c as T,z as A,d as M,e as D,f as O,S as P,g as _,h as I,F as L,i as R,j as z,k as F,l as B,H as $,I as V,B as q,m as H,n as U,o as W,P as G,G as K,p as J,q as Y,r as X,s as Z,t as Q,u as ee,v as te,w as ne,x as re,y as se,D as ie,J as oe,K as ae,O as le,Q as ce,R as de,V as ue,W as he,Y as pe,_ as me,$ as fe,a0 as ge,a1 as xe,a2 as ye,a3 as ve,a4 as be,a5 as we,a6 as ke,a7 as je,a8 as Ne,a9 as Ce,aa as Se,ab as Ee,ac as Te,ad as Ae,ae as Me,af as De,ag as Oe,ah as Pe,ai as _e,aj as Ie,ak as Le}from"./ui-fHmCYWqX.js";import{b as Re,a as ze,c as Fe,d as Be,f as $e,e as Ve,g as qe,h as He,u as Ue,i as We,D as Ge,j as Ke,S as Je,v as Ye,k as Xe,s as Ze,K as Qe,P as et,l as tt,C as nt}from"./utils-G9lxtipM.js";import{c as rt}from"./supabase-DPYt5OOF.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var st,it,ot={exports:{}},at={};var lt,ct=(it||(it=1,ot.exports=function(){if(st)return at;st=1;var t=e(),n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(e,t,r){var a,l={},c=null,d=null;for(a in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)s.call(t,a)&&!o.hasOwnProperty(a)&&(l[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===l[a]&&(l[a]=t[a]);return{$$typeof:n,type:e,key:c,ref:d,props:l,_owner:i.current}}return at.Fragment=r,at.jsx=a,at.jsxs=a,at}()),ot.exports),dt={};const ut=n(function(){if(lt)return dt;lt=1;var e=t();return dt.createRoot=e.createRoot,dt.hydrateRoot=e.hydrateRoot,dt}());var ht,pt;var mt=function(){if(pt)return ht;pt=1;var e="undefined"!=typeof Element,t="function"==typeof Map,n="function"==typeof Set,r="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function s(i,o){if(i===o)return!0;if(i&&o&&"object"==typeof i&&"object"==typeof o){if(i.constructor!==o.constructor)return!1;var a,l,c,d;if(Array.isArray(i)){if((a=i.length)!=o.length)return!1;for(l=a;0!==l--;)if(!s(i[l],o[l]))return!1;return!0}if(t&&i instanceof Map&&o instanceof Map){if(i.size!==o.size)return!1;for(d=i.entries();!(l=d.next()).done;)if(!o.has(l.value[0]))return!1;for(d=i.entries();!(l=d.next()).done;)if(!s(l.value[1],o.get(l.value[0])))return!1;return!0}if(n&&i instanceof Set&&o instanceof Set){if(i.size!==o.size)return!1;for(d=i.entries();!(l=d.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(i)&&ArrayBuffer.isView(o)){if((a=i.length)!=o.length)return!1;for(l=a;0!==l--;)if(i[l]!==o[l])return!1;return!0}if(i.constructor===RegExp)return i.source===o.source&&i.flags===o.flags;if(i.valueOf!==Object.prototype.valueOf&&"function"==typeof i.valueOf&&"function"==typeof o.valueOf)return i.valueOf()===o.valueOf();if(i.toString!==Object.prototype.toString&&"function"==typeof i.toString&&"function"==typeof o.toString)return i.toString()===o.toString();if((a=(c=Object.keys(i)).length)!==Object.keys(o).length)return!1;for(l=a;0!==l--;)if(!Object.prototype.hasOwnProperty.call(o,c[l]))return!1;if(e&&i instanceof Element)return!1;for(l=a;0!==l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!i.$$typeof)&&!s(i[c[l]],o[c[l]]))return!1;return!0}return i!=i&&o!=o}return ht=function(e,t){try{return s(e,t)}catch(cR){if((cR.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw cR}},ht}();const ft=n(mt);var gt,xt;var yt=(xt||(xt=1,gt=function(e,t,n,r,s,i,o,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,s,i,o,a],d=0;(l=new Error(t.replace(/%s/g,function(){return c[d++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}),gt);const vt=n(yt);var bt,wt;const kt=n(wt?bt:(wt=1,bt=function(e,t,n,r){var s=n?n.call(r,e,t):void 0;if(void 0!==s)return!!s;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),l=0;l<i.length;l++){var c=i[l];if(!a(c))return!1;var d=e[c],u=t[c];if(!1===(s=n?n.call(r,d,u,c):void 0)||void 0===s&&d!==u)return!1}return!0}));var jt=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(jt||{}),Nt={rel:["amphtml","canonical","alternate"]},Ct={type:["application/ld+json"]},St={charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},Et=Object.values(jt),Tt={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},At=Object.entries(Tt).reduce((e,[t,n])=>(e[n]=t,e),{}),Mt="data-rh",Dt="defaultTitle",Ot="defer",Pt="encodeSpecialCharacters",_t="onChangeClientState",It="titleTemplate",Lt="prioritizeSeoTags",Rt=(e,t)=>{for(let n=e.length-1;n>=0;n-=1){const r=e[n];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},zt=e=>{let t=Rt(e,"title");const n=Rt(e,It);if(Array.isArray(t)&&(t=t.join("")),n&&t)return n.replace(/%s/g,()=>t);const r=Rt(e,Dt);return t||r||void 0},Ft=e=>Rt(e,_t)||(()=>{}),Bt=(e,t)=>t.filter(t=>void 0!==t[e]).map(t=>t[e]).reduce((e,t)=>({...e,...t}),{}),$t=(e,t)=>t.filter(e=>void 0!==e.base).map(e=>e.base).reverse().reduce((t,n)=>{if(!t.length){const r=Object.keys(n);for(let s=0;s<r.length;s+=1){const i=r[s].toLowerCase();if(-1!==e.indexOf(i)&&n[i])return t.concat(n)}}return t},[]),Vt=(e,t,n)=>{const r={};return n.filter(t=>{return!!Array.isArray(t[e])||(void 0!==t[e]&&(n=`Helmet: ${e} should be of type "Array". Instead found type "${typeof t[e]}"`,console&&"function"==typeof console.warn&&console.warn(n)),!1);var n}).map(t=>t[e]).reverse().reduce((e,n)=>{const s={};n.filter(e=>{let n;const i=Object.keys(e);for(let r=0;r<i.length;r+=1){const s=i[r],o=s.toLowerCase();-1===t.indexOf(o)||"rel"===n&&"canonical"===e[n].toLowerCase()||"rel"===o&&"stylesheet"===e[o].toLowerCase()||(n=o),-1===t.indexOf(s)||"innerHTML"!==s&&"cssText"!==s&&"itemprop"!==s||(n=s)}if(!n||!e[n])return!1;const o=e[n].toLowerCase();return r[n]||(r[n]={}),s[n]||(s[n]={}),!r[n][o]&&(s[n][o]=!0,!0)}).reverse().forEach(t=>e.push(t));const i=Object.keys(s);for(let t=0;t<i.length;t+=1){const e=i[t],n={...r[e],...s[e]};r[e]=n}return e},[]).reverse()},qt=(e,t)=>{if(Array.isArray(e)&&e.length)for(let n=0;n<e.length;n+=1){if(e[n][t])return!0}return!1},Ht=e=>Array.isArray(e)?e.join(""):e,Ut=(e,t)=>Array.isArray(e)?e.reduce((e,n)=>(((e,t)=>{const n=Object.keys(e);for(let r=0;r<n.length;r+=1)if(t[n[r]]&&t[n[r]].includes(e[n[r]]))return!0;return!1})(n,t)?e.priority.push(n):e.default.push(n),e),{priority:[],default:[]}):{default:e,priority:[]},Wt=(e,t)=>({...e,[t]:void 0}),Gt=["noscript","script","style"],Kt=(e,t=!0)=>!1===t?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),Jt=e=>Object.keys(e).reduce((t,n)=>{const r=void 0!==e[n]?`${n}="${e[n]}"`:`${n}`;return t?`${t} ${r}`:r},""),Yt=(e,t={})=>Object.keys(e).reduce((t,n)=>(t[Tt[n]||n]=e[n],t),t),Xt=(e,t)=>t.map((t,n)=>{const r={key:n,[Mt]:!0};return Object.keys(t).forEach(e=>{const n=Tt[e]||e;if("innerHTML"===n||"cssText"===n){const e=t.innerHTML||t.cssText;r.dangerouslySetInnerHTML={__html:e}}else r[n]=t[e]}),s.createElement(e,r)}),Zt=(e,t,n=!0)=>{switch(e){case"title":return{toComponent:()=>((e,t,n)=>{const r=Yt(n,{key:t,[Mt]:!0});return[s.createElement("title",r,t)]})(0,t.title,t.titleAttributes),toString:()=>((e,t,n,r)=>{const s=Jt(n),i=Ht(t);return s?`<${e} ${Mt}="true" ${s}>${Kt(i,r)}</${e}>`:`<${e} ${Mt}="true">${Kt(i,r)}</${e}>`})(e,t.title,t.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>Yt(t),toString:()=>Jt(t)};default:return{toComponent:()=>Xt(e,t),toString:()=>((e,t,n=!0)=>t.reduce((t,r)=>{const s=r,i=Object.keys(s).filter(e=>!("innerHTML"===e||"cssText"===e)).reduce((e,t)=>{const r=void 0===s[t]?t:`${t}="${Kt(s[t],n)}"`;return e?`${e} ${r}`:r},""),o=s.innerHTML||s.cssText||"",a=-1===Gt.indexOf(e);return`${t}<${e} ${Mt}="true" ${i}${a?"/>":`>${o}</${e}>`}`},""))(e,t,n)}}},Qt=e=>{const{baseTag:t,bodyAttributes:n,encode:r=!0,htmlAttributes:s,noscriptTags:i,styleTags:o,title:a="",titleAttributes:l,prioritizeSeoTags:c}=e;let{linkTags:d,metaTags:u,scriptTags:h}=e,p={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:p,linkTags:d,metaTags:u,scriptTags:h}=(({metaTags:e,linkTags:t,scriptTags:n,encode:r})=>{const s=Ut(e,St),i=Ut(t,Nt),o=Ut(n,Ct);return{priorityMethods:{toComponent:()=>[...Xt("meta",s.priority),...Xt("link",i.priority),...Xt("script",o.priority)],toString:()=>`${Zt("meta",s.priority,r)} ${Zt("link",i.priority,r)} ${Zt("script",o.priority,r)}`},metaTags:s.default,linkTags:i.default,scriptTags:o.default}})(e)),{priority:p,base:Zt("base",t,r),bodyAttributes:Zt("bodyAttributes",n,r),htmlAttributes:Zt("htmlAttributes",s,r),link:Zt("link",d,r),meta:Zt("meta",u,r),noscript:Zt("noscript",i,r),script:Zt("script",h,r),style:Zt("style",o,r),title:Zt("title",{title:a,titleAttributes:l},r)}},en=[],tn=!("undefined"==typeof window||!window.document||!window.document.createElement),nn=class{instances=[];canUseDOM=tn;context;value={setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?en:this.instances,add:e=>{(this.canUseDOM?en:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?en:this.instances).indexOf(e);(this.canUseDOM?en:this.instances).splice(t,1)}}};constructor(e,t){this.context=e,this.canUseDOM=t||!1,t||(e.helmet=Qt({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},rn=s.createContext({}),sn=class e extends r.Component{static canUseDOM=tn;helmetData;constructor(t){super(t),this.helmetData=new nn(this.props.context||{},e.canUseDOM)}render(){return s.createElement(rn.Provider,{value:this.helmetData.value},this.props.children)}},on=(e,t)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${e}[${Mt}]`),s=[].slice.call(r),i=[];let o;return t&&t.length&&t.forEach(t=>{const n=document.createElement(e);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))if("innerHTML"===e)n.innerHTML=t.innerHTML;else if("cssText"===e)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{const r=e,s=void 0===t[r]?"":t[r];n.setAttribute(e,s)}n.setAttribute(Mt,"true"),s.some((e,t)=>(o=t,n.isEqualNode(e)))?s.splice(o,1):i.push(n)}),s.forEach(e=>e.parentNode?.removeChild(e)),i.forEach(e=>n.appendChild(e)),{oldTags:s,newTags:i}},an=(e,t)=>{const n=document.getElementsByTagName(e)[0];if(!n)return;const r=n.getAttribute(Mt),s=r?r.split(","):[],i=[...s],o=Object.keys(t);for(const a of o){const e=t[a]||"";n.getAttribute(a)!==e&&n.setAttribute(a,e),-1===s.indexOf(a)&&s.push(a);const r=i.indexOf(a);-1!==r&&i.splice(r,1)}for(let a=i.length-1;a>=0;a-=1)n.removeAttribute(i[a]);s.length===i.length?n.removeAttribute(Mt):n.getAttribute(Mt)!==o.join(",")&&n.setAttribute(Mt,o.join(","))},ln=(e,t)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:s,linkTags:i,metaTags:o,noscriptTags:a,onChangeClientState:l,scriptTags:c,styleTags:d,title:u,titleAttributes:h}=e;an("body",r),an("html",s),((e,t)=>{void 0!==e&&document.title!==e&&(document.title=Ht(e)),an("title",t)})(u,h);const p={baseTag:on("base",n),linkTags:on("link",i),metaTags:on("meta",o),noscriptTags:on("noscript",a),scriptTags:on("script",c),styleTags:on("style",d)},m={},f={};Object.keys(p).forEach(e=>{const{newTags:t,oldTags:n}=p[e];t.length&&(m[e]=t),n.length&&(f[e]=p[e].oldTags)}),t&&t(),l(e,m,f)},cn=null,dn=e=>{cn&&cancelAnimationFrame(cn),e.defer?cn=requestAnimationFrame(()=>{ln(e,()=>{cn=null})}):(ln(e),cn=null)},un=class extends r.Component{rendered=!1;shouldComponentUpdate(e){return!kt(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let n=null;const r=(s=e.get().map(e=>{const t={...e.props};return delete t.context,t}),{baseTag:$t(["href"],s),bodyAttributes:Bt("bodyAttributes",s),defer:Rt(s,Ot),encode:Rt(s,Pt),htmlAttributes:Bt("htmlAttributes",s),linkTags:Vt("link",["rel","href"],s),metaTags:Vt("meta",["name","charset","http-equiv","property","itemprop"],s),noscriptTags:Vt("noscript",["innerHTML"],s),onChangeClientState:Ft(s),scriptTags:Vt("script",["src","innerHTML"],s),styleTags:Vt("style",["cssText"],s),title:zt(s),titleAttributes:Bt("titleAttributes",s),prioritizeSeoTags:qt(s,Lt)});var s;sn.canUseDOM?dn(r):Qt&&(n=Qt(r)),t(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},hn=class extends r.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(e){return!ft(Wt(this.props,"helmetData"),Wt(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,n,r){return{...t,[e.type]:[...t[e.type]||[],{...n,...this.mapNestedChildrenToProps(e,r)}]}}mapObjectTypeChildren(e,t,n,r){switch(e.type){case"title":return{...t,[e.type]:r,titleAttributes:{...n}};case"body":return{...t,bodyAttributes:{...n}};case"html":return{...t,htmlAttributes:{...n}};default:return{...t,[e.type]:{...n}}}}mapArrayTypeChildrenToProps(e,t){let n={...t};return Object.keys(e).forEach(t=>{n={...n,[t]:e[t]}}),n}warnOnInvalidChildren(e,t){return vt(Et.some(t=>e.type===t),"function"==typeof e.type?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${Et.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),vt(!t||"string"==typeof t||Array.isArray(t)&&!t.some(e=>"string"!=typeof e),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let n={};return s.Children.forEach(e,e=>{if(!e||!e.props)return;const{children:r,...s}=e.props,i=Object.keys(s).reduce((e,t)=>(e[At[t]||t]=s[t],e),{});let{type:o}=e;switch("symbol"==typeof o?o=o.toString():this.warnOnInvalidChildren(e,r),o){case"Symbol(react.fragment)":t=this.mapChildrenToProps(r,t);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(e,n,i,r);break;default:t=this.mapObjectTypeChildren(e,t,i,r)}}),this.mapArrayTypeChildrenToProps(n,t)}render(){const{children:e,...t}=this.props;let n={...t},{helmetData:r}=t;if(e&&(n=this.mapChildrenToProps(e,n)),r&&!(r instanceof nn)){r=new nn(r.context,!0),delete n.helmetData}return r?s.createElement(un,{...n,context:r.value}):s.createElement(rn.Consumer,null,e=>s.createElement(un,{...n,context:e}))}};function pn(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function mn(e={},t={}){const n=["__proto__","constructor","prototype"];Object.keys(t).filter(e=>n.indexOf(e)<0).forEach(n=>{void 0===e[n]?e[n]=t[n]:pn(t[n])&&pn(e[n])&&Object.keys(t[n]).length>0&&mn(e[n],t[n])})}const fn={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function gn(){const e="undefined"!=typeof document?document:{};return mn(e,fn),e}const xn={document:fn,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function yn(){const e="undefined"!=typeof window?window:{};return mn(e,xn),e}function vn(e,t=0){return setTimeout(e,t)}function bn(){return Date.now()}function wn(e,t="x"){const n=yn();let r,s,i;const o=function(e){const t=yn();let n;return t.getComputedStyle&&(n=t.getComputedStyle(e,null)),!n&&e.currentStyle&&(n=e.currentStyle),n||(n=e.style),n}(e);return n.WebKitCSSMatrix?(s=o.transform||o.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(e=>e.replace(",",".")).join(", ")),i=new n.WebKitCSSMatrix("none"===s?"":s)):(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=i.toString().split(",")),"x"===t&&(s=n.WebKitCSSMatrix?i.m41:16===r.length?parseFloat(r[12]):parseFloat(r[4])),"y"===t&&(s=n.WebKitCSSMatrix?i.m42:16===r.length?parseFloat(r[13]):parseFloat(r[5])),s||0}function kn(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function jn(e){return"undefined"!=typeof window&&void 0!==window.HTMLElement?e instanceof HTMLElement:e&&(1===e.nodeType||11===e.nodeType)}function Nn(...e){const t=Object(e[0]),n=["__proto__","constructor","prototype"];for(let r=1;r<e.length;r+=1){const s=e[r];if(null!=s&&!jn(s)){const e=Object.keys(Object(s)).filter(e=>n.indexOf(e)<0);for(let n=0,r=e.length;n<r;n+=1){const r=e[n],i=Object.getOwnPropertyDescriptor(s,r);void 0!==i&&i.enumerable&&(kn(t[r])&&kn(s[r])?s[r].__swiper__?t[r]=s[r]:Nn(t[r],s[r]):!kn(t[r])&&kn(s[r])?(t[r]={},s[r].__swiper__?t[r]=s[r]:Nn(t[r],s[r])):t[r]=s[r])}}}return t}function Cn(e,t,n){e.style.setProperty(t,n)}function Sn({swiper:e,targetPosition:t,side:n}){const r=yn(),s=-e.translate;let i,o=null;const a=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);const l=t>s?"next":"prev",c=(e,t)=>"next"===l&&e>=t||"prev"===l&&e<=t,d=()=>{i=(new Date).getTime(),null===o&&(o=i);const l=Math.max(Math.min((i-o)/a,1),0),u=.5-Math.cos(l*Math.PI)/2;let h=s+u*(t-s);if(c(h,t)&&(h=t),e.wrapperEl.scrollTo({[n]:h}),c(h,t))return e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[n]:h})}),void r.cancelAnimationFrame(e.cssModeFrameID);e.cssModeFrameID=r.requestAnimationFrame(d)};d()}function En(e,t=""){const n=yn(),r=[...e.children];return n.HTMLSlotElement&&e instanceof HTMLSlotElement&&r.push(...e.assignedElements()),t?r.filter(e=>e.matches(t)):r}function Tn(e){try{return void console.warn(e)}catch(t){}}function An(e,t=[]){const n=document.createElement(e);return n.classList.add(...Array.isArray(t)?t:function(e=""){return e.trim().split(" ").filter(e=>!!e.trim())}(t)),n}function Mn(e,t){return yn().getComputedStyle(e,null).getPropertyValue(t)}function Dn(e){let t,n=e;if(n){for(t=0;null!==(n=n.previousSibling);)1===n.nodeType&&(t+=1);return t}}function On(e,t){const n=[];let r=e.parentElement;for(;r;)t?r.matches(t)&&n.push(r):n.push(r),r=r.parentElement;return n}function Pn(e,t,n){const r=yn();return e["width"===t?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-left":"margin-bottom"))}function _n(e){return(Array.isArray(e)?e:[e]).filter(e=>!!e)}function In(e,t=""){"undefined"!=typeof trustedTypes?e.innerHTML=trustedTypes.createPolicy("html",{createHTML:e=>e}).createHTML(t):e.innerHTML=t}let Ln,Rn,zn;function Fn(){return Ln||(Ln=function(){const e=yn(),t=gn();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}()),Ln}function Bn(e={}){return Rn||(Rn=function({userAgent:e}={}){const t=Fn(),n=yn(),r=n.navigator.platform,s=e||n.navigator.userAgent,i={ios:!1,android:!1},o=n.screen.width,a=n.screen.height,l=s.match(/(Android);?[\s\/]+([\d.]+)?/);let c=s.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const d=s.match(/(iPod)(.*OS\s([\d_]+))?/),u=!c&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h="Win32"===r;let p="MacIntel"===r;return!c&&p&&t.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${o}x${a}`)>=0&&(c=s.match(/(Version)\/([\d.]+)/),c||(c=[0,1,"13_0_0"]),p=!1),l&&!h&&(i.os="android",i.android=!0),(c||u||d)&&(i.os="ios",i.ios=!0),i}(e)),Rn}function $n(){return zn||(zn=function(){const e=yn(),t=Bn();let n=!1;function r(){const t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}if(r()){const t=String(e.navigator.userAgent);if(t.includes("Version/")){const[e,r]=t.split("Version/")[1].split(" ")[0].split(".").map(e=>Number(e));n=e<16||16===e&&r<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),i=r();return{isSafari:n||i,needPerspectiveFix:n,need3dFix:i||s&&t.ios,isWebView:s}}()),zn}var Vn={on(e,t,n){const r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!=typeof t)return r;const s=n?"unshift":"push";return e.split(" ").forEach(e=>{r.eventsListeners[e]||(r.eventsListeners[e]=[]),r.eventsListeners[e][s](t)}),r},once(e,t,n){const r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!=typeof t)return r;function s(...n){r.off(e,s),s.__emitterProxy&&delete s.__emitterProxy,t.apply(r,n)}return s.__emitterProxy=t,r.on(e,s,n)},onAny(e,t){const n=this;if(!n.eventsListeners||n.destroyed)return n;if("function"!=typeof e)return n;const r=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[r](e),n},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsAnyListeners)return t;const n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off(e,t){const n=this;return!n.eventsListeners||n.destroyed?n:n.eventsListeners?(e.split(" ").forEach(e=>{void 0===t?n.eventsListeners[e]=[]:n.eventsListeners[e]&&n.eventsListeners[e].forEach((r,s)=>{(r===t||r.__emitterProxy&&r.__emitterProxy===t)&&n.eventsListeners[e].splice(s,1)})}),n):n},emit(...e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsListeners)return t;let n,r,s;"string"==typeof e[0]||Array.isArray(e[0])?(n=e[0],r=e.slice(1,e.length),s=t):(n=e[0].events,r=e[0].data,s=e[0].context||t),r.unshift(s);return(Array.isArray(n)?n:n.split(" ")).forEach(e=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(t=>{t.apply(s,[e,...r])}),t.eventsListeners&&t.eventsListeners[e]&&t.eventsListeners[e].forEach(e=>{e.apply(s,r)})}),t}};const qn=(e,t,n)=>{t&&!e.classList.contains(n)?e.classList.add(n):!t&&e.classList.contains(n)&&e.classList.remove(n)};const Hn=(e,t,n)=>{t&&!e.classList.contains(n)?e.classList.add(n):!t&&e.classList.contains(n)&&e.classList.remove(n)};const Un=(e,t)=>{if(!e||e.destroyed||!e.params)return;const n=t.closest(e.isElement?"swiper-slide":`.${e.params.slideClass}`);if(n){let t=n.querySelector(`.${e.params.lazyPreloaderClass}`);!t&&e.isElement&&(n.shadowRoot?t=n.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{n.shadowRoot&&(t=n.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`),t&&!t.lazyPreloaderManaged&&t.remove())})),t&&!t.lazyPreloaderManaged&&t.remove()}},Wn=(e,t)=>{if(!e.slides[t])return;const n=e.slides[t].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Gn=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const n=e.slides.length;if(!n||!t||t<0)return;t=Math.min(t,n);const r="auto"===e.params.slidesPerView?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),s=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const n=s,i=[n-t];return i.push(...Array.from({length:t}).map((e,t)=>n+r+t)),void e.slides.forEach((t,n)=>{i.includes(t.column)&&Wn(e,n)})}const i=s+r-1;if(e.params.rewind||e.params.loop)for(let o=s-t;o<=i+t;o+=1){const t=(o%n+n)%n;(t<s||t>i)&&Wn(e,t)}else for(let o=Math.max(s-t,0);o<=Math.min(i+t,n-1);o+=1)o!==s&&(o>i||o<s)&&Wn(e,o)};var Kn={updateSize:function(){const e=this;let t,n;const r=e.el;t=void 0!==e.params.width&&null!==e.params.width?e.params.width:r.clientWidth,n=void 0!==e.params.height&&null!==e.params.height?e.params.height:r.clientHeight,0===t&&e.isHorizontal()||0===n&&e.isVertical()||(t=t-parseInt(Mn(r,"padding-left")||0,10)-parseInt(Mn(r,"padding-right")||0,10),n=n-parseInt(Mn(r,"padding-top")||0,10)-parseInt(Mn(r,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(n)&&(n=0),Object.assign(e,{width:t,height:n,size:e.isHorizontal()?t:n}))},updateSlides:function(){const e=this;function t(t,n){return parseFloat(t.getPropertyValue(e.getDirectionLabel(n))||0)}const n=e.params,{wrapperEl:r,slidesEl:s,rtlTranslate:i,wrongRTL:o}=e,a=e.virtual&&n.virtual.enabled,l=a?e.virtual.slides.length:e.slides.length,c=En(s,`.${e.params.slideClass}, swiper-slide`),d=a?e.virtual.slides.length:c.length;let u=[];const h=[],p=[];let m=n.slidesOffsetBefore;"function"==typeof m&&(m=n.slidesOffsetBefore.call(e));let f=n.slidesOffsetAfter;"function"==typeof f&&(f=n.slidesOffsetAfter.call(e));const g=e.snapGrid.length,x=e.slidesGrid.length,y=e.size-m-f;let v=n.spaceBetween,b=-m,w=0,k=0;if(void 0===y)return;"string"==typeof v&&v.indexOf("%")>=0?v=parseFloat(v.replace("%",""))/100*y:"string"==typeof v&&(v=parseFloat(v)),e.virtualSize=-v-m-f,c.forEach(e=>{i?e.style.marginLeft="":e.style.marginRight="",e.style.marginBottom="",e.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Cn(r,"--swiper-centered-offset-before",""),Cn(r,"--swiper-centered-offset-after","")),n.cssMode&&(Cn(r,"--swiper-slides-offset-before",`${m}px`),Cn(r,"--swiper-slides-offset-after",`${f}px`));const j=n.grid&&n.grid.rows>1&&e.grid;let N;j?e.grid.initSlides(c):e.grid&&e.grid.unsetSlides();const C="auto"===n.slidesPerView&&n.breakpoints&&Object.keys(n.breakpoints).filter(e=>void 0!==n.breakpoints[e].slidesPerView).length>0;for(let S=0;S<d;S+=1){N=0;const r=c[S];if(!r||(j&&e.grid.updateSlide(S,r,c),"none"!==Mn(r,"display"))){if(a&&"auto"===n.slidesPerView)n.virtual.slidesPerViewAutoSlideSize&&(N=n.virtual.slidesPerViewAutoSlideSize),N&&r&&(n.roundLengths&&(N=Math.floor(N)),r.style[e.getDirectionLabel("width")]=`${N}px`);else if("auto"===n.slidesPerView){C&&(r.style[e.getDirectionLabel("width")]="");const s=getComputedStyle(r),i=r.style.transform,o=r.style.webkitTransform;if(i&&(r.style.transform="none"),o&&(r.style.webkitTransform="none"),n.roundLengths)N=e.isHorizontal()?Pn(r,"width"):Pn(r,"height");else{const e=t(s,"width"),n=t(s,"padding-left"),i=t(s,"padding-right"),o=t(s,"margin-left"),a=t(s,"margin-right"),l=s.getPropertyValue("box-sizing");if(l&&"border-box"===l)N=e+o+a;else{const{clientWidth:t,offsetWidth:s}=r;N=e+n+i+o+a+(s-t)}}i&&(r.style.transform=i),o&&(r.style.webkitTransform=o),n.roundLengths&&(N=Math.floor(N))}else N=(y-(n.slidesPerView-1)*v)/n.slidesPerView,n.roundLengths&&(N=Math.floor(N)),r&&(r.style[e.getDirectionLabel("width")]=`${N}px`);r&&(r.swiperSlideSize=N),p.push(N),n.centeredSlides?(b=b+N/2+w/2+v,0===w&&0!==S&&(b=b-y/2-v),0===S&&(b=b-y/2-v),Math.abs(b)<.001&&(b=0),n.roundLengths&&(b=Math.floor(b)),k%n.slidesPerGroup===0&&u.push(b),h.push(b)):(n.roundLengths&&(b=Math.floor(b)),(k-Math.min(e.params.slidesPerGroupSkip,k))%e.params.slidesPerGroup===0&&u.push(b),h.push(b),b=b+N+v),e.virtualSize+=N+v,w=N,k+=1}}if(e.virtualSize=Math.max(e.virtualSize,y)+f,i&&o&&("slide"===n.effect||"coverflow"===n.effect)&&(r.style.width=`${e.virtualSize+v}px`),n.setWrapperSize&&(r.style[e.getDirectionLabel("width")]=`${e.virtualSize+v}px`),j&&e.grid.updateWrapperSize(N,u),!n.centeredSlides){const t="auto"!==n.slidesPerView&&n.slidesPerView%1!=0,r=n.snapToSlideEdge&&!n.loop&&("auto"===n.slidesPerView||t);let s=u.length;if(r){let e;if("auto"===n.slidesPerView){e=1;let t=0;for(let n=p.length-1;n>=0&&(t+=p[n]+(n<p.length-1?v:0),t<=y);n-=1)e=p.length-n}else e=Math.floor(n.slidesPerView);s=Math.max(d-e,0)}const i=[];for(let o=0;o<u.length;o+=1){let t=u[o];n.roundLengths&&(t=Math.floor(t)),r?o<=s&&i.push(t):u[o]<=e.virtualSize-y&&i.push(t)}u=i,Math.floor(e.virtualSize-y)-Math.floor(u[u.length-1])>1&&(r||u.push(e.virtualSize-y))}if(a&&n.loop){const t=p[0]+v;if(n.slidesPerGroup>1){const r=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/n.slidesPerGroup),s=t*n.slidesPerGroup;for(let e=0;e<r;e+=1)u.push(u[u.length-1]+s)}for(let r=0;r<e.virtual.slidesBefore+e.virtual.slidesAfter;r+=1)1===n.slidesPerGroup&&u.push(u[u.length-1]+t),h.push(h[h.length-1]+t),e.virtualSize+=t}if(0===u.length&&(u=[0]),0!==v){const t=e.isHorizontal()&&i?"marginLeft":e.getDirectionLabel("marginRight");c.filter((e,t)=>!(n.cssMode&&!n.loop)||t!==c.length-1).forEach(e=>{e.style[t]=`${v}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let e=0;p.forEach(t=>{e+=t+(v||0)}),e-=v;const t=e>y?e-y:0;u=u.map(e=>e<=0?-m:e>t?t+f:e)}if(n.centerInsufficientSlides){let e=0;if(p.forEach(t=>{e+=t+(v||0)}),e-=v,e<y){const t=(y-e)/2;u.forEach((e,n)=>{u[n]=e-t}),h.forEach((e,n)=>{h[n]=e+t})}}if(Object.assign(e,{slides:c,snapGrid:u,slidesGrid:h,slidesSizesGrid:p}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Cn(r,"--swiper-centered-offset-before",-u[0]+"px"),Cn(r,"--swiper-centered-offset-after",e.size/2-p[p.length-1]/2+"px");const t=-e.snapGrid[0],n=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(e=>e+t),e.slidesGrid=e.slidesGrid.map(e=>e+n)}if(d!==l&&e.emit("slidesLengthChange"),u.length!==g&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),h.length!==x&&e.emit("slidesGridLengthChange"),n.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!(a||n.cssMode||"slide"!==n.effect&&"fade"!==n.effect)){const t=`${n.containerModifierClass}backface-hidden`,r=e.el.classList.contains(t);d<=n.maxBackfaceHiddenSlides?r||e.el.classList.add(t):r&&e.el.classList.remove(t)}},updateAutoHeight:function(e){const t=this,n=[],r=t.virtual&&t.params.virtual.enabled;let s,i=0;"number"==typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed);const o=e=>r?t.slides[t.getSlideIndexByData(e)]:t.slides[e];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(e=>{n.push(e)});else for(s=0;s<Math.ceil(t.params.slidesPerView);s+=1){const e=t.activeIndex+s;if(e>t.slides.length&&!r)break;n.push(o(e))}else n.push(o(t.activeIndex));for(s=0;s<n.length;s+=1)if(void 0!==n[s]){const e=n[s].offsetHeight;i=e>i?e:i}(i||0===i)&&(t.wrapperEl.style.height=`${i}px`)},updateSlidesOffset:function(){const e=this,t=e.slides,n=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let r=0;r<t.length;r+=1)t[r].swiperSlideOffset=(e.isHorizontal()?t[r].offsetLeft:t[r].offsetTop)-n-e.cssOverflowAdjustment()},updateSlidesProgress:function(e=this&&this.translate||0){const t=this,n=t.params,{slides:r,rtlTranslate:s,snapGrid:i}=t;if(0===r.length)return;void 0===r[0].swiperSlideOffset&&t.updateSlidesOffset();let o=-e;s&&(o=e),t.visibleSlidesIndexes=[],t.visibleSlides=[];let a=n.spaceBetween;"string"==typeof a&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*t.size:"string"==typeof a&&(a=parseFloat(a));for(let l=0;l<r.length;l+=1){const e=r[l];let c=e.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(c-=r[0].swiperSlideOffset);const d=(o+(n.centeredSlides?t.minTranslate():0)-c)/(e.swiperSlideSize+a),u=(o-i[0]+(n.centeredSlides?t.minTranslate():0)-c)/(e.swiperSlideSize+a),h=-(o-c),p=h+t.slidesSizesGrid[l],m=h>=0&&h<=t.size-t.slidesSizesGrid[l],f=h>=0&&h<t.size-1||p>1&&p<=t.size||h<=0&&p>=t.size;f&&(t.visibleSlides.push(e),t.visibleSlidesIndexes.push(l)),qn(e,f,n.slideVisibleClass),qn(e,m,n.slideFullyVisibleClass),e.progress=s?-d:d,e.originalProgress=s?-u:u}},updateProgress:function(e){const t=this;if(void 0===e){const n=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*n||0}const n=t.params,r=t.maxTranslate()-t.minTranslate();let{progress:s,isBeginning:i,isEnd:o,progressLoop:a}=t;const l=i,c=o;if(0===r)s=0,i=!0,o=!0;else{s=(e-t.minTranslate())/r;const n=Math.abs(e-t.minTranslate())<1,a=Math.abs(e-t.maxTranslate())<1;i=n||s<=0,o=a||s>=1,n&&(s=0),a&&(s=1)}if(n.loop){const n=t.getSlideIndexByData(0),r=t.getSlideIndexByData(t.slides.length-1),s=t.slidesGrid[n],i=t.slidesGrid[r],o=t.slidesGrid[t.slidesGrid.length-1],l=Math.abs(e);a=l>=s?(l-s)/o:(l+o-i)/o,a>1&&(a-=1)}Object.assign(t,{progress:s,progressLoop:a,isBeginning:i,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&t.updateSlidesProgress(e),i&&!l&&t.emit("reachBeginning toEdge"),o&&!c&&t.emit("reachEnd toEdge"),(l&&!i||c&&!o)&&t.emit("fromEdge"),t.emit("progress",s)},updateSlidesClasses:function(){const e=this,{slides:t,params:n,slidesEl:r,activeIndex:s}=e,i=e.virtual&&n.virtual.enabled,o=e.grid&&n.grid&&n.grid.rows>1,a=e=>En(r,`.${n.slideClass}${e}, swiper-slide${e}`)[0];let l,c,d;if(i)if(n.loop){let t=s-e.virtual.slidesBefore;t<0&&(t=e.virtual.slides.length+t),t>=e.virtual.slides.length&&(t-=e.virtual.slides.length),l=a(`[data-swiper-slide-index="${t}"]`)}else l=a(`[data-swiper-slide-index="${s}"]`);else o?(l=t.find(e=>e.column===s),d=t.find(e=>e.column===s+1),c=t.find(e=>e.column===s-1)):l=t[s];l&&(o||(d=function(e,t){const n=[];for(;e.nextElementSibling;){const r=e.nextElementSibling;t?r.matches(t)&&n.push(r):n.push(r),e=r}return n}(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d&&(d=t[0]),c=function(e,t){const n=[];for(;e.previousElementSibling;){const r=e.previousElementSibling;t?r.matches(t)&&n.push(r):n.push(r),e=r}return n}(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&0===!c&&(c=t[t.length-1]))),t.forEach(e=>{Hn(e,e===l,n.slideActiveClass),Hn(e,e===d,n.slideNextClass),Hn(e,e===c,n.slidePrevClass)}),e.emitSlidesClasses()},updateActiveIndex:function(e){const t=this,n=t.rtlTranslate?t.translate:-t.translate,{snapGrid:r,params:s,activeIndex:i,realIndex:o,snapIndex:a}=t;let l,c=e;const d=e=>{let n=e-t.virtual.slidesBefore;return n<0&&(n=t.virtual.slides.length+n),n>=t.virtual.slides.length&&(n-=t.virtual.slides.length),n};if(void 0===c&&(c=function(e){const{slidesGrid:t,params:n}=e,r=e.rtlTranslate?e.translate:-e.translate;let s;for(let i=0;i<t.length;i+=1)void 0!==t[i+1]?r>=t[i]&&r<t[i+1]-(t[i+1]-t[i])/2?s=i:r>=t[i]&&r<t[i+1]&&(s=i+1):r>=t[i]&&(s=i);return n.normalizeSlideIndex&&(s<0||void 0===s)&&(s=0),s}(t)),r.indexOf(n)>=0)l=r.indexOf(n);else{const e=Math.min(s.slidesPerGroupSkip,c);l=e+Math.floor((c-e)/s.slidesPerGroup)}if(l>=r.length&&(l=r.length-1),c===i&&!t.params.loop)return void(l!==a&&(t.snapIndex=l,t.emit("snapIndexChange")));if(c===i&&t.params.loop&&t.virtual&&t.params.virtual.enabled)return void(t.realIndex=d(c));const u=t.grid&&s.grid&&s.grid.rows>1;let h;if(t.virtual&&s.virtual.enabled)h=s.loop?d(c):c;else if(u){const e=t.slides.find(e=>e.column===c);let n=parseInt(e.getAttribute("data-swiper-slide-index"),10);Number.isNaN(n)&&(n=Math.max(t.slides.indexOf(e),0)),h=Math.floor(n/s.grid.rows)}else if(t.slides[c]){const e=t.slides[c].getAttribute("data-swiper-slide-index");h=e?parseInt(e,10):c}else h=c;Object.assign(t,{previousSnapIndex:a,snapIndex:l,previousRealIndex:o,realIndex:h,previousIndex:i,activeIndex:c}),t.initialized&&Gn(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(o!==h&&t.emit("realIndexChange"),t.emit("slideChange"))},updateClickedSlide:function(e,t){const n=this,r=n.params;let s=e.closest(`.${r.slideClass}, swiper-slide`);!s&&n.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach(e=>{!s&&e.matches&&e.matches(`.${r.slideClass}, swiper-slide`)&&(s=e)});let i,o=!1;if(s)for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===s){o=!0,i=a;break}if(!s||!o)return n.clickedSlide=void 0,void(n.clickedIndex=void 0);n.clickedSlide=s,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=i,r.slideToClickedSlide&&void 0!==n.clickedIndex&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}};var Jn={getTranslate:function(e=(this.isHorizontal()?"x":"y")){const{params:t,rtlTranslate:n,translate:r,wrapperEl:s}=this;if(t.virtualTranslate)return n?-r:r;if(t.cssMode)return r;let i=wn(s,e);return i+=this.cssOverflowAdjustment(),n&&(i=-i),i||0},setTranslate:function(e,t){const n=this,{rtlTranslate:r,params:s,wrapperEl:i,progress:o}=n;let a,l=0,c=0;n.isHorizontal()?l=r?-e:e:c=e,s.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:c,s.cssMode?i[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-c:s.virtualTranslate||(n.isHorizontal()?l-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),i.style.transform=`translate3d(${l}px, ${c}px, 0px)`);const d=n.maxTranslate()-n.minTranslate();a=0===d?0:(e-n.minTranslate())/d,a!==o&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e=0,t=this.params.speed,n=!0,r=!0,s){const i=this,{params:o,wrapperEl:a}=i;if(i.animating&&o.preventInteractionOnTransition)return!1;const l=i.minTranslate(),c=i.maxTranslate();let d;if(d=r&&e>l?l:r&&e<c?c:e,i.updateProgress(d),o.cssMode){const e=i.isHorizontal();if(0===t)a[e?"scrollLeft":"scrollTop"]=-d;else{if(!i.support.smoothScroll)return Sn({swiper:i,targetPosition:-d,side:e?"left":"top"}),!0;a.scrollTo({[e?"left":"top"]:-d,behavior:"smooth"})}return!0}return 0===t?(i.setTransition(0),i.setTranslate(d),n&&(i.emit("beforeTransitionStart",t,s),i.emit("transitionEnd"))):(i.setTransition(t),i.setTranslate(d),n&&(i.emit("beforeTransitionStart",t,s),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(e){i&&!i.destroyed&&e.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,i.animating=!1,n&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}};function Yn({swiper:e,runCallbacks:t,direction:n,step:r}){const{activeIndex:s,previousIndex:i}=e;let o=n;o||(o=s>i?"next":s<i?"prev":"reset"),e.emit(`transition${r}`),t&&"reset"===o?e.emit(`slideResetTransition${r}`):t&&s!==i&&(e.emit(`slideChangeTransition${r}`),"next"===o?e.emit(`slideNextTransition${r}`):e.emit(`slidePrevTransition${r}`))}var Xn={slideTo:function(e=0,t,n=!0,r,s){"string"==typeof e&&(e=parseInt(e,10));const i=this;let o=e;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:d,activeIndex:u,rtlTranslate:h,wrapperEl:p,enabled:m}=i;if(!m&&!r&&!s||i.destroyed||i.animating&&a.preventInteractionOnTransition)return!1;void 0===t&&(t=i.params.speed);const f=Math.min(i.params.slidesPerGroupSkip,o);let g=f+Math.floor((o-f)/i.params.slidesPerGroup);g>=l.length&&(g=l.length-1);const x=-l[g];if(a.normalizeSlideIndex)for(let w=0;w<c.length;w+=1){const e=-Math.floor(100*x),t=Math.floor(100*c[w]),n=Math.floor(100*c[w+1]);void 0!==c[w+1]?e>=t&&e<n-(n-t)/2?o=w:e>=t&&e<n&&(o=w+1):e>=t&&(o=w)}if(i.initialized&&o!==u){if(!i.allowSlideNext&&(h?x>i.translate&&x>i.minTranslate():x<i.translate&&x<i.minTranslate()))return!1;if(!i.allowSlidePrev&&x>i.translate&&x>i.maxTranslate()&&(u||0)!==o)return!1}let y;o!==(d||0)&&n&&i.emit("beforeSlideChangeStart"),i.updateProgress(x),y=o>u?"next":o<u?"prev":"reset";const v=i.virtual&&i.params.virtual.enabled;if(!(v&&s)&&(h&&-x===i.translate||!h&&x===i.translate))return i.updateActiveIndex(o),a.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),"slide"!==a.effect&&i.setTranslate(x),"reset"!==y&&(i.transitionStart(n,y),i.transitionEnd(n,y)),!1;if(a.cssMode){const e=i.isHorizontal(),n=h?x:-x;if(0===t)v&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),v&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{p[e?"scrollLeft":"scrollTop"]=n})):p[e?"scrollLeft":"scrollTop"]=n,v&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1});else{if(!i.support.smoothScroll)return Sn({swiper:i,targetPosition:n,side:e?"left":"top"}),!0;p.scrollTo({[e?"left":"top"]:n,behavior:"smooth"})}return!0}const b=$n().isSafari;return v&&!s&&b&&i.isElement&&i.virtual.update(!1,!1,o),i.setTransition(t),i.setTranslate(x),i.updateActiveIndex(o),i.updateSlidesClasses(),i.emit("beforeTransitionStart",t,r),i.transitionStart(n,y),0===t?i.transitionEnd(n,y):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(e){i&&!i.destroyed&&e.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,y))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e=0,t,n=!0,r){if("string"==typeof e){e=parseInt(e,10)}const s=this;if(s.destroyed)return;void 0===t&&(t=s.params.speed);const i=s.grid&&s.params.grid&&s.params.grid.rows>1;let o=e;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)o+=s.virtual.slidesBefore;else{let e;if(i){const t=o*s.params.grid.rows;e=s.slides.find(e=>1*e.getAttribute("data-swiper-slide-index")===t).column}else e=s.getSlideIndexByData(o);const t=i?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:n,slidesOffsetBefore:a,slidesOffsetAfter:l}=s.params,c=n||!!a||!!l;let d=s.params.slidesPerView;"auto"===d?d=s.slidesPerViewDynamic():(d=Math.ceil(parseFloat(s.params.slidesPerView,10)),c&&d%2==0&&(d+=1));let u=t-e<d;if(c&&(u=u||e<Math.ceil(d/2)),r&&c&&"auto"!==s.params.slidesPerView&&!i&&(u=!1),u){const n=c?e<s.activeIndex?"prev":"next":e-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:n,slideTo:!0,activeSlideIndex:"next"===n?e+1:e-t+1,slideRealIndex:"next"===n?s.realIndex:void 0})}if(i){const e=o*s.params.grid.rows;o=s.slides.find(t=>1*t.getAttribute("data-swiper-slide-index")===e).column}else o=s.getSlideIndexByData(o)}return requestAnimationFrame(()=>{s.slideTo(o,t,n,r)}),s},slideNext:function(e,t=!0,n){const r=this,{enabled:s,params:i,animating:o}=r;if(!s||r.destroyed)return r;void 0===e&&(e=r.params.speed);let a=i.slidesPerGroup;"auto"===i.slidesPerView&&1===i.slidesPerGroup&&i.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<i.slidesPerGroupSkip?1:a,c=r.virtual&&i.virtual.enabled;if(i.loop){if(o&&!c&&i.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+l,e,t,n)}),!0}return i.rewind&&r.isEnd?r.slideTo(0,e,t,n):r.slideTo(r.activeIndex+l,e,t,n)},slidePrev:function(e,t=!0,n){const r=this,{params:s,snapGrid:i,slidesGrid:o,rtlTranslate:a,enabled:l,animating:c}=r;if(!l||r.destroyed)return r;void 0===e&&(e=r.params.speed);const d=r.virtual&&s.virtual.enabled;if(s.loop){if(c&&!d&&s.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}function u(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}const h=u(a?r.translate:-r.translate),p=i.map(e=>u(e)),m=s.freeMode&&s.freeMode.enabled;let f=i[p.indexOf(h)-1];if(void 0===f&&(s.cssMode||m)){let e;i.forEach((t,n)=>{h>=t&&(e=n)}),void 0!==e&&(f=m?i[e]:i[e>0?e-1:e])}let g=0;if(void 0!==f&&(g=o.indexOf(f),g<0&&(g=r.activeIndex-1),"auto"===s.slidesPerView&&1===s.slidesPerGroup&&s.slidesPerGroupAuto&&(g=g-r.slidesPerViewDynamic("previous",!0)+1,g=Math.max(g,0))),s.rewind&&r.isBeginning){const s=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(s,e,t,n)}return s.loop&&0===r.activeIndex&&s.cssMode?(requestAnimationFrame(()=>{r.slideTo(g,e,t,n)}),!0):r.slideTo(g,e,t,n)},slideReset:function(e,t=!0,n){const r=this;if(!r.destroyed)return void 0===e&&(e=r.params.speed),r.slideTo(r.activeIndex,e,t,n)},slideToClosest:function(e,t=!0,n,r=.5){const s=this;if(s.destroyed)return;void 0===e&&(e=s.params.speed);let i=s.activeIndex;const o=Math.min(s.params.slidesPerGroupSkip,i),a=o+Math.floor((i-o)/s.params.slidesPerGroup),l=s.rtlTranslate?s.translate:-s.translate;if(l>=s.snapGrid[a]){const e=s.snapGrid[a];l-e>(s.snapGrid[a+1]-e)*r&&(i+=s.params.slidesPerGroup)}else{const e=s.snapGrid[a-1];l-e<=(s.snapGrid[a]-e)*r&&(i-=s.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,s.slidesGrid.length-1),s.slideTo(i,e,t,n)},slideToClickedSlide:function(){const e=this;if(e.destroyed)return;const{params:t,slidesEl:n}=e,r="auto"===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;let s,i=e.getSlideIndexWhenGrid(e.clickedIndex);const o=e.isElement?"swiper-slide":`.${t.slideClass}`,a=e.grid&&e.params.grid&&e.params.grid.rows>1;if(t.loop){if(e.animating)return;s=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?e.slideToLoop(s):i>(a?(e.slides.length-r)/2-(e.params.grid.rows-1):e.slides.length-r)?(e.loopFix(),i=e.getSlideIndex(En(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),vn(()=>{e.slideTo(i)})):e.slideTo(i)}else e.slideTo(i)}};var Zn={loopCreate:function(e,t){const n=this,{params:r,slidesEl:s}=n;if(!r.loop||n.virtual&&n.params.virtual.enabled)return;const i=()=>{En(s,`.${r.slideClass}, swiper-slide`).forEach((e,t)=>{e.setAttribute("data-swiper-slide-index",t)})},o=n.grid&&r.grid&&r.grid.rows>1;r.loopAddBlankSlides&&(r.slidesPerGroup>1||o)&&(()=>{const e=En(s,`.${r.slideBlankClass}`);e.forEach(e=>{e.remove()}),e.length>0&&(n.recalcSlides(),n.updateSlides())})();const a=r.slidesPerGroup*(o?r.grid.rows:1),l=n.slides.length%a!==0,c=o&&n.slides.length%r.grid.rows!==0,d=e=>{for(let t=0;t<e;t+=1){const e=n.isElement?An("swiper-slide",[r.slideBlankClass]):An("div",[r.slideClass,r.slideBlankClass]);n.slidesEl.append(e)}};if(l){if(r.loopAddBlankSlides){d(a-n.slides.length%a),n.recalcSlides(),n.updateSlides()}else Tn("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(c){if(r.loopAddBlankSlides){d(r.grid.rows-n.slides.length%r.grid.rows),n.recalcSlides(),n.updateSlides()}else Tn("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();const u=r.centeredSlides||!!r.slidesOffsetBefore||!!r.slidesOffsetAfter;n.loopFix({slideRealIndex:e,direction:u?void 0:"next",initial:t})},loopFix:function({slideRealIndex:e,slideTo:t=!0,direction:n,setTranslate:r,activeSlideIndex:s,initial:i,byController:o,byMousewheel:a}={}){const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:d,allowSlideNext:u,slidesEl:h,params:p}=l,{centeredSlides:m,slidesOffsetBefore:f,slidesOffsetAfter:g,initialSlide:x}=p,y=m||!!f||!!g;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&p.virtual.enabled)return t&&(y||0!==l.snapIndex?y&&l.snapIndex<p.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0):l.slideTo(l.virtual.slides.length,0,!1,!0)),l.allowSlidePrev=d,l.allowSlideNext=u,void l.emit("loopFix");let v=p.slidesPerView;"auto"===v?v=l.slidesPerViewDynamic():(v=Math.ceil(parseFloat(p.slidesPerView,10)),y&&v%2==0&&(v+=1));const b=p.slidesPerGroupAuto?v:p.slidesPerGroup;let w=y?Math.max(b,Math.ceil(v/2)):b;w%b!==0&&(w+=b-w%b),w+=p.loopAdditionalSlides,l.loopedSlides=w;const k=l.grid&&p.grid&&p.grid.rows>1;c.length<v+w||"cards"===l.params.effect&&c.length<v+2*w?Tn("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):k&&"row"===p.grid.fill&&Tn("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const j=[],N=[],C=k?Math.ceil(c.length/p.grid.rows):c.length,S=i&&C-x<v&&!y;let E=S?x:l.activeIndex;void 0===s?s=l.getSlideIndex(c.find(e=>e.classList.contains(p.slideActiveClass))):E=s;const T="next"===n||!n,A="prev"===n||!n;let M=0,D=0;const O=(k?c[s].column:s)+(y&&void 0===r?-v/2+.5:0);if(O<w){M=Math.max(w-O,b);for(let e=0;e<w-O;e+=1){const t=e-Math.floor(e/C)*C;if(k){const e=C-t-1;for(let t=c.length-1;t>=0;t-=1)c[t].column===e&&j.push(t)}else j.push(C-t-1)}}else if(O+v>C-w){D=Math.max(O-(C-2*w),b),S&&(D=Math.max(D,v-C+x+1));for(let e=0;e<D;e+=1){const t=e-Math.floor(e/C)*C;k?c.forEach((e,n)=>{e.column===t&&N.push(n)}):N.push(t)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),"cards"===l.params.effect&&c.length<v+2*w&&(N.includes(s)&&N.splice(N.indexOf(s),1),j.includes(s)&&j.splice(j.indexOf(s),1)),A&&j.forEach(e=>{c[e].swiperLoopMoveDOM=!0,h.prepend(c[e]),c[e].swiperLoopMoveDOM=!1}),T&&N.forEach(e=>{c[e].swiperLoopMoveDOM=!0,h.append(c[e]),c[e].swiperLoopMoveDOM=!1}),l.recalcSlides(),"auto"===p.slidesPerView?l.updateSlides():k&&(j.length>0&&A||N.length>0&&T)&&l.slides.forEach((e,t)=>{l.grid.updateSlide(t,e,l.slides)}),p.watchSlidesProgress&&l.updateSlidesOffset(),t)if(j.length>0&&A){if(void 0===e){const e=l.slidesGrid[E],t=l.slidesGrid[E+M]-e;a?l.setTranslate(l.translate-t):(l.slideTo(E+Math.ceil(M),0,!1,!0),r&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-t,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-t))}else if(r){const e=k?j.length/p.grid.rows:j.length;l.slideTo(l.activeIndex+e,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(N.length>0&&T)if(void 0===e){const e=l.slidesGrid[E],t=l.slidesGrid[E-D]-e;a?l.setTranslate(l.translate-t):(l.slideTo(E-D,0,!1,!0),r&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-t,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-t))}else{const e=k?N.length/p.grid.rows:N.length;l.slideTo(l.activeIndex-e,0,!1,!0)}if(l.allowSlidePrev=d,l.allowSlideNext=u,l.controller&&l.controller.control&&!o){const i={slideRealIndex:e,direction:n,setTranslate:r,activeSlideIndex:s,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(e=>{!e.destroyed&&e.params.loop&&e.loopFix({...i,slideTo:e.params.slidesPerView===p.slidesPerView&&t})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...i,slideTo:l.controller.control.params.slidesPerView===p.slidesPerView&&t})}l.emit("loopFix")},loopDestroy:function(){const e=this,{params:t,slidesEl:n}=e;if(!t.loop||!n||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const r=[];e.slides.forEach(e=>{const t=void 0===e.swiperSlideIndex?1*e.getAttribute("data-swiper-slide-index"):e.swiperSlideIndex;r[t]=e}),e.slides.forEach(e=>{e.removeAttribute("data-swiper-slide-index")}),r.forEach(e=>{n.append(e)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}};function Qn(e,t,n){const r=yn(),{params:s}=e,i=s.edgeSwipeDetection,o=s.edgeSwipeThreshold;return!i||!(n<=o||n>=r.innerWidth-o)||"prevent"===i&&(t.preventDefault(),!0)}function er(e){const t=this,n=gn();let r=e;r.originalEvent&&(r=r.originalEvent);const s=t.touchEventsData;if("pointerdown"===r.type){if(null!==s.pointerId&&s.pointerId!==r.pointerId)return;s.pointerId=r.pointerId}else"touchstart"===r.type&&1===r.targetTouches.length&&(s.touchId=r.targetTouches[0].identifier);if("touchstart"===r.type)return void Qn(t,r,r.targetTouches[0].pageX);const{params:i,touches:o,enabled:a}=t;if(!a)return;if(!i.simulateTouch&&"mouse"===r.pointerType)return;if(t.animating&&i.preventInteractionOnTransition)return;!t.animating&&i.cssMode&&i.loop&&t.loopFix();let l=r.target;if("wrapper"===i.touchEventsTarget&&!function(e,t){const n=yn();let r=t.contains(e);!r&&n.HTMLSlotElement&&t instanceof HTMLSlotElement&&(r=[...t.assignedElements()].includes(e),r||(r=function(e,t){const n=[t];for(;n.length>0;){const t=n.shift();if(e===t)return!0;n.push(...t.children,...t.shadowRoot?t.shadowRoot.children:[],...t.assignedElements?t.assignedElements():[])}}(e,t)));return r}(l,t.wrapperEl))return;if("which"in r&&3===r.which)return;if("button"in r&&r.button>0)return;if(s.isTouched&&s.isMoved)return;const c=!!i.noSwipingClass&&""!==i.noSwipingClass,d=r.composedPath?r.composedPath():r.path;c&&r.target&&r.target.shadowRoot&&d&&(l=d[0]);const u=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,h=!(!r.target||!r.target.shadowRoot);if(i.noSwiping&&(h?function(e,t=this){return function t(n){if(!n||n===gn()||n===yn())return null;n.assignedSlot&&(n=n.assignedSlot);const r=n.closest(e);return r||n.getRootNode?r||t(n.getRootNode().host):null}(t)}(u,l):l.closest(u)))return void(t.allowClick=!0);if(i.swipeHandler&&!l.closest(i.swipeHandler))return;o.currentX=r.pageX,o.currentY=r.pageY;const p=o.currentX,m=o.currentY;if(!Qn(t,r,p))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=p,o.startY=m,s.touchStartTime=bn(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,i.threshold>0&&(s.allowThresholdMove=!1);let f=!0;l.matches(s.focusableElements)&&(f=!1,"SELECT"===l.nodeName&&(s.isTouched=!1)),n.activeElement&&n.activeElement.matches(s.focusableElements)&&n.activeElement!==l&&("mouse"===r.pointerType||"mouse"!==r.pointerType&&!l.matches(s.focusableElements))&&n.activeElement.blur();const g=f&&t.allowTouchMove&&i.touchStartPreventDefault;!i.touchStartForcePreventDefault&&!g||l.isContentEditable||r.preventDefault(),i.freeMode&&i.freeMode.enabled&&t.freeMode&&t.animating&&!i.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",r)}function tr(e){const t=gn(),n=this,r=n.touchEventsData,{params:s,touches:i,rtlTranslate:o,enabled:a}=n;if(!a)return;if(!s.simulateTouch&&"mouse"===e.pointerType)return;let l,c=e;if(c.originalEvent&&(c=c.originalEvent),"pointermove"===c.type){if(null!==r.touchId)return;if(c.pointerId!==r.pointerId)return}if("touchmove"===c.type){if(l=[...c.changedTouches].find(e=>e.identifier===r.touchId),!l||l.identifier!==r.touchId)return}else l=c;if(!r.isTouched)return void(r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",c));const d=l.pageX,u=l.pageY;if(c.preventedByNestedSwiper)return i.startX=d,void(i.startY=u);if(!n.allowTouchMove)return c.target.matches(r.focusableElements)||(n.allowClick=!1),void(r.isTouched&&(Object.assign(i,{startX:d,startY:u,currentX:d,currentY:u}),r.touchStartTime=bn()));if(s.touchReleaseOnEdges&&!s.loop)if(n.isVertical()){if(u<i.startY&&n.translate<=n.maxTranslate()||u>i.startY&&n.translate>=n.minTranslate())return r.isTouched=!1,void(r.isMoved=!1)}else{if(o&&(d>i.startX&&-n.translate<=n.maxTranslate()||d<i.startX&&-n.translate>=n.minTranslate()))return;if(!o&&(d<i.startX&&n.translate<=n.maxTranslate()||d>i.startX&&n.translate>=n.minTranslate()))return}if(t.activeElement&&t.activeElement.matches(r.focusableElements)&&t.activeElement!==c.target&&"mouse"!==c.pointerType&&t.activeElement.blur(),t.activeElement&&c.target===t.activeElement&&c.target.matches(r.focusableElements))return r.isMoved=!0,void(n.allowClick=!1);r.allowTouchCallbacks&&n.emit("touchMove",c),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=d,i.currentY=u;const h=i.currentX-i.startX,p=i.currentY-i.startY;if(n.params.threshold&&Math.sqrt(h**2+p**2)<n.params.threshold)return;if(void 0===r.isScrolling){let e;n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?r.isScrolling=!1:h*h+p*p>=25&&(e=180*Math.atan2(Math.abs(p),Math.abs(h))/Math.PI,r.isScrolling=n.isHorizontal()?e>s.touchAngle:90-e>s.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",c),void 0===r.startMoving&&(i.currentX===i.startX&&i.currentY===i.startY||(r.startMoving=!0)),r.isScrolling||"touchmove"===c.type&&r.preventTouchMoveFromPointerMove)return void(r.isTouched=!1);if(!r.startMoving)return;n.allowClick=!1,!s.cssMode&&c.cancelable&&c.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&c.stopPropagation();let m=n.isHorizontal()?h:p,f=n.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;s.oneWayMovement&&(m=Math.abs(m)*(o?1:-1),f=Math.abs(f)*(o?1:-1)),i.diff=m,m*=s.touchRatio,o&&(m=-m,f=-f);const g=n.touchesDirection;n.swipeDirection=m>0?"prev":"next",n.touchesDirection=f>0?"prev":"next";const x=n.params.loop&&!s.cssMode,y="next"===n.touchesDirection&&n.allowSlideNext||"prev"===n.touchesDirection&&n.allowSlidePrev;if(!r.isMoved){if(x&&y&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const e=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(e)}r.allowMomentumBounce=!1,!s.grabCursor||!0!==n.allowSlideNext&&!0!==n.allowSlidePrev||n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}if((new Date).getTime(),!1!==s._loopSwapReset&&r.isMoved&&r.allowThresholdMove&&g!==n.touchesDirection&&x&&y&&Math.abs(m)>=1)return Object.assign(i,{startX:d,startY:u,currentX:d,currentY:u,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,void(r.startTranslate=r.currentTranslate);n.emit("sliderMove",c),r.isMoved=!0,r.currentTranslate=m+r.startTranslate;let v=!0,b=s.resistanceRatio;if(s.touchReleaseOnEdges&&(b=0),m>0?(x&&y&&r.allowThresholdMove&&r.currentTranslate>(s.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-("auto"!==s.slidesPerView&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(v=!1,s.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+m)**b))):m<0&&(x&&y&&r.allowThresholdMove&&r.currentTranslate<(s.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+("auto"!==s.slidesPerView&&n.slides.length-s.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-("auto"===s.slidesPerView?n.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(v=!1,s.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-m)**b))),v&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),n.allowSlidePrev||n.allowSlideNext||(r.currentTranslate=r.startTranslate),s.threshold>0){if(!(Math.abs(m)>s.threshold||r.allowThresholdMove))return void(r.currentTranslate=r.startTranslate);if(!r.allowThresholdMove)return r.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,r.currentTranslate=r.startTranslate,void(i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY)}s.followFinger&&!s.cssMode&&((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function nr(e){const t=this,n=t.touchEventsData;let r,s=e;s.originalEvent&&(s=s.originalEvent);if("touchend"===s.type||"touchcancel"===s.type){if(r=[...s.changedTouches].find(e=>e.identifier===n.touchId),!r||r.identifier!==n.touchId)return}else{if(null!==n.touchId)return;if(s.pointerId!==n.pointerId)return;r=s}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(s.type)){if(!(["pointercancel","contextmenu"].includes(s.type)&&(t.browser.isSafari||t.browser.isWebView)))return}n.pointerId=null,n.touchId=null;const{params:i,touches:o,rtlTranslate:a,slidesGrid:l,enabled:c}=t;if(!c)return;if(!i.simulateTouch&&"mouse"===s.pointerType)return;if(n.allowTouchCallbacks&&t.emit("touchEnd",s),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&i.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);i.grabCursor&&n.isMoved&&n.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const d=bn(),u=d-n.touchStartTime;if(t.allowClick){const e=s.path||s.composedPath&&s.composedPath();t.updateClickedSlide(e&&e[0]||s.target,e),t.emit("tap click",s),u<300&&d-n.lastClickTime<300&&t.emit("doubleTap doubleClick",s)}if(n.lastClickTime=bn(),vn(()=>{t.destroyed||(t.allowClick=!0)}),!n.isTouched||!n.isMoved||!t.swipeDirection||0===o.diff&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);let h;if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,h=i.followFinger?a?t.translate:-t.translate:-n.currentTranslate,i.cssMode)return;if(i.freeMode&&i.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:h});const p=h>=-t.maxTranslate()&&!t.params.loop;let m=0,f=t.slidesSizesGrid[0];for(let b=0;b<l.length;b+=b<i.slidesPerGroupSkip?1:i.slidesPerGroup){const e=b<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;void 0!==l[b+e]?(p||h>=l[b]&&h<l[b+e])&&(m=b,f=l[b+e]-l[b]):(p||h>=l[b])&&(m=b,f=l[l.length-1]-l[l.length-2])}let g=null,x=null;i.rewind&&(t.isBeginning?x=i.virtual&&i.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(g=0));const y=(h-l[m])/f,v=m<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;if(u>i.longSwipesMs){if(!i.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(y>=i.longSwipesRatio?t.slideTo(i.rewind&&t.isEnd?g:m+v):t.slideTo(m)),"prev"===t.swipeDirection&&(y>1-i.longSwipesRatio?t.slideTo(m+v):null!==x&&y<0&&Math.abs(y)>i.longSwipesRatio?t.slideTo(x):t.slideTo(m))}else{if(!i.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(s.target===t.navigation.nextEl||s.target===t.navigation.prevEl)?s.target===t.navigation.nextEl?t.slideTo(m+v):t.slideTo(m):("next"===t.swipeDirection&&t.slideTo(null!==g?g:m+v),"prev"===t.swipeDirection&&t.slideTo(null!==x?x:m))}}function rr(){const e=this,{params:t,el:n}=e;if(n&&0===n.offsetWidth)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:i}=e,o=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const a=o&&t.loop;!("auto"===t.slidesPerView||t.slidesPerView>1)||!e.isEnd||e.isBeginning||e.params.centeredSlides||a?e.params.loop&&!o?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0):e.slideTo(e.slides.length-1,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=s,e.allowSlideNext=r,e.params.watchOverflow&&i!==e.snapGrid&&e.checkOverflow()}function sr(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function ir(){const e=this,{wrapperEl:t,rtlTranslate:n,enabled:r}=e;if(!r)return;let s;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();const i=e.maxTranslate()-e.minTranslate();s=0===i?0:(e.translate-e.minTranslate())/i,s!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function or(e){const t=this;Un(t,e.target),t.params.cssMode||"auto"!==t.params.slidesPerView&&!t.params.autoHeight||t.update()}function ar(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}const lr=(e,t)=>{const n=gn(),{params:r,el:s,wrapperEl:i,device:o}=e,a=!!r.nested,l="on"===t?"addEventListener":"removeEventListener",c=t;s&&"string"!=typeof s&&(n[l]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:a}),s[l]("touchstart",e.onTouchStart,{passive:!1}),s[l]("pointerdown",e.onTouchStart,{passive:!1}),n[l]("touchmove",e.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",e.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",e.onTouchEnd,{passive:!0}),n[l]("pointerup",e.onTouchEnd,{passive:!0}),n[l]("pointercancel",e.onTouchEnd,{passive:!0}),n[l]("touchcancel",e.onTouchEnd,{passive:!0}),n[l]("pointerout",e.onTouchEnd,{passive:!0}),n[l]("pointerleave",e.onTouchEnd,{passive:!0}),n[l]("contextmenu",e.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[l]("click",e.onClick,!0),r.cssMode&&i[l]("scroll",e.onScroll),r.updateOnWindowResize?e[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",rr,!0):e[c]("observerUpdate",rr,!0),s[l]("load",e.onLoad,{capture:!0}))};const cr=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;var dr={setBreakpoint:function(){const e=this,{realIndex:t,initialized:n,params:r,el:s}=e,i=r.breakpoints;if(!i||i&&0===Object.keys(i).length)return;const o=gn(),a="window"!==r.breakpointsBase&&r.breakpointsBase?"container":r.breakpointsBase,l=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?e.el:o.querySelector(r.breakpointsBase),c=e.getBreakpoint(i,a,l);if(!c||e.currentBreakpoint===c)return;const d=(c in i?i[c]:void 0)||e.originalParams,u=cr(e,r),h=cr(e,d),p=e.params.grabCursor,m=d.grabCursor,f=r.enabled;u&&!h?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),e.emitContainerClasses()):!u&&h&&(s.classList.add(`${r.containerModifierClass}grid`),(d.grid.fill&&"column"===d.grid.fill||!d.grid.fill&&"column"===r.grid.fill)&&s.classList.add(`${r.containerModifierClass}grid-column`),e.emitContainerClasses()),p&&!m?e.unsetGrabCursor():!p&&m&&e.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(t=>{if(void 0===d[t])return;const n=r[t]&&r[t].enabled,s=d[t]&&d[t].enabled;n&&!s&&e[t].disable(),!n&&s&&e[t].enable()});const g=d.direction&&d.direction!==r.direction,x=r.loop&&(d.slidesPerView!==r.slidesPerView||g),y=r.loop;g&&n&&e.changeDirection(),Nn(e.params,d);const v=e.params.enabled,b=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),f&&!v?e.disable():!f&&v&&e.enable(),e.currentBreakpoint=c,e.emit("_beforeBreakpoint",d),n&&(x?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!y&&b?(e.loopCreate(t),e.updateSlides()):y&&!b&&e.loopDestroy()),e.emit("breakpoint",d)},getBreakpoint:function(e,t="window",n){if(!e||"container"===t&&!n)return;let r=!1;const s=yn(),i="window"===t?s.innerHeight:n.clientHeight,o=Object.keys(e).map(e=>{if("string"==typeof e&&0===e.indexOf("@")){const t=parseFloat(e.substr(1));return{value:i*t,point:e}}return{value:e,point:e}});o.sort((e,t)=>parseInt(e.value,10)-parseInt(t.value,10));for(let a=0;a<o.length;a+=1){const{point:e,value:i}=o[a];"window"===t?s.matchMedia(`(min-width: ${i}px)`).matches&&(r=e):i<=n.clientWidth&&(r=e)}return r||"max"}};var ur={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,snapToSlideEdge:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function hr(e,t){return function(n={}){const r=Object.keys(n)[0],s=n[r];"object"==typeof s&&null!==s?(!0===e[r]&&(e[r]={enabled:!0}),"navigation"===r&&e[r]&&e[r].enabled&&!e[r].prevEl&&!e[r].nextEl&&(e[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&e[r]&&e[r].enabled&&!e[r].el&&(e[r].auto=!0),r in e&&"enabled"in s?("object"!=typeof e[r]||"enabled"in e[r]||(e[r].enabled=!0),e[r]||(e[r]={enabled:!1}),Nn(t,n)):Nn(t,n)):Nn(t,n)}}const pr={eventsEmitter:Vn,update:Kn,translate:Jn,transition:{setTransition:function(e,t){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${e}ms`,n.wrapperEl.style.transitionDelay=0===e?"0ms":""),n.emit("setTransition",e,t)},transitionStart:function(e=!0,t){const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),Yn({swiper:n,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e=!0,t){const n=this,{params:r}=n;n.animating=!1,r.cssMode||(n.setTransition(0),Yn({swiper:n,runCallbacks:e,direction:t,step:"End"}))}},slide:Xn,loop:Zn,grabCursor:{setGrabCursor:function(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const n="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})},unsetGrabCursor:function(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}},events:{attachEvents:function(){const e=this,{params:t}=e;e.onTouchStart=er.bind(e),e.onTouchMove=tr.bind(e),e.onTouchEnd=nr.bind(e),e.onDocumentTouchStart=ar.bind(e),t.cssMode&&(e.onScroll=ir.bind(e)),e.onClick=sr.bind(e),e.onLoad=or.bind(e),lr(e,"on")},detachEvents:function(){lr(this,"off")}},breakpoints:dr,checkOverflow:{checkOverflow:function(){const e=this,{isLocked:t,params:n}=e,{slidesOffsetBefore:r}=n;if(r){const t=e.slides.length-1,n=e.slidesGrid[t]+e.slidesSizesGrid[t]+2*r;e.isLocked=e.size>n}else e.isLocked=1===e.snapGrid.length;!0===n.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===n.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:{addClasses:function(){const e=this,{classNames:t,params:n,rtl:r,el:s,device:i}=e,o=function(e,t){const n=[];return e.forEach(e=>{"object"==typeof e?Object.keys(e).forEach(r=>{e[r]&&n.push(t+r)}):"string"==typeof e&&n.push(t+e)}),n}(["initialized",n.direction,{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&"column"===n.grid.fill},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);t.push(...o),s.classList.add(...t),e.emitContainerClasses()},removeClasses:function(){const{el:e,classNames:t}=this;e&&"string"!=typeof e&&(e.classList.remove(...t),this.emitContainerClasses())}}},mr={};let fr=class e{constructor(...t){let n,r;1===t.length&&t[0].constructor&&"Object"===Object.prototype.toString.call(t[0]).slice(8,-1)?r=t[0]:[n,r]=t,r||(r={}),r=Nn({},r),n&&!r.el&&(r.el=n);const s=gn();if(r.el&&"string"==typeof r.el&&s.querySelectorAll(r.el).length>1){const t=[];return s.querySelectorAll(r.el).forEach(n=>{const s=Nn({},r,{el:n});t.push(new e(s))}),t}const i=this;i.__swiper__=!0,i.support=Fn(),i.device=Bn({userAgent:r.userAgent}),i.browser=$n(),i.eventsListeners={},i.eventsAnyListeners=[],i.modules=[...i.__modules__],r.modules&&Array.isArray(r.modules)&&r.modules.forEach(e=>{"function"==typeof e&&i.modules.indexOf(e)<0&&i.modules.push(e)});const o={};i.modules.forEach(e=>{e({params:r,swiper:i,extendParams:hr(r,o),on:i.on.bind(i),once:i.once.bind(i),off:i.off.bind(i),emit:i.emit.bind(i)})});const a=Nn({},ur,o);return i.params=Nn({},a,mr,r),i.originalParams=Nn({},i.params),i.passedParams=Nn({},r),i.params&&i.params.on&&Object.keys(i.params.on).forEach(e=>{i.on(e,i.params.on[e])}),i.params&&i.params.onAny&&i.onAny(i.params.onAny),Object.assign(i,{enabled:i.params.enabled,el:n,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===i.params.direction,isVertical:()=>"vertical"===i.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:i.params.allowSlideNext,allowSlidePrev:i.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:i.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:i.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),i.emit("_swiper"),i.params.init&&i.init(),i}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:n}=this,r=Dn(En(t,`.${n.slideClass}, swiper-slide`)[0]);return Dn(e)-r}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>1*t.getAttribute("data-swiper-slide-index")===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&("column"===this.params.grid.fill?e=Math.floor(e/this.params.grid.rows):"row"===this.params.grid.fill&&(e%=Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const{slidesEl:e,params:t}=this;this.slides=En(e,`.${t.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const n=this;e=Math.min(Math.max(e,0),1);const r=n.minTranslate(),s=(n.maxTranslate()-r)*e+r;n.translateTo(s,void 0===t?0:t),n.updateActiveIndex(),n.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(e=>0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass)).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(n=>{const r=e.getSlideClasses(n);t.push({slideEl:n,classNames:r}),e.emit("_slideClass",n,r)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e="current",t=!1){const{params:n,slides:r,slidesGrid:s,slidesSizesGrid:i,size:o,activeIndex:a}=this;let l=1;if("number"==typeof n.slidesPerView)return n.slidesPerView;if(n.centeredSlides){let e,t=r[a]?Math.ceil(r[a].swiperSlideSize):0;for(let n=a+1;n<r.length;n+=1)r[n]&&!e&&(t+=Math.ceil(r[n].swiperSlideSize),l+=1,t>o&&(e=!0));for(let n=a-1;n>=0;n-=1)r[n]&&!e&&(t+=r[n].swiperSlideSize,l+=1,t>o&&(e=!0))}else if("current"===e)for(let c=a+1;c<r.length;c+=1){(t?s[c]+i[c]-s[a]<o:s[c]-s[a]<o)&&(l+=1)}else for(let c=a-1;c>=0;c-=1){s[a]-s[c]<o&&(l+=1)}return l}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:n}=e;function r(){const t=e.rtlTranslate?-1*e.translate:e.translate,n=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(n),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(n.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(t=>{t.complete&&Un(e,t)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),n.freeMode&&n.freeMode.enabled&&!n.cssMode)r(),n.autoHeight&&e.updateAutoHeight();else{if(("auto"===n.slidesPerView||n.slidesPerView>1)&&e.isEnd&&!n.centeredSlides){const t=e.virtual&&n.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(t.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||r()}n.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t=!0){const n=this,r=n.params.direction;return e||(e="horizontal"===r?"vertical":"horizontal"),e===r||"horizontal"!==e&&"vertical"!==e||(n.el.classList.remove(`${n.params.containerModifierClass}${r}`),n.el.classList.add(`${n.params.containerModifierClass}${e}`),n.emitContainerClasses(),n.params.direction=e,n.slides.forEach(t=>{"vertical"===e?t.style.width="":t.style.height=""}),n.emit("changeDirection"),t&&n.update()),n}changeLanguageDirection(e){const t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let n=e||t.params.el;if("string"==typeof n&&(n=document.querySelector(n)),!n)return!1;n.swiper=t,n.parentNode&&n.parentNode.host&&n.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const r=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let s=(()=>{if(n&&n.shadowRoot&&n.shadowRoot.querySelector){return n.shadowRoot.querySelector(r())}return En(n,r())[0]})();return!s&&t.params.createElements&&(s=An("div",t.params.wrapperClass),n.append(s),En(n,`.${t.params.slideClass}`).forEach(e=>{s.append(e)})),Object.assign(t,{el:n,wrapperEl:s,slidesEl:t.isElement&&!n.parentNode.host.slideSlots?n.parentNode.host:s,hostEl:t.isElement?n.parentNode.host:n,mounted:!0,rtl:"rtl"===n.dir.toLowerCase()||"rtl"===Mn(n,"direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===n.dir.toLowerCase()||"rtl"===Mn(n,"direction")),wrongRTL:"-webkit-box"===Mn(s,"display")}),!0}init(e){const t=this;if(t.initialized)return t;if(!1===t.mount(e))return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const n=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&n.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),n.forEach(e=>{e.complete?Un(t,e):e.addEventListener("load",e=>{Un(t,e.target)})}),Gn(t),t.initialized=!0,Gn(t),t.emit("init"),t.emit("afterInit"),t}destroy(e=!0,t=!0){const n=this,{params:r,el:s,wrapperEl:i,slides:o}=n;return void 0===n.params||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),r.loop&&n.loopDestroy(),t&&(n.removeClasses(),s&&"string"!=typeof s&&s.removeAttribute("style"),i&&i.removeAttribute("style"),o&&o.length&&o.forEach(e=>{e.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),e.removeAttribute("style"),e.removeAttribute("data-swiper-slide-index")})),n.emit("destroy"),Object.keys(n.eventsListeners).forEach(e=>{n.off(e)}),!1!==e&&(n.el&&"string"!=typeof n.el&&(n.el.swiper=null),function(e){const t=e;Object.keys(t).forEach(e=>{try{t[e]=null}catch(n){}try{delete t[e]}catch(n){}})}(n)),n.destroyed=!0),null}static extendDefaults(e){Nn(mr,e)}static get extendedDefaults(){return mr}static get defaults(){return ur}static installModule(t){e.prototype.__modules__||(e.prototype.__modules__=[]);const n=e.prototype.__modules__;"function"==typeof t&&n.indexOf(t)<0&&n.push(t)}static use(t){return Array.isArray(t)?(t.forEach(t=>e.installModule(t)),e):(e.installModule(t),e)}};Object.keys(pr).forEach(e=>{Object.keys(pr[e]).forEach(t=>{fr.prototype[t]=pr[e][t]})}),fr.use([function({swiper:e,on:t,emit:n}){const r=yn();let s=null,i=null;const o=()=>{e&&!e.destroyed&&e.initialized&&(n("beforeResize"),n("resize"))},a=()=>{e&&!e.destroyed&&e.initialized&&n("orientationchange")};t("init",()=>{e.params.resizeObserver&&void 0!==r.ResizeObserver?e&&!e.destroyed&&e.initialized&&(s=new ResizeObserver(t=>{i=r.requestAnimationFrame(()=>{const{width:n,height:r}=e;let s=n,i=r;t.forEach(({contentBoxSize:t,contentRect:n,target:r})=>{r&&r!==e.el||(s=n?n.width:(t[0]||t).inlineSize,i=n?n.height:(t[0]||t).blockSize)}),s===n&&i===r||o()})}),s.observe(e.el)):(r.addEventListener("resize",o),r.addEventListener("orientationchange",a))}),t("destroy",()=>{i&&r.cancelAnimationFrame(i),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null),r.removeEventListener("resize",o),r.removeEventListener("orientationchange",a)})},function({swiper:e,extendParams:t,on:n,emit:r}){const s=[],i=yn(),o=(t,n={})=>{const o=new(i.MutationObserver||i.WebkitMutationObserver)(t=>{if(e.__preventObserver__)return;if(1===t.length)return void r("observerUpdate",t[0]);const n=function(){r("observerUpdate",t[0])};i.requestAnimationFrame?i.requestAnimationFrame(n):i.setTimeout(n,0)});o.observe(t,{attributes:void 0===n.attributes||n.attributes,childList:e.isElement||(void 0===n.childList||n).childList,characterData:void 0===n.characterData||n.characterData}),s.push(o)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",()=>{if(e.params.observer){if(e.params.observeParents){const t=On(e.hostEl);for(let e=0;e<t.length;e+=1)o(t[e])}o(e.hostEl,{childList:e.params.observeSlideChildren}),o(e.wrapperEl,{attributes:!1})}}),n("destroy",()=>{s.forEach(e=>{e.disconnect()}),s.splice(0,s.length)})}]);const gr=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_snapToSlideEdge","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function xr(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)&&!e.__swiper__}function yr(e,t){const n=["__proto__","constructor","prototype"];Object.keys(t).filter(e=>n.indexOf(e)<0).forEach(n=>{void 0===e[n]?e[n]=t[n]:xr(t[n])&&xr(e[n])&&Object.keys(t[n]).length>0?t[n].__swiper__?e[n]=t[n]:yr(e[n],t[n]):e[n]=t[n]})}function vr(e={}){return e.navigation&&void 0===e.navigation.nextEl&&void 0===e.navigation.prevEl}function br(e={}){return e.pagination&&void 0===e.pagination.el}function wr(e={}){return e.scrollbar&&void 0===e.scrollbar.el}function kr(e=""){const t=e.split(" ").map(e=>e.trim()).filter(e=>!!e),n=[];return t.forEach(e=>{n.indexOf(e)<0&&n.push(e)}),n.join(" ")}function jr(e=""){return e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}function Nr(){return Nr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nr.apply(this,arguments)}function Cr(e){return e.type&&e.type.displayName&&e.type.displayName.includes("SwiperSlide")}function Sr(e){const t=[];return s.Children.toArray(e).forEach(e=>{Cr(e)?t.push(e):e.props&&e.props.children&&Sr(e.props.children).forEach(e=>t.push(e))}),t}function Er(e){const t=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return s.Children.toArray(e).forEach(e=>{if(Cr(e))t.push(e);else if(e.props&&e.props.slot&&n[e.props.slot])n[e.props.slot].push(e);else if(e.props&&e.props.children){const r=Sr(e.props.children);r.length>0?r.forEach(e=>t.push(e)):n["container-end"].push(e)}else n["container-end"].push(e)}),{slides:t,slots:n}}function Tr(e,t){return"undefined"==typeof window?r.useEffect(e,t):r.useLayoutEffect(e,t)}const Ar=r.createContext(null),Mr=r.createContext(null),Dr=r.forwardRef(({className:e,tag:t="div",wrapperTag:n="div",children:i,onSwiper:o,...a}={},l)=>{let c=!1;const[d,u]=r.useState("swiper"),[h,p]=r.useState(null),[m,f]=r.useState(!1),g=r.useRef(!1),x=r.useRef(null),y=r.useRef(null),v=r.useRef(null),b=r.useRef(null),w=r.useRef(null),k=r.useRef(null),j=r.useRef(null),N=r.useRef(null),{params:C,passedParams:S,rest:E,events:T}=function(e={},t=!0){const n={on:{}},r={},s={};yr(n,ur),n._emitClasses=!0,n.init=!1;const i={},o=gr.map(e=>e.replace(/_/,"")),a=Object.assign({},e);return Object.keys(a).forEach(a=>{void 0!==e[a]&&(o.indexOf(a)>=0?xr(e[a])?(n[a]={},s[a]={},yr(n[a],e[a]),yr(s[a],e[a])):(n[a]=e[a],s[a]=e[a]):0===a.search(/on[A-Z]/)&&"function"==typeof e[a]?t?r[`${a[2].toLowerCase()}${a.substr(3)}`]=e[a]:n.on[`${a[2].toLowerCase()}${a.substr(3)}`]=e[a]:i[a]=e[a])}),["navigation","pagination","scrollbar"].forEach(e=>{!0===n[e]&&(n[e]={}),!1===n[e]&&delete n[e]}),{params:n,passedParams:s,rest:i,events:r}}(a),{slides:A,slots:M}=Er(i),D=()=>{f(!m)};Object.assign(C.on,{_containerClasses(e,t){u(t)}});const O=()=>{Object.assign(C.on,T),c=!0;const e={...C};if(delete e.wrapperClass,y.current=new fr(e),y.current.virtual&&y.current.params.virtual.enabled){y.current.virtual.slides=A;const e={cache:!1,slides:A,renderExternal:p,renderExternalUpdate:!1};yr(y.current.params.virtual,e),yr(y.current.originalParams.virtual,e)}};x.current||O(),y.current&&y.current.on("_beforeBreakpoint",D);return r.useEffect(()=>()=>{y.current&&y.current.off("_beforeBreakpoint",D)}),r.useEffect(()=>{!g.current&&y.current&&(y.current.emitSlidesClasses(),g.current=!0)}),Tr(()=>{if(l&&(l.current=x.current),x.current)return y.current.destroyed&&O(),function({el:e,nextEl:t,prevEl:n,paginationEl:r,scrollbarEl:s,swiper:i},o){vr(o)&&t&&n&&(i.params.navigation.nextEl=t,i.originalParams.navigation.nextEl=t,i.params.navigation.prevEl=n,i.originalParams.navigation.prevEl=n),br(o)&&r&&(i.params.pagination.el=r,i.originalParams.pagination.el=r),wr(o)&&s&&(i.params.scrollbar.el=s,i.originalParams.scrollbar.el=s),i.init(e)}({el:x.current,nextEl:w.current,prevEl:k.current,paginationEl:j.current,scrollbarEl:N.current,swiper:y.current},C),o&&!y.current.destroyed&&o(y.current),()=>{y.current&&!y.current.destroyed&&y.current.destroy(!0,!1)}},[]),Tr(()=>{!c&&T&&y.current&&Object.keys(T).forEach(e=>{y.current.on(e,T[e])});const e=function(e,t,n,r,s){const i=[];if(!t)return i;const o=e=>{i.indexOf(e)<0&&i.push(e)};if(n&&r){const e=r.map(s),t=n.map(s);e.join("")!==t.join("")&&o("children"),r.length!==n.length&&o("children")}return gr.filter(e=>"_"===e[0]).map(e=>e.replace(/_/,"")).forEach(n=>{if(n in e&&n in t)if(xr(e[n])&&xr(t[n])){const r=Object.keys(e[n]),s=Object.keys(t[n]);r.length!==s.length?o(n):(r.forEach(r=>{e[n][r]!==t[n][r]&&o(n)}),s.forEach(r=>{e[n][r]!==t[n][r]&&o(n)}))}else e[n]!==t[n]&&o(n)}),i}(S,v.current,A,b.current,e=>e.key);return v.current=S,b.current=A,e.length&&y.current&&!y.current.destroyed&&function({swiper:e,slides:t,passedParams:n,changedParams:r,nextEl:s,prevEl:i,scrollbarEl:o,paginationEl:a}){const l=r.filter(e=>"children"!==e&&"direction"!==e&&"wrapperClass"!==e),{params:c,pagination:d,navigation:u,scrollbar:h,virtual:p,thumbs:m}=e;let f,g,x,y,v,b,w,k;r.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&!n.thumbs.swiper.destroyed&&c.thumbs&&(!c.thumbs.swiper||c.thumbs.swiper.destroyed)&&(f=!0),r.includes("controller")&&n.controller&&n.controller.control&&c.controller&&!c.controller.control&&(g=!0),r.includes("pagination")&&n.pagination&&(n.pagination.el||a)&&(c.pagination||!1===c.pagination)&&d&&!d.el&&(x=!0),r.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||o)&&(c.scrollbar||!1===c.scrollbar)&&h&&!h.el&&(y=!0),r.includes("navigation")&&n.navigation&&(n.navigation.prevEl||i)&&(n.navigation.nextEl||s)&&(c.navigation||!1===c.navigation)&&u&&!u.prevEl&&!u.nextEl&&(v=!0);const j=t=>{e[t]&&(e[t].destroy(),"navigation"===t?(e.isElement&&(e[t].prevEl.remove(),e[t].nextEl.remove()),c[t].prevEl=void 0,c[t].nextEl=void 0,e[t].prevEl=void 0,e[t].nextEl=void 0):(e.isElement&&e[t].el.remove(),c[t].el=void 0,e[t].el=void 0))};r.includes("loop")&&e.isElement&&(c.loop&&!n.loop?b=!0:!c.loop&&n.loop?w=!0:k=!0),l.forEach(e=>{if(xr(c[e])&&xr(n[e]))Object.assign(c[e],n[e]),"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e||!("enabled"in n[e])||n[e].enabled||j(e);else{const t=n[e];!0!==t&&!1!==t||"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e?c[e]=n[e]:!1===t&&j(e)}}),l.includes("controller")&&!g&&e.controller&&e.controller.control&&c.controller&&c.controller.control&&(e.controller.control=c.controller.control),r.includes("children")&&t&&p&&c.virtual.enabled?(p.slides=t,p.update(!0)):r.includes("virtual")&&p&&c.virtual.enabled&&(t&&(p.slides=t),p.update(!0)),r.includes("children")&&t&&c.loop&&(k=!0),f&&m.init()&&m.update(!0);g&&(e.controller.control=c.controller.control),x&&(!e.isElement||a&&"string"!=typeof a||((a=document.createElement("div")).classList.add("swiper-pagination"),a.part.add("pagination"),e.el.appendChild(a)),a&&(c.pagination.el=a),d.init(),d.render(),d.update()),y&&(!e.isElement||o&&"string"!=typeof o||((o=document.createElement("div")).classList.add("swiper-scrollbar"),o.part.add("scrollbar"),e.el.appendChild(o)),o&&(c.scrollbar.el=o),h.init(),h.updateSize(),h.setTranslate()),v&&(e.isElement&&(s&&"string"!=typeof s||((s=document.createElement("div")).classList.add("swiper-button-next"),In(s,e.navigation.arrowSvg),s.part.add("button-next"),e.el.appendChild(s)),i&&"string"!=typeof i||((i=document.createElement("div")).classList.add("swiper-button-prev"),In(i,e.navigation.arrowSvg),i.part.add("button-prev"),e.el.appendChild(i))),s&&(c.navigation.nextEl=s),i&&(c.navigation.prevEl=i),u.init(),u.update()),r.includes("allowSlideNext")&&(e.allowSlideNext=n.allowSlideNext),r.includes("allowSlidePrev")&&(e.allowSlidePrev=n.allowSlidePrev),r.includes("direction")&&e.changeDirection(n.direction,!1),(b||k)&&e.loopDestroy(),(w||k)&&e.loopCreate(),e.update()}({swiper:y.current,slides:A,passedParams:S,changedParams:e,nextEl:w.current,prevEl:k.current,scrollbarEl:N.current,paginationEl:j.current}),()=>{T&&y.current&&Object.keys(T).forEach(e=>{y.current.off(e,T[e])})}}),Tr(()=>{var e;!(e=y.current)||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.emit("_virtualUpdated"),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())},[h]),s.createElement(t,Nr({ref:x,className:kr(`${d}${e?` ${e}`:""}`)},E),s.createElement(Mr.Provider,{value:y.current},M["container-start"],s.createElement(n,{className:jr(C.wrapperClass)},M["wrapper-start"],C.virtual?function(e,t,n){if(!n)return null;const r=e=>{let n=e;return e<0?n=t.length+e:n>=t.length&&(n-=t.length),n},i=e.isHorizontal()?{[e.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:o,to:a}=n,l=e.params.loop?-t.length:0,c=e.params.loop?2*t.length:t.length,d=[];for(let s=l;s<c;s+=1)s>=o&&s<=a&&d.push(t[r(s)]);return d.map((t,n)=>s.cloneElement(t,{swiper:e,style:i,key:t.props.virtualIndex||t.key||`slide-${n}`}))}(y.current,A,h):A.map((e,t)=>s.cloneElement(e,{swiper:y.current,swiperSlideIndex:t})),M["wrapper-end"]),vr(C)&&s.createElement(s.Fragment,null,s.createElement("div",{ref:k,className:"swiper-button-prev"}),s.createElement("div",{ref:w,className:"swiper-button-next"})),wr(C)&&s.createElement("div",{ref:N,className:"swiper-scrollbar"}),br(C)&&s.createElement("div",{ref:j,className:"swiper-pagination"}),M["container-end"]))});Dr.displayName="Swiper";const Or=r.forwardRef(({tag:e="div",children:t,className:n="",swiper:i,zoom:o,lazy:a,virtualIndex:l,swiperSlideIndex:c,...d}={},u)=>{const h=r.useRef(null),[p,m]=r.useState("swiper-slide"),[f,g]=r.useState(!1);function x(e,t,n){t===h.current&&m(n)}Tr(()=>{if(void 0!==c&&(h.current.swiperSlideIndex=c),u&&(u.current=h.current),h.current&&i){if(!i.destroyed)return i.on("_slideClass",x),()=>{i&&i.off("_slideClass",x)};"swiper-slide"!==p&&m("swiper-slide")}}),Tr(()=>{i&&h.current&&!i.destroyed&&m(i.getSlideClasses(h.current))},[i]);const y={isActive:p.indexOf("swiper-slide-active")>=0,isVisible:p.indexOf("swiper-slide-visible")>=0,isPrev:p.indexOf("swiper-slide-prev")>=0,isNext:p.indexOf("swiper-slide-next")>=0},v=()=>"function"==typeof t?t(y):t;return s.createElement(e,Nr({ref:h,className:kr(`${p}${n?` ${n}`:""}`),"data-swiper-slide-index":l,onLoad:()=>{g(!0)}},d),o&&s.createElement(Ar.Provider,{value:y},s.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":"number"==typeof o?o:void 0},v(),a&&!f&&s.createElement("div",{className:"swiper-lazy-preloader",ref:e=>{e&&(e.lazyPreloaderManaged=!0)}}))),!o&&s.createElement(Ar.Provider,{value:y},v(),a&&!f&&s.createElement("div",{className:"swiper-lazy-preloader",ref:e=>{e&&(e.lazyPreloaderManaged=!0)}})))});function Pr(e,t,n,r){return e.params.createElements&&Object.keys(r).forEach(s=>{if(!n[s]&&!0===n.auto){let i=En(e.el,`.${r[s]}`)[0];i||(i=An("div",r[s]),i.className=r[s],e.el.append(i)),n[s]=i,t[s]=i}}),n}Or.displayName="SwiperSlide";const _r='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function Ir({swiper:e,extendParams:t,on:n,emit:r}){function s(t){let n;return t&&"string"==typeof t&&e.isElement&&(n=e.el.querySelector(t)||e.hostEl.querySelector(t),n)?n:(t&&("string"==typeof t&&(n=[...document.querySelectorAll(t)]),e.params.uniqueNavElements&&"string"==typeof t&&n&&n.length>1&&1===e.el.querySelectorAll(t).length?n=e.el.querySelector(t):n&&1===n.length&&(n=n[0])),t&&!n?t:n)}function i(t,n){const r=e.params.navigation;(t=_n(t)).forEach(t=>{t&&(t.classList[n?"add":"remove"](...r.disabledClass.split(" ")),"BUTTON"===t.tagName&&(t.disabled=n),e.params.watchOverflow&&e.enabled&&t.classList[e.isLocked?"add":"remove"](r.lockClass))})}function o(){const{nextEl:t,prevEl:n}=e.navigation;if(e.params.loop)return i(n,!1),void i(t,!1);i(n,e.isBeginning&&!e.params.rewind),i(t,e.isEnd&&!e.params.rewind)}function a(t){t.preventDefault(),(!e.isBeginning||e.params.loop||e.params.rewind)&&(e.slidePrev(),r("navigationPrev"))}function l(t){t.preventDefault(),(!e.isEnd||e.params.loop||e.params.rewind)&&(e.slideNext(),r("navigationNext"))}function c(){const t=e.params.navigation;if(e.params.navigation=Pr(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!t.nextEl&&!t.prevEl)return;let n=s(t.nextEl),r=s(t.prevEl);Object.assign(e.navigation,{nextEl:n,prevEl:r}),n=_n(n),r=_n(r);const i=(n,r)=>{if(n){if(t.addIcons&&n.matches(".swiper-button-next,.swiper-button-prev")&&!n.querySelector("svg")){const e=document.createElement("div");In(e,_r),n.appendChild(e.querySelector("svg")),e.remove()}n.addEventListener("click","next"===r?l:a)}!e.enabled&&n&&n.classList.add(...t.lockClass.split(" "))};n.forEach(e=>i(e,"next")),r.forEach(e=>i(e,"prev"))}function d(){let{nextEl:t,prevEl:n}=e.navigation;t=_n(t),n=_n(n);const r=(t,n)=>{t.removeEventListener("click","next"===n?l:a),t.classList.remove(...e.params.navigation.disabledClass.split(" "))};t.forEach(e=>r(e,"next")),n.forEach(e=>r(e,"prev"))}t({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null,arrowSvg:_r},n("init",()=>{!1===e.params.navigation.enabled?u():(c(),o())}),n("toEdge fromEdge lock unlock",()=>{o()}),n("destroy",()=>{d()}),n("enable disable",()=>{let{nextEl:t,prevEl:n}=e.navigation;t=_n(t),n=_n(n),e.enabled?o():[...t,...n].filter(e=>!!e).forEach(t=>t.classList.add(e.params.navigation.lockClass))}),n("click",(t,n)=>{let{nextEl:s,prevEl:i}=e.navigation;s=_n(s),i=_n(i);const o=n.target;let a=i.includes(o)||s.includes(o);if(e.isElement&&!a){const e=n.path||n.composedPath&&n.composedPath();e&&(a=e.find(e=>s.includes(e)||i.includes(e)))}if(e.params.navigation.hideOnClick&&!a){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===o||e.pagination.el.contains(o)))return;let t;s.length?t=s[0].classList.contains(e.params.navigation.hiddenClass):i.length&&(t=i[0].classList.contains(e.params.navigation.hiddenClass)),r(!0===t?"navigationShow":"navigationHide"),[...s,...i].filter(e=>!!e).forEach(t=>t.classList.toggle(e.params.navigation.hiddenClass))}});const u=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),d()};Object.assign(e.navigation,{enable:()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),c(),o()},disable:u,update:o,init:c,destroy:d})}function Lr(e=""){return`.${e.trim().replace(/([\.:!+\/()[\]#>~*^$|=,'"@{}\\])/g,"\\$1").replace(/ /g,".")}`}function Rr({swiper:e,extendParams:t,on:n,emit:r}){const s="swiper-pagination";let i;t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:e=>e,formatFractionTotal:e=>e,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),e.pagination={el:null,bullets:[]};let o=0;function a(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&0===e.pagination.el.length}function l(t,n){const{bulletActiveClass:r}=e.params.pagination;t&&(t=t[("prev"===n?"previous":"next")+"ElementSibling"])&&(t.classList.add(`${r}-${n}`),(t=t[("prev"===n?"previous":"next")+"ElementSibling"])&&t.classList.add(`${r}-${n}-${n}`))}function c(t){const n=t.target.closest(Lr(e.params.pagination.bulletClass));if(!n)return;t.preventDefault();const r=Dn(n)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===r)return;const t=(s=e.realIndex,i=r,o=e.slides.length,(i%=o)===1+(s%=o)?"next":i===s-1?"previous":void 0);"next"===t?e.slideNext():"previous"===t?e.slidePrev():e.slideToLoop(r)}else e.slideTo(r);var s,i,o}function d(){const t=e.rtl,n=e.params.pagination;if(a())return;let s,c,d=e.pagination.el;d=_n(d);const u=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,h=e.params.loop?Math.ceil(u/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(c=e.previousRealIndex||0,s=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):void 0!==e.snapIndex?(s=e.snapIndex,c=e.previousSnapIndex):(c=e.previousIndex||0,s=e.activeIndex||0),"bullets"===n.type&&e.pagination.bullets&&e.pagination.bullets.length>0){const r=e.pagination.bullets;let a,u,h;if(n.dynamicBullets&&(i=Pn(r[0],e.isHorizontal()?"width":"height"),d.forEach(t=>{t.style[e.isHorizontal()?"width":"height"]=i*(n.dynamicMainBullets+4)+"px"}),n.dynamicMainBullets>1&&void 0!==c&&(o+=s-(c||0),o>n.dynamicMainBullets-1?o=n.dynamicMainBullets-1:o<0&&(o=0)),a=Math.max(s-o,0),u=a+(Math.min(r.length,n.dynamicMainBullets)-1),h=(u+a)/2),r.forEach(e=>{const t=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(e=>`${n.bulletActiveClass}${e}`)].map(e=>"string"==typeof e&&e.includes(" ")?e.split(" "):e).flat();e.classList.remove(...t)}),d.length>1)r.forEach(t=>{const r=Dn(t);r===s?t.classList.add(...n.bulletActiveClass.split(" ")):e.isElement&&t.setAttribute("part","bullet"),n.dynamicBullets&&(r>=a&&r<=u&&t.classList.add(...`${n.bulletActiveClass}-main`.split(" ")),r===a&&l(t,"prev"),r===u&&l(t,"next"))});else{const t=r[s];if(t&&t.classList.add(...n.bulletActiveClass.split(" ")),e.isElement&&r.forEach((e,t)=>{e.setAttribute("part",t===s?"bullet-active":"bullet")}),n.dynamicBullets){const e=r[a],t=r[u];for(let s=a;s<=u;s+=1)r[s]&&r[s].classList.add(...`${n.bulletActiveClass}-main`.split(" "));l(e,"prev"),l(t,"next")}}if(n.dynamicBullets){const s=Math.min(r.length,n.dynamicMainBullets+4),o=(i*s-i)/2-h*i,a=t?"right":"left";r.forEach(t=>{t.style[e.isHorizontal()?a:"top"]=`${o}px`})}}d.forEach((t,i)=>{if("fraction"===n.type&&(t.querySelectorAll(Lr(n.currentClass)).forEach(e=>{e.textContent=n.formatFractionCurrent(s+1)}),t.querySelectorAll(Lr(n.totalClass)).forEach(e=>{e.textContent=n.formatFractionTotal(h)})),"progressbar"===n.type){let r;r=n.progressbarOpposite?e.isHorizontal()?"vertical":"horizontal":e.isHorizontal()?"horizontal":"vertical";const i=(s+1)/h;let o=1,a=1;"horizontal"===r?o=i:a=i,t.querySelectorAll(Lr(n.progressbarFillClass)).forEach(t=>{t.style.transform=`translate3d(0,0,0) scaleX(${o}) scaleY(${a})`,t.style.transitionDuration=`${e.params.speed}ms`})}"custom"===n.type&&n.renderCustom?(In(t,n.renderCustom(e,s+1,h)),0===i&&r("paginationRender",t)):(0===i&&r("paginationRender",t),r("paginationUpdate",t)),e.params.watchOverflow&&e.enabled&&t.classList[e.isLocked?"add":"remove"](n.lockClass)})}function u(){const t=e.params.pagination;if(a())return;const n=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let s=e.pagination.el;s=_n(s);let i="";if("bullets"===t.type){let r=e.params.loop?Math.ceil(n/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&r>n&&(r=n);for(let n=0;n<r;n+=1)t.renderBullet?i+=t.renderBullet.call(e,n,t.bulletClass):i+=`<${t.bulletElement} ${e.isElement?'part="bullet"':""} class="${t.bulletClass}"></${t.bulletElement}>`}"fraction"===t.type&&(i=t.renderFraction?t.renderFraction.call(e,t.currentClass,t.totalClass):`<span class="${t.currentClass}"></span> / <span class="${t.totalClass}"></span>`),"progressbar"===t.type&&(i=t.renderProgressbar?t.renderProgressbar.call(e,t.progressbarFillClass):`<span class="${t.progressbarFillClass}"></span>`),e.pagination.bullets=[],s.forEach(n=>{"custom"!==t.type&&In(n,i||""),"bullets"===t.type&&e.pagination.bullets.push(...n.querySelectorAll(Lr(t.bulletClass)))}),"custom"!==t.type&&r("paginationRender",s[0])}function h(){e.params.pagination=Pr(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const t=e.params.pagination;if(!t.el)return;let n;"string"==typeof t.el&&e.isElement&&(n=e.el.querySelector(t.el)),n||"string"!=typeof t.el||(n=[...document.querySelectorAll(t.el)]),n||(n=t.el),n&&0!==n.length&&(e.params.uniqueNavElements&&"string"==typeof t.el&&Array.isArray(n)&&n.length>1&&(n=[...e.el.querySelectorAll(t.el)],n.length>1&&(n=n.find(t=>On(t,".swiper")[0]===e.el))),Array.isArray(n)&&1===n.length&&(n=n[0]),Object.assign(e.pagination,{el:n}),n=_n(n),n.forEach(n=>{"bullets"===t.type&&t.clickable&&n.classList.add(...(t.clickableClass||"").split(" ")),n.classList.add(t.modifierClass+t.type),n.classList.add(e.isHorizontal()?t.horizontalClass:t.verticalClass),"bullets"===t.type&&t.dynamicBullets&&(n.classList.add(`${t.modifierClass}${t.type}-dynamic`),o=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),"progressbar"===t.type&&t.progressbarOpposite&&n.classList.add(t.progressbarOppositeClass),t.clickable&&n.addEventListener("click",c),e.enabled||n.classList.add(t.lockClass)}))}function p(){const t=e.params.pagination;if(a())return;let n=e.pagination.el;n&&(n=_n(n),n.forEach(n=>{n.classList.remove(t.hiddenClass),n.classList.remove(t.modifierClass+t.type),n.classList.remove(e.isHorizontal()?t.horizontalClass:t.verticalClass),t.clickable&&(n.classList.remove(...(t.clickableClass||"").split(" ")),n.removeEventListener("click",c))})),e.pagination.bullets&&e.pagination.bullets.forEach(e=>e.classList.remove(...t.bulletActiveClass.split(" ")))}n("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const t=e.params.pagination;let{el:n}=e.pagination;n=_n(n),n.forEach(n=>{n.classList.remove(t.horizontalClass,t.verticalClass),n.classList.add(e.isHorizontal()?t.horizontalClass:t.verticalClass)})}),n("init",()=>{!1===e.params.pagination.enabled?m():(h(),u(),d())}),n("activeIndexChange",()=>{void 0===e.snapIndex&&d()}),n("snapIndexChange",()=>{d()}),n("snapGridLengthChange",()=>{u(),d()}),n("destroy",()=>{p()}),n("enable disable",()=>{let{el:t}=e.pagination;t&&(t=_n(t),t.forEach(t=>t.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),n("lock unlock",()=>{d()}),n("click",(t,n)=>{const s=n.target,i=_n(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&i&&i.length>0&&!s.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&s===e.navigation.nextEl||e.navigation.prevEl&&s===e.navigation.prevEl))return;const t=i[0].classList.contains(e.params.pagination.hiddenClass);r(!0===t?"paginationShow":"paginationHide"),i.forEach(t=>t.classList.toggle(e.params.pagination.hiddenClass))}});const m=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:t}=e.pagination;t&&(t=_n(t),t.forEach(t=>t.classList.add(e.params.pagination.paginationDisabledClass))),p()};Object.assign(e.pagination,{enable:()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:t}=e.pagination;t&&(t=_n(t),t.forEach(t=>t.classList.remove(e.params.pagination.paginationDisabledClass))),h(),u(),d()},disable:m,render:u,update:d,init:h,destroy:p})}function zr({swiper:e,extendParams:t,on:n,emit:r,params:s}){let i,o;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let a,l,c,d,u,h,p,m=s&&s.autoplay?s.autoplay.delay:3e3,f=s&&s.autoplay?s.autoplay.delay:3e3,g=(new Date).getTime();function x(t){e&&!e.destroyed&&e.wrapperEl&&t.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",x),p||t.detail&&t.detail.bySwiperTouchMove||N())}const y=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?l=!0:l&&(f=a,l=!1);const t=e.autoplay.paused?a:g+f-(new Date).getTime();e.autoplay.timeLeft=t,r("autoplayTimeLeft",t,t/m),o=requestAnimationFrame(()=>{y()})},v=()=>{let t=e.params.autoplay.delay;const n=(()=>{let t;if(t=e.virtual&&e.params.virtual.enabled?e.slides.find(e=>e.classList.contains("swiper-slide-active")):e.slides[e.activeIndex],!t)return;return parseInt(t.getAttribute("data-swiper-autoplay"),10)})();return!Number.isNaN(n)&&n>0&&(t=n),t},b=t=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(o),y();let n=t;void 0===n&&(n=v(),m=n,f=n),a=n;const s=e.params.speed,l=()=>{e&&!e.destroyed&&(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(s,!0,!0),r("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,s,!0,!0),r("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(s,!0,!0),r("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,s,!0,!0),r("autoplay")),e.params.cssMode&&(g=(new Date).getTime(),requestAnimationFrame(()=>{b()})))};return n>0?(clearTimeout(i),i=setTimeout(()=>{l()},n)):requestAnimationFrame(()=>{l()}),n},w=()=>{g=(new Date).getTime(),e.autoplay.running=!0,b(),r("autoplayStart")},k=()=>{e.autoplay.running=!1,clearTimeout(i),cancelAnimationFrame(o),r("autoplayStop")},j=(t,n)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(i),t||(h=!0);const s=()=>{r("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",x):N()};if(e.autoplay.paused=!0,n)return void s();const o=a||e.params.autoplay.delay;a=o-((new Date).getTime()-g),e.isEnd&&a<0&&!e.params.loop||(a<0&&(a=0),s())},N=()=>{e.isEnd&&a<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(g=(new Date).getTime(),h?(h=!1,b(a)):b(),e.autoplay.paused=!1,r("autoplayResume"))},C=()=>{if(e.destroyed||!e.autoplay.running)return;const t=gn();"hidden"===t.visibilityState&&(h=!0,j(!0)),"visible"===t.visibilityState&&N()},S=t=>{"mouse"===t.pointerType&&(h=!0,p=!0,e.animating||e.autoplay.paused||j(!0))},E=t=>{"mouse"===t.pointerType&&(p=!1,e.autoplay.paused&&N())};n("init",()=>{e.params.autoplay.enabled&&(e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",S),e.el.addEventListener("pointerleave",E)),gn().addEventListener("visibilitychange",C),w())}),n("destroy",()=>{e.el&&"string"!=typeof e.el&&(e.el.removeEventListener("pointerenter",S),e.el.removeEventListener("pointerleave",E)),gn().removeEventListener("visibilitychange",C),e.autoplay.running&&k()}),n("_freeModeStaticRelease",()=>{(d||h)&&N()}),n("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?k():j(!0,!0)}),n("beforeTransitionStart",(t,n,r)=>{!e.destroyed&&e.autoplay.running&&(r||!e.params.autoplay.disableOnInteraction?j(!0,!0):k())}),n("sliderFirstMove",()=>{!e.destroyed&&e.autoplay.running&&(e.params.autoplay.disableOnInteraction?k():(c=!0,d=!1,h=!1,u=setTimeout(()=>{h=!0,d=!0,j(!0)},200)))}),n("touchEnd",()=>{if(!e.destroyed&&e.autoplay.running&&c){if(clearTimeout(u),clearTimeout(i),e.params.autoplay.disableOnInteraction)return d=!1,void(c=!1);d&&e.params.cssMode&&N(),d=!1,c=!1}}),n("slideChange",()=>{!e.destroyed&&e.autoplay.running&&e.autoplay.paused&&(a=v(),m=v())}),Object.assign(e.autoplay,{start:w,stop:k,pause:j,resume:N})}var Fr,Br={exports:{}};var $r,Vr,qr=(Fr||(Fr=1,Vr=function(){var e=JSON.parse('{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","":"cent","":"pound","":"currency","":"yen","":"(c)","":"a","":"(r)","":"o","":"A","":"A","":"A","":"A","":"A","":"A","":"AE","":"C","":"E","":"E","":"E","":"E","":"I","":"I","":"I","":"I","":"D","":"N","":"O","":"O","":"O","":"O","":"O","":"O","":"U","":"U","":"U","":"U","":"Y","":"TH","":"ss","":"a","":"a","":"a","":"a","":"a","":"a","":"ae","":"c","":"e","":"e","":"e","":"e","":"i","":"i","":"i","":"i","":"d","":"n","":"o","":"o","":"o","":"o","":"o","":"o","":"u","":"u","":"u","":"u","":"y","":"th","":"y","":"A","":"a","":"A","":"a","":"A","":"a","":"C","":"c","":"C","":"c","":"D","":"d","":"DJ","":"dj","":"E","":"e","":"E","":"e","":"e","":"e","":"E","":"e","":"G","":"g","":"G","":"g","":"I","":"i","":"i","":"i","":"I","":"i","":"I","":"i","":"k","":"k","":"L","":"l","":"L","":"l","":"L","":"l","":"N","":"n","":"N","":"n","":"N","":"n","":"O","":"o","":"O","":"o","":"OE","":"oe","":"R","":"r","":"R","":"r","":"S","":"s","":"S","":"s","":"S","":"s","":"T","":"t","":"T","":"t","":"U","":"u","":"u","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"z","":"Z","":"z","":"Z","":"z","":"E","":"f","":"O","":"o","":"U","":"u","":"LJ","":"lj","":"NJ","":"nj","":"S","":"s","":"T","":"t","":"e","":"o","":"A","":"E","":"H","":"I","":"O","":"Y","":"W","":"i","":"A","":"B","":"G","":"D","":"E","":"Z","":"H","":"8","":"I","":"K","":"L","":"M","":"N","":"3","":"O","":"P","":"R","":"S","":"T","":"Y","":"F","":"X","":"PS","":"W","":"I","":"Y","":"a","":"e","":"h","":"i","":"y","":"a","":"b","":"g","":"d","":"e","":"z","":"h","":"8","":"i","":"k","":"l","":"m","":"n","":"3","":"o","":"p","":"r","":"s","":"s","":"t","":"y","":"f","":"x","":"ps","":"w","":"i","":"y","":"o","":"y","":"w","":"Yo","":"DJ","":"Ye","":"I","":"Yi","":"J","":"LJ","":"NJ","":"C","":"DZ","":"A","":"B","":"V","":"G","":"D","":"E","":"Zh","":"Z","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"S","":"T","":"U","":"F","":"H","":"C","":"Ch","":"Sh","":"Sh","":"U","":"Y","":"","":"E","":"Yu","":"Ya","":"a","":"b","":"v","":"g","":"d","":"e","":"zh","":"z","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"f","":"h","":"c","":"ch","":"sh","":"sh","":"u","":"y","":"","":"e","":"yu","":"ya","":"yo","":"dj","":"ye","":"i","":"yi","":"j","":"lj","":"nj","":"c","":"u","":"dz","":"G","":"g","":"GH","":"gh","":"KH","":"kh","":"NG","":"ng","":"UE","":"ue","":"U","":"u","":"H","":"h","":"AE","":"ae","":"OE","":"oe","":"A","":"B","":"G","":"D","":"E","":"Z","":"E\'","":"Y\'","":"T\'","":"JH","":"I","":"L","":"X","":"C\'","":"K","":"H","":"D\'","":"GH","":"TW","":"M","":"Y","":"N","":"SH","":"CH","":"P","":"J","":"R\'","":"S","":"V","":"T","":"R","":"C","":"P\'","":"Q\'","":"O\'\'","":"F","":"EV","":"a","":"aa","":"a","":"u","":"i","":"e","":"a","":"b","":"h","":"t","":"th","":"j","":"h","":"kh","":"d","":"th","":"r","":"z","":"s","":"sh","":"s","":"dh","":"t","":"z","":"a","":"gh","":"f","":"q","":"k","":"l","":"m","":"n","":"h","":"w","":"a","":"y","":"an","":"on","":"en","":"a","":"u","":"e","":"","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"p","":"ch","":"zh","":"k","":"g","":"y","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"baht","":"a","":"b","":"g","":"d","":"e","":"v","":"z","":"t","":"i","":"k","":"l","":"m","":"n","":"o","":"p","":"zh","":"r","":"s","":"t","":"u","":"f","":"k","":"gh","":"q","":"sh","":"ch","":"ts","":"dz","":"ts","":"ch","":"kh","":"j","":"h","":"S","":"s","":"W","":"w","":"W","":"w","":"W","":"w","":"SS","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"I","":"i","":"I","":"i","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"Y","":"y","":"Y","":"y","":"Y","":"y","":"Y","":"y","":"-","":"\'","":"\'","":"\\"","":"\\"","":"\\"","":"+","":"*","":"...","":"ecu","":"cruzeiro","":"french franc","":"lira","":"mill","":"naira","":"peseta","":"rupee","":"won","":"new shequel","":"dong","":"euro","":"kip","":"tugrik","":"drachma","":"penny","":"peso","":"guarani","":"austral","":"hryvnia","":"cedi","":"kazakhstani tenge","":"indian rupee","":"turkish lira","":"russian ruble","":"bitcoin","":"sm","":"tm","":"d","":"delta","":"sum","":"infinity","":"love","":"yuan","":"yen","":"rial","":"laa","":"laa","":"lai","":"la"}'),t=JSON.parse('{"bg":{"":"Y","":"Ts","":"Sht","":"A","":"Y","":"y","":"ts","":"sht","":"a","":"y"},"de":{"":"AE","":"ae","":"OE","":"oe","":"UE","":"ue","":"ss","%":"prozent","&":"und","|":"oder","":"summe","":"unendlich","":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","":"centavos","":"libras","":"moneda","":"francos","":"suma","":"infinito","":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","":"centime","":"livre","":"devise","":"franc","":"somme","":"infini","":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","":"centavo","":"soma","":"libra","":"infinito","":"amor"},"uk":{"":"Y","":"y","":"Y","":"y","":"Ts","":"ts","":"Kh","":"kh","":"Shch","":"shch","":"H","":"h"},"vi":{"":"D","":"d"},"da":{"":"OE","":"oe","":"AA","":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"strre end"},"nb":{"&":"og","":"AA","":"AE","":"OE","":"aa","":"ae","":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","":"AA","":"AE","":"OE","":"aa","":"ae","":"oe"}}');function n(n,r){if("string"!=typeof n)throw new Error("slugify: string argument expected");var s=t[(r="string"==typeof r?{replacement:r}:r||{}).locale]||{},i=void 0===r.replacement?"-":r.replacement,o=void 0===r.trim||r.trim,a=n.normalize().split("").reduce(function(t,n){var o=s[n];return void 0===o&&(o=e[n]),void 0===o&&(o=n),o===i&&(o=" "),t+o.replace(r.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return r.strict&&(a=a.replace(/[^A-Za-z0-9\s]/g,"")),o&&(a=a.trim()),a=a.replace(/\s+/g,i),r.lower&&(a=a.toLowerCase()),a}return n.extend=function(t){Object.assign(e,t)},n},($r=Br).exports=Vr(),$r.exports.default=Vr()),Br.exports);const Hr=n(qr),Ur={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},Wr={date:Re({formats:{full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},defaultWidth:"full"}),time:Re({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:Re({formats:{full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Gr={lastWeek:e=>{const t=e.getDay();return"'"+(0===t||6===t?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},Kr={ordinalNumber:(e,t)=>{const n=Number(e);return"week"===t?.unit?n+"":n+""},era:ze({values:{narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},defaultWidth:"wide"}),quarter:ze({values:{narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:ze({values:{narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},defaultWidth:"wide"}),day:ze({values:{narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},defaultWidth:"wide"}),dayPeriod:ze({values:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},defaultFormattingWidth:"wide"})},Jr={ordinalNumber:Be({matchPattern:/^(\d+)[o]?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:Fe({matchPatterns:{narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},defaultParseWidth:"any"}),quarter:Fe({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:Fe({matchPatterns:{narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},defaultParseWidth:"any"}),day:Fe({matchPatterns:{narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},defaultMatchWidth:"wide",parsePatterns:{short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},defaultParseWidth:"any"}),dayPeriod:Fe({matchPatterns:{narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},defaultParseWidth:"any"})},Yr={code:"pt-BR",formatDistance:(e,t,n)=>{let r;const s=Ur[e];return r="string"==typeof s?s:1===t?s.one:s.other.replace("{{count}}",String(t)),n?.addSuffix?n.comparison&&n.comparison>0?"em "+r:"h "+r:r},formatLong:Wr,formatRelative:(e,t,n,r)=>{const s=Gr[e];return"function"==typeof s?s(t):s},localize:Kr,match:Jr,options:{weekStartsOn:0,firstWeekContainsDate:1}},Xr=(e,t="dd/MM/yyyy")=>e?$e(new Date(e),t,{locale:Yr}):"",Zr=e=>e?$e(new Date(e),"dd 'de' MMMM 'de' yyyy 's' HH:mm",{locale:Yr}):"",Qr=e=>{if(!e)return"";const t=new Date(e),n=new Date,r=Ve(n,t);if(r<1)return"agora mesmo";if(r<60)return`${r} ${1===r?"minuto":"minutos"} atrs`;const s=qe(n,t);if(s<24)return`${s} ${1===s?"hora":"horas"} atrs`;const i=He(n,t);return i<7?0===i?"hoje":1===i?"ontem":`${i} dias atrs`:$e(t,"dd/MM/yyyy",{locale:Yr})},es=(e,t,n="")=>{const r=encodeURIComponent(e),s=encodeURIComponent(t);return{whatsapp:`https://wa.me/?text=${r}%20${s}`,facebook:`https://www.facebook.com/sharer/sharer.php?u=${s}`,twitter:`https://twitter.com/intent/tweet?text=${r}&url=${s}`,telegram:`https://t.me/share/url?url=${s}&text=${r}`}},ts=({post:e,variant:t="default",hideAuthor:n=!1})=>{const{id:s,title:i,excerpt:a,image:l,author:c,date:d,category:u,slug:h,view_count:p}=e,m=(e=>`/post/${e}`)(h||s),{ref:f,src:b,loading:w,isLoaded:k}=((e,t={})=>{const[n,s]=r.useState(null),[i,o]=r.useState(!0),[a,l]=r.useState(null),c=r.useRef(),d=r.useRef(),{threshold:u=.1,rootMargin:h="50px",placeholder:p='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="400" height="250"%3E%3Crect width="400" height="250" fill="%23e5e7eb"/%3E%3C/svg%3E'}=t;r.useEffect(()=>{if(!e)return;const t=c.current;if(!t)return;if(m(t))return void f();const n=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(f(),n.unobserve(e.target))})},{threshold:u,rootMargin:h});return n.observe(t),d.current=n,()=>{d.current&&d.current.disconnect()}},[e,u,h]);const m=e=>{const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},f=()=>{o(!0),l(null);const t=new Image;t.src=e,t.onload=()=>{s(e),o(!1)},t.onerror=()=>{l(!0),o(!1)}};return{ref:c,src:n||p,loading:i,error:a,isLoaded:!!n}})(l,{threshold:.1,rootMargin:"50px"});return ct.jsxs("article",{className:{default:"card card-hover h-full flex flex-col",horizontal:"card card-hover flex flex-row",featured:"card card-hover border-2 border-teal-primary h-full flex flex-col"}[t],children:[l&&ct.jsx(o,{to:m,className:"block overflow-hidden relative",children:ct.jsxs("div",{className:"relative",children:[ct.jsx("img",{ref:f,src:b,alt:i,className:{default:"w-full h-48 object-cover",horizontal:"w-32 h-32 object-cover rounded-l-lg",featured:"w-full h-64 object-cover"}[t]+" transition-all duration-300 hover:scale-105 "+(w?"opacity-0":"opacity-100")+(k?"":"blur-sm")}),w&&ct.jsx("div",{className:"absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center",children:ct.jsx("div",{className:"w-8 h-8 border-2 border-gray-300 border-t-teal-primary rounded-full animate-spin"})})]})}),ct.jsxs("div",{className:{default:"p-6 flex-1 flex flex-col",horizontal:"p-4 flex-1",featured:"p-6 flex-1 flex flex-col"}[t],children:[u&&ct.jsx(o,{to:`/categoria/${encodeURIComponent(u.toLowerCase())}`,className:"inline-block self-start px-3 py-1 bg-navy text-white text-xs font-semibold rounded-full mb-3 hover:bg-teal-600 transition-colors",children:u}),ct.jsx(o,{to:m,children:ct.jsx("h3",{className:"font-bold text-navy mb-2 hover:text-teal-primary transition-colors "+("featured"===t?"text-2xl":"text-lg"),children:i})}),a&&"horizontal"!==t&&ct.jsx("p",{className:"text-text-secondary text-sm mb-4 line-clamp-3",children:a}),ct.jsxs("div",{className:"flex items-center justify-between text-xs text-text-secondary",children:[ct.jsx("div",{className:"flex items-center space-x-3",children:c&&!n&&ct.jsxs("div",{className:"flex items-center space-x-1",children:[ct.jsx(g,{className:"w-3 h-3"}),ct.jsx("span",{children:c})]})}),ct.jsxs("div",{className:"flex items-center space-x-3",children:[d&&ct.jsxs("div",{className:"flex items-center space-x-1",children:[ct.jsx(x,{className:"w-3 h-3 text-gray-600"}),ct.jsx("span",{className:"font-medium "+("horizontal"===t?"text-gray-900 text-sm":""),title:e.updated_at?`Atualizado em: ${Xr(e.updated_at,"dd/MM/yyyy HH:mm")}`:`Publicado em: ${Xr(d,"dd/MM/yyyy HH:mm")}`,children:Qr(e.updated_at||d)})]}),null!=p&&ct.jsxs("div",{className:"flex items-center space-x-1",children:[ct.jsx(y,{className:"w-3 h-3"}),ct.jsx("span",{children:(j=p,j&&0!==j?j>=1e6?`${(j/1e6).toFixed(1)}M`:j>=1e3?`${(j/1e3).toFixed(1)}K`:j.toString():"0")})]}),"horizontal"===t&&ct.jsx(v,{className:"w-4 h-4 text-teal-primary"})]})]}),"featured"===t&&ct.jsxs(o,{to:m,className:"inline-flex items-center space-x-2 text-teal-primary font-semibold text-sm mt-4 hover:text-teal-900 transition-colors",children:[ct.jsx("span",{children:"Ler mais"}),ct.jsx(v,{className:"w-4 h-4"})]})]})]});var j},ns=({type:e="card"})=>"hero"===e?ct.jsx("div",{className:"animate-pulse",children:ct.jsx("div",{className:"h-96 bg-gray-300 rounded-lg mb-6"})}):"card"===e?ct.jsx("div",{className:"animate-pulse",children:ct.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[ct.jsx("div",{className:"h-48 bg-gray-300"}),ct.jsxs("div",{className:"p-4",children:[ct.jsx("div",{className:"h-4 bg-gray-300 rounded mb-2"}),ct.jsx("div",{className:"h-3 bg-gray-200 rounded mb-2"}),ct.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"})]})]})}):"list"===e?ct.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(e=>ct.jsxs("div",{className:"flex space-x-4",children:[ct.jsx("div",{className:"w-20 h-20 bg-gray-300 rounded"}),ct.jsxs("div",{className:"flex-1",children:[ct.jsx("div",{className:"h-4 bg-gray-300 rounded mb-2"}),ct.jsx("div",{className:"h-3 bg-gray-200 rounded"})]})]},e))}):ct.jsx("div",{className:"flex items-center justify-center py-12",children:ct.jsx(b,{className:"w-8 h-8 animate-spin text-teal-primary"})}),rs=rt("https://yzdskihphlnyligpmnpi.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inl6ZHNraWhwaGxueWxpZ3BtbnBpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzExODgwMjUsImV4cCI6MjA4Njc2NDAyNX0.cA5KYFbVLIB265smUDkXYk9c9YtbAU6kyc1xR_clOuw",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:window.localStorage,storageKey:"opine-agora-auth"}}),ss=(e,t={})=>{if(!e||!e.includes("cloudinary.com"))return e;const{width:n,height:r,crop:s="fill",quality:i="auto",format:o="auto",gravity:a="auto"}=t,l=[];n&&l.push(`w_${n}`),r&&l.push(`h_${r}`),s&&l.push(`c_${s}`),a&&l.push(`g_${a}`),l.push(`q_${i}`,`f_${o}`);const c=l.join(",");return e.replace("/upload/",`/upload/${c}/`)},is=(e=null,t=null)=>{const[n,s]=r.useState([]),[i,o]=r.useState(!0),[a,l]=r.useState(null);return r.useEffect(()=>{const n=async()=>{try{o(!0),l(null);let n=rs.from("posts").select("\n\t\t\t\t\t\tid, \n\t\t\t\t\t\ttitle, \n\t\t\t\t\t\texcerpt, \n\t\t\t\t\t\tslug, \n\t\t\t\t\t\tcategory, \n\t\t\t\t\t\ttags,\n\t\t\t\t\t\tauthor, \n\t\t\t\t\t\tdate, \n\t\t\t\t\t\timage, \n\t\t\t\t\t\tfeatured,\n\t\t\t\t\t\tview_count,\n\t\t\t\t\t\tupdated_at,\n\t\t\t\t\t\tstatus\n\t\t\t\t\t").eq("status","published").order("date",{ascending:!1});e&&"all"!==e&&(n=n.ilike("category",`%${e}%`)),t&&(n=n.limit(t));const{data:r,error:i}=await n;if(i)throw i;const a=await Promise.all(r.map(async e=>({...e,image:e.image?ss(e.image,{width:400,height:250,crop:"fill",quality:"auto",format:"auto"}):null})));s(a)}catch(n){console.error("Error fetching posts:",n),l(n.message)}finally{o(!1)}};n();let r=null;const i=setTimeout(()=>{r=rs.channel("public:posts").on("postgres_changes",{event:"*",schema:"public",table:"posts"},()=>{n()}).subscribe()},100);return()=>{clearTimeout(i),r&&rs.removeChannel(r).catch(()=>{})}},[e,t]),{posts:n,loading:i,error:a}},as=()=>{const[e,t]=r.useState([]),[n,s]=r.useState(!0),[i,o]=r.useState(null);r.useEffect(()=>{a()},[]);const a=async()=>{try{s(!0),o(null);const{data:e,error:n}=await rs.from("newsletter_subscriptions").select("*").order("created_at",{ascending:!1});if(n)throw n;t(e||[])}catch(i){console.error("Error fetching newsletters:",i),o(i.message)}finally{s(!1)}};return{newsletters:e,loading:n,error:i,fetchNewsletters:a,addNewsletter:async e=>{try{const t="127.0.0.1",{data:n,error:r}=await rs.rpc("check_newsletter_rate_limit",{ip_param:t});if(r)console.error("Rate limit check error:",r);else if(!n)throw new Error("Limite de inscries excedido. Tente novamente mais tarde.");const{data:s,error:i}=await rs.rpc("check_email_exists",{email_param:e.trim().toLowerCase()});if(i)console.error("Email check error:",i);else if(!s)throw new Error("Este email j est inscrito na newsletter.");const{data:o,error:l}=await rs.from("newsletter_subscriptions").insert({email:e.trim().toLowerCase(),status:"active"}).select().single();if(l)throw"23505"===l.code?new Error("Este email j est inscrito na newsletter."):new Error("Erro ao adicionar email. Tente novamente.");return await a(),o}catch(i){throw console.error("Error adding newsletter:",i),i}},deleteNewsletter:async e=>{try{const{data:t,error:n}=await rs.from("newsletter_subscriptions").delete().eq("id",e).select();if(n)throw console.error("Supabase delete error:",n),n;await a()}catch(i){throw console.error("Error deleting newsletter:",i),i}},getNewsletterCount:async()=>{try{const{count:e,error:t}=await rs.from("newsletter_subscriptions").select("id",{count:"exact",head:!0});if(t)throw t;return e||0}catch(i){return console.error("Error getting newsletter count:",i),0}}}},ls=()=>{const[e,t]=r.useState([]),[n,s]=r.useState(!0),[i,a]=r.useState(!0);r.useEffect(()=>{sessionStorage.getItem("urgent_ticker_dismissed")&&a(!1);const e=async()=>{try{const{data:e,error:n}=await rs.from("posts").select("id, title, slug").eq("status","published").eq("urgent",!0).order("created_at",{ascending:!1});if(n)throw n;t(e||[])}catch(cR){console.error("Error fetching urgent posts:",cR)}finally{s(!1)}};e();const n=rs.channel("public:posts:urgent").on("postgres_changes",{event:"*",schema:"public",table:"posts",filter:"urgent=eq.true"},()=>{e()}).subscribe();return()=>{rs.removeChannel(n)}},[]);if(n||0===e.length)return null;if(!i)return ct.jsxs(o,{to:"/urgentes",className:"fixed bottom-4 left-4 z-50 bg-[hsl(5,65%,40%)] text-white px-4 py-2 rounded-full shadow-lg flex items-center space-x-2 hover:bg-[hsl(5,65%,30%)] transition-all hover:scale-105 animate-in fade-in slide-in-from-bottom-4 duration-300 group",title:"Ver notcias urgentes",children:[ct.jsxs("span",{className:"relative flex h-3 w-3",children:[ct.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),ct.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),ct.jsxs("span",{className:"font-bold text-sm flex items-center",children:[ct.jsx(w,{className:"w-4 h-4 text-yellow-400 mr-1 fill-yellow-400"}),"NOTCIAS URGENTES"]})]});const l=[...e,...e,...e,...e];return ct.jsxs("div",{className:"w-full bg-[hsl(5,55%,48%)] border-b border-[hsl(5,55%,40%)] overflow-hidden relative z-40 h-10 flex cursor-pointer group shadow-md shrink-0",children:[ct.jsxs(o,{to:"/urgentes",className:"flex w-full h-full items-center decoration-transparent min-w-0",children:[ct.jsxs("div",{className:"bg-[hsl(5,65%,30%)] text-white px-4 h-full flex items-center font-bold text-xs sm:text-sm tracking-widest uppercase shrink-0 z-20 relative shadow-md",children:[ct.jsxs("span",{className:"relative flex h-2 w-2 mr-2",children:[ct.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"}),ct.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-white"})]}),"URGENTE",ct.jsx("div",{className:"absolute right-[-12px] top-0 h-0 w-0 border-t-[20px] border-t-transparent border-l-[12px] border-l-[hsl(5,65%,30%)] border-b-[20px] border-b-transparent"})]}),ct.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden relative h-full flex items-center",children:[ct.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-8 bg-gradient-to-r from-[hsl(5,55%,48%)] to-transparent z-10"}),ct.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-8 bg-gradient-to-l from-[hsl(5,55%,48%)] to-transparent z-10"}),ct.jsx("div",{className:"flex items-center whitespace-nowrap animate-ticker group-hover:pause-animation pl-4 pr-12",children:l.map((e,t)=>ct.jsxs("span",{className:"mx-6 text-white font-medium text-sm inline-flex items-center",children:[ct.jsx("span",{className:"w-1.5 h-1.5 bg-white rounded-full mr-3 opacity-80"}),e.title]},`${e.id}-${t}`))})]})]}),ct.jsx("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),a(!1),sessionStorage.setItem("urgent_ticker_dismissed","true")},className:"absolute right-0 top-0 bottom-0 w-10 flex items-center justify-center bg-[hsl(5,55%,48%)] text-white hover:bg-[hsl(5,55%,40%)] transition-colors z-30","aria-label":"Fechar alerta",children:ct.jsx(k,{className:"w-5 h-5"})})]})},cs=({className:e})=>ct.jsx("svg",{className:e,viewBox:"0 0 24 24",fill:"currentColor",children:ct.jsx("path",{d:"M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"})}),ds={640:{slidesPerView:2},1024:{slidesPerView:3}},us={delay:5e3,disableOnInteraction:!1},hs={clickable:!0},ps=[zr,Rr,Ir],ms=()=>{const[e,t]=r.useState(""),[n,s]=r.useState(!1),[i,a]=r.useState([]),[l,c]=r.useState([]),[d,u]=r.useState([]),[h,p]=r.useState(!0),[m,f]=r.useState(8),{addNewsletter:g}=as(),{posts:x,loading:y,error:v}=is(null,m),{posts:b,loading:w,error:k}=((e=5)=>{const[t,n]=r.useState([]),[s,i]=r.useState(!0),[o,a]=r.useState(null);return r.useEffect(()=>{const t=async()=>{try{i(!0),a(null);const{data:t,error:r}=await rs.from("posts").select("\n\t\t\t\t\t\tid, \n\t\t\t\t\t\ttitle, \n\t\t\t\t\t\texcerpt, \n\t\t\t\t\t\tslug, \n\t\t\t\t\t\tcategory, \n\t\t\t\t\t\ttags,\n\t\t\t\t\t\tauthor, \n\t\t\t\t\t\tdate, \n\t\t\t\t\t\timage, \n\t\t\t\t\t\tfeatured,\n\t\t\t\t\t\tview_count,\n\t\t\t\t\t\tupdated_at,\n\t\t\t\t\t\tstatus\n\t\t\t\t\t").eq("status","published").eq("featured",!0).order("date",{ascending:!1}).limit(e);if(r)throw r;const s=await Promise.all(t.map(async e=>({...e,image:e.image?ss(e.image,{width:600,height:350,crop:"fill",quality:"auto",format:"auto"}):null})));n(s)}catch(t){console.error("Error fetching featured posts:",t),a(t.message)}finally{i(!1)}};t();let r=null;const s=setTimeout(()=>{r=rs.channel("public:posts:featured").on("postgres_changes",{event:"*",schema:"public",table:"posts",filter:"featured=eq.true"},()=>{t()}).subscribe()},100);return()=>{clearTimeout(s),r&&rs.removeChannel(r).catch(()=>{})}},[e]),{posts:t,loading:s,error:o}})(5),{posts:M,loading:D,error:O}=((e=10)=>{const[t,n]=r.useState([]),[s,i]=r.useState(!0),[o,a]=r.useState(null);return r.useEffect(()=>{const t=async()=>{try{const{data:t,error:r}=await rs.rpc("get_popular_posts",{limit_count:e});if(r){const{data:t,error:r}=await rs.from("posts").select("*").eq("status","published").order("view_count",{ascending:!1}).limit(e);if(r)throw r;n(t||[])}else n(t||[])}catch(t){console.error("Error fetching popular posts:",t),a(t.message)}finally{i(!1)}};t();let r=null;const s=setTimeout(()=>{r=rs.channel("public:posts:popular").on("postgres_changes",{event:"*",schema:"public",table:"posts"},()=>{t()}).subscribe()},100);return()=>{clearTimeout(s),r&&rs.removeChannel(r).catch(()=>{})}},[e]),{posts:t,loading:s,error:o}})(5);r.useEffect(()=>{const e=async()=>{try{const{data:e,error:t}=await rs.from("ads").select("*").eq("status","approved").eq("category","footer").order("created_at",{ascending:!1}).limit(6);if(t)throw t;a(e||[]);const{data:n,error:r}=await rs.from("ads").select("*").eq("status","approved").eq("category","banner").order("created_at",{ascending:!1});if(r)throw r;c(n||[]);const{data:s,error:i}=await rs.from("ads").select("*").eq("status","approved").eq("category","sidebar").order("created_at",{ascending:!1});if(i)throw i;u(s||[])}catch(cR){console.error("Error fetching ads:",cR)}finally{p(!1)}};e();let t=null;const n=setTimeout(()=>{t=rs.channel("public:ads").on("postgres_changes",{event:"*",schema:"public",table:"ads"},()=>{e()}).subscribe()},100);return()=>{clearTimeout(n),t&&rs.removeChannel(t).catch(()=>{})}},[]);return y&&0===x.length||w||h||D?ct.jsx("div",{className:"min-h-screen flex items-center justify-center",children:ct.jsxs("div",{className:"text-center",children:[ct.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-primary mx-auto mb-4"}),ct.jsx("p",{className:"text-gray-600",children:"Carregando notcias..."}),ct.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Posts: ",y?"carregando":"carregado"," | Featured: ",w?"carregando":"carregado"," ","| Popular: ",D?"carregando":"carregado"]})]})}):v||k||O?ct.jsx("div",{className:"min-h-screen flex items-center justify-center",children:ct.jsxs("div",{className:"text-center",children:[ct.jsx("p",{className:"text-red-600 mb-2",children:"Erro ao carregar notcias"}),ct.jsx("p",{className:"text-sm text-gray-600",children:v||k||O})]})}):ct.jsxs(ct.Fragment,{children:[ct.jsxs(hn,{children:[ct.jsx("title",{children:"Opine Agora SC - Notcias de Santa Catarina | Portal de Jornalismo Online"}),ct.jsx("meta",{name:"description",content:"Leia as ltimas notcias de Santa Catarina no Opine Agora SC. Poltica, economia, sociedade, esportes, cultura e mais. Jornalismo local com credibilidade e transparncia. Notcias em tempo real de Concrdia e todo o estado."}),ct.jsx("meta",{name:"keywords",content:"Opine Agora SC, notcias Santa Catarina, jornalismo SC, Concrdia SC, poltica catarinense, economia SC, esportes SC, cultura SC, notcias locais, portal de notcias, jornalismo online, Santa Catarina, SC, notcias em tempo real, opinio com credibilidade"}),ct.jsx("meta",{name:"robots",content:"index, follow, max-snippet:-1, max-image-preview:large"}),ct.jsx("meta",{name:"language",content:"pt-BR"}),ct.jsx("meta",{name:"geo.region",content:"BR-SC"}),ct.jsx("meta",{name:"geo.placename",content:"Concrdia, Santa Catarina"}),ct.jsx("link",{rel:"canonical",href:"https://www.opineagorasc.com.br"}),ct.jsx("meta",{property:"og:type",content:"website"}),ct.jsx("meta",{property:"og:title",content:"Opine Agora SC - Notcias de Santa Catarina | Portal de Jornalismo Online"}),ct.jsx("meta",{property:"og:description",content:"Leia as ltimas notcias de Santa Catarina no Opine Agora SC. Poltica, economia, sociedade, esportes, cultura e mais. Jornalismo local com credibilidade e transparncia."}),ct.jsx("meta",{property:"og:url",content:"https://www.opineagorasc.com.br"}),ct.jsx("meta",{property:"og:site_name",content:"Opine Agora SC"}),ct.jsx("meta",{property:"og:image",content:"https://www.opineagorasc.com.br/opineagorasc-ogimage.png"}),ct.jsx("meta",{property:"og:image:width",content:"1200"}),ct.jsx("meta",{property:"og:image:height",content:"630"}),ct.jsx("meta",{property:"og:locale",content:"pt_BR"}),ct.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),ct.jsx("meta",{name:"twitter:title",content:"Opine Agora SC - Notcias de Santa Catarina | Portal de Jornalismo Online"}),ct.jsx("meta",{name:"twitter:description",content:"Leia as ltimas notcias de Santa Catarina no Opine Agora SC. Poltica, economia, sociedade, esportes, cultura e mais. Jornalismo local com credibilidade e transparncia."}),ct.jsx("meta",{name:"twitter:image",content:"https://www.opineagorasc.com.br/opineagorasc-ogimage.png"}),ct.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"WebSite",name:"Opine Agora SC",alternateName:"Opine Agora",url:"https://opineagorasc.com.br",description:"Portal de notcias de Santa Catarina com foco em informao local, poltica, economia e opinio. Comprometido com a verdade e a transparncia.",potentialAction:{"@type":"SearchAction",target:"https://opineagorasc.com.br/search?q={search_term_string}","query-input":"required name=search_term_string"},publisher:{"@type":"Organization",name:"Opine Agora SC",url:"https://opineagorasc.com.br",logo:{"@type":"ImageObject",url:"https://opineagorasc.com.br/ogimage-opineagorasc.png"}}})})]}),l.length>0&&ct.jsx("div",{className:"w-full mt-0 relative z-0",children:ct.jsx("div",{className:"w-full",children:ct.jsx(Dr,{modules:[zr],spaceBetween:0,slidesPerView:1,loop:l.length>1,allowTouchMove:!1,autoplay:{delay:5e3,disableOnInteraction:!1},className:"w-full",children:l.map(e=>{let t=!0;try{if(e.content&&e.content.startsWith("{")){const n=JSON.parse(e.content);void 0!==n.fullWidth&&(t=n.fullWidth)}}catch(n){}return ct.jsx(Or,{children:ct.jsx("div",{className:"w-full flex justify-center "+(t?"":"bg-navy py-12"),children:ct.jsx("div",{className:""+(t?"w-full":"w-full max-w-7xl px-4 sm:px-6 lg:px-8"),children:e.image_url?ct.jsx("a",{href:e.link_url,target:"_blank",rel:"noopener noreferrer",className:"block w-full",children:ct.jsx("img",{src:e.image_url,alt:e.title,className:"w-full h-auto object-contain "+(t?"":"rounded-lg shadow-2xl")})}):ct.jsx("img",{src:e.image_url,alt:e.title,className:"w-full h-auto object-contain "+(t?"":"rounded-lg shadow-2xl")})})})},e.id)})})})}),ct.jsx("section",{className:"bg-gradient-to-br from-navy to-teal-primary text-white py-8 md:py-12",children:ct.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:ct.jsxs(Dr,{modules:[zr,Rr,Ir],spaceBetween:30,slidesPerView:1,pagination:{clickable:!0},autoplay:{delay:5e3,disableOnInteraction:!1},loop:!0,className:"hero-swiper",children:[ct.jsx(Or,{children:ct.jsxs("div",{className:"flex flex-col items-center justify-center text-center h-full min-h-[350px] lg:min-h-[400px] px-4",children:[ct.jsxs("h1",{className:"text-3xl md:text-5xl font-bold mb-2 md:mb-3 leading-tight max-w-4xl",children:["Informao com",ct.jsxs("span",{className:"text-orange-warm",children:[" ","Credibilidade"," "]}),"para Santa Catarina"]}),ct.jsx("p",{className:"text-lg md:text-xl mb-6 md:mb-8 text-gray-100 max-w-2xl",children:"Portal de notcias comprometido com a verdade, transparncia e jornalismo de qualidade para a sociedade catarinense."}),ct.jsx("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4",children:ct.jsxs(o,{to:"/categoria/todas",className:"btn-primary bg-orange-600 hover:bg-orange-700 inline-flex items-center justify-center space-x-2 px-8 py-3 text-lg",children:[ct.jsx(j,{className:"w-6 h-6"}),ct.jsx("span",{children:"ltimas Notcias"})]})})]})}),!w&&b?.map(e=>ct.jsx(Or,{children:ct.jsx("div",{className:"flex items-center justify-center h-full min-h-[350px] lg:min-h-[400px] px-4",children:ct.jsx("div",{className:"w-full max-w-6xl",children:ct.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl overflow-hidden shadow-2xl border border-white/20",children:ct.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[ct.jsxs("div",{className:"h-56 md:h-auto relative min-h-[250px] md:min-h-full",children:[ct.jsx("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover absolute inset-0"}),ct.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent md:hidden"})]}),ct.jsxs("div",{className:"p-6 md:p-8 lg:p-12 flex flex-col justify-center text-left",children:[e.category&&ct.jsx("span",{className:"inline-block px-3 py-1 bg-orange-600 text-white text-xs font-semibold rounded-full mb-3 md:mb-4 w-fit",children:e.category}),ct.jsx(o,{to:`/post/${e.slug||e.id}`,children:ct.jsx("h2",{className:"text-xl md:text-3xl lg:text-4xl font-bold mb-3 md:mb-4 hover:text-orange-warm transition-colors line-clamp-3 md:line-clamp-none leading-tight",children:e.title})}),ct.jsx("p",{className:"text-gray-200 mb-4 md:mb-6 line-clamp-3 hidden md:block text-base md:text-lg",children:e.excerpt}),ct.jsxs(o,{to:`/post/${e.slug||e.id}`,className:"inline-flex items-center text-orange-warm hover:text-white transition-colors font-semibold text-base md:text-lg",children:["Ler matria completa",ct.jsx(N,{className:"w-5 h-5 ml-1"})]})]})]})})})})},e.id))]})})}),ct.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:ct.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[ct.jsxs("div",{className:"lg:col-span-2 space-y-12",children:[ct.jsxs("section",{children:[ct.jsxs("div",{className:"section-header",children:[ct.jsxs("h2",{className:"section-title flex items-center space-x-2",children:[ct.jsx(j,{className:"w-6 h-6 text-teal-primary"}),ct.jsx("span",{children:"ltimas Notcias"})]}),ct.jsxs(o,{to:"/categoria/todas",className:"text-teal-primary hover:text-teal-900 flex items-center space-x-1 text-sm font-medium",children:[ct.jsx("span",{children:"Ver todas"}),ct.jsx(N,{className:"w-4 h-4"})]})]}),ct.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:y&&0===x.length?ct.jsxs(ct.Fragment,{children:[ct.jsx(ns,{type:"card"}),ct.jsx(ns,{type:"card"}),ct.jsx(ns,{type:"card"}),ct.jsx(ns,{type:"card"})]}):x&&x.length>0?x?.slice(0,4).map(e=>ct.jsx(ts,{post:e},e.id)):ct.jsx("div",{className:"col-span-2 text-center py-8",children:ct.jsx("p",{className:"text-gray-500",children:"Nenhuma notcia encontrada."})})})]}),ct.jsxs("section",{children:[ct.jsx("div",{className:"section-header",children:ct.jsx("h2",{className:"section-title",children:"Mais Notcias"})}),ct.jsx("div",{className:"space-y-4",children:x?.slice(4).map(e=>ct.jsx("div",{className:"fade-in",children:ct.jsx(ts,{post:e,variant:"horizontal",hideAuthor:!0})},e.id))}),(y||x&&x.length>=m)&&ct.jsx("div",{className:"mt-8 text-center pt-8 border-t border-gray-100",children:ct.jsx("button",{onClick:()=>f(e=>e+4),disabled:y,className:"btn-primary w-full sm:w-auto min-w-[200px]",children:y?ct.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[ct.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),ct.jsx("span",{children:"Carregando..."})]}):"Carregar Mais"})})]})]}),ct.jsxs("aside",{className:"space-y-8",children:[ct.jsx("div",{className:"card",children:ct.jsxs("div",{className:"p-6",children:[ct.jsxs("h3",{className:"section-title text-lg flex items-center space-x-2 mb-4",children:[ct.jsx(C,{className:"w-5 h-5 text-orange-warm"}),ct.jsx("span",{children:"Mais Lidas"})]}),ct.jsx("div",{className:"space-y-4",children:M?.map((e,t)=>ct.jsxs(o,{to:`/post/${e.slug||e.id}`,className:"flex items-start space-x-3 group",children:[ct.jsx("span",{className:"text-3xl font-bold text-orange-600 flex-shrink-0",children:String(t+1).padStart(2,"0")}),ct.jsx("div",{className:"flex-1",children:ct.jsx("h4",{className:"font-semibold text-sm group-hover:text-teal-primary transition-colors line-clamp-2",children:e.title})})]},e.id))})]})}),ct.jsxs("div",{className:"bg-gray-100 rounded-lg p-6 text-center border-4 border-dotted border-gray-300",children:[ct.jsx("p",{className:"text-sm text-text-secondary mb-2",children:"Publicidade"}),ct.jsx("h3",{className:"text-lg font-bold text-navy mb-1",children:"Anuncie Aqui"}),ct.jsx("p",{className:"text-sm text-text-secondary mb-4",children:"Entre em contato pelo WhatsApp"}),ct.jsx("button",{className:"w-full btn-primary bg-navy hover:bg-teal-primary text-sm",children:"Contatar Anunciante"})]}),ct.jsx("div",{className:"card border-4 border-teal-primary",children:ct.jsxs("div",{className:"p-6 text-center",children:[ct.jsx("div",{className:"w-16 h-16 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:ct.jsx(cs,{className:"w-8 h-8 text-white"})}),ct.jsx("h3",{className:"text-lg font-bold text-navy mb-3",children:"Participe da Comunidade"}),ct.jsx("p",{className:"text-sm text-text-secondary mb-4 leading-relaxed",children:"Participe da comunidade no WhatsApp do Opine Agora SC e receba as principais notcias do Oeste Catarinense na palma da sua mo."}),ct.jsxs("a",{href:"https://chat.whatsapp.com/FPhqmB9FoW4HH67zJnVWD2",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-lg transition-colors",children:[ct.jsx(S,{className:"w-5 h-5 mr-2"}),ct.jsx("span",{children:"ENTRAR NA COMUNIDADE"})]}),ct.jsx("p",{className:"text-xs text-text-secondary mt-4",children:"*Ao entrar voc est ciente e de acordo com todos os termos de uso e privacidade do WhatsApp"})]})}),d.length>0&&ct.jsx("div",{className:"space-y-6",children:d.map(e=>ct.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:e.image_url?ct.jsx("a",{href:e.link_url,target:"_blank",rel:"noopener noreferrer",className:"block",children:ct.jsx("img",{src:e.image_url,alt:e.title,className:"w-full h-auto object-cover"})}):ct.jsxs("div",{className:"p-4 text-center bg-gray-100",children:[ct.jsx("p",{className:"text-gray-500",children:e.title}),e.link_url&&ct.jsx("a",{href:e.link_url,target:"_blank",rel:"noopener noreferrer",className:"text-teal-primary text-sm mt-2 block",children:"Saiba mais"})]})},e.id))})]})]})}),ct.jsx("section",{className:"bg-gray-50 py-12",children:ct.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[ct.jsxs("div",{className:"section-header mb-8",children:[ct.jsxs("h2",{className:"section-title flex items-center space-x-2",children:[ct.jsx(E,{className:"w-6 h-6 text-teal-primary"}),ct.jsxs("span",{children:["Anncios"," ",ct.jsx("span",{className:"text-orange-600",children:"Destaque"})]})]}),ct.jsxs(o,{to:"/anuncios",className:"text-teal-primary hover:text-teal-900 flex items-center space-x-1 text-sm font-medium",children:[ct.jsx("span",{children:"Ver todos"}),ct.jsx(N,{className:"w-4 h-4"})]})]}),ct.jsx(Dr,{modules:ps,spaceBetween:24,slidesPerView:1,navigation:!0,pagination:hs,autoplay:us,loop:!0,breakpoints:ds,className:"pb-12",children:i.map(e=>ct.jsx(Or,{className:"h-auto",children:ct.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow h-full flex flex-col",children:[e.image_url?ct.jsx("a",{href:e.link_url,target:"_blank",rel:"noopener noreferrer",className:"aspect-video bg-gray-100 block relative overflow-hidden group",children:ct.jsx("img",{src:e.image_url,alt:e.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"})}):ct.jsx("div",{className:"aspect-video bg-gray-100 flex items-center justify-center",children:ct.jsx(E,{className:"w-12 h-12 text-gray-400"})}),ct.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[e.link_url?ct.jsx("a",{href:e.link_url,target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-navy mb-2 line-clamp-2 block hover:text-teal-primary transition-colors",children:e.title}):ct.jsx("h3",{className:"font-semibold text-navy mb-2 line-clamp-2",children:e.title}),ct.jsx("p",{className:"text-sm text-text-secondary line-clamp-3 mb-3 flex-1",children:e.content})]})]})},e.id))}),0===i.length&&!h&&ct.jsxs("div",{className:"text-center py-12",children:[ct.jsx(E,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),ct.jsx("h3",{className:"text-lg font-medium text-navy mb-2",children:"Nenhum anncio disponvel"}),ct.jsx("p",{className:"text-text-secondary",children:"Em breve teremos novos anncios para voc."})]})]})}),ct.jsx("section",{className:"bg-gradient-to-br from-navy to-teal-primary text-white py-16",children:ct.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[ct.jsx("div",{className:"flex justify-center mb-6",children:ct.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center",children:ct.jsx(T,{className:"w-8 h-8 !text-orange-warm"})})}),ct.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Fique por dentro!"}),ct.jsx("p",{className:"text-xl mb-8 text-gray-100",children:"Receba as principais notcias de Santa Catarina direto no seu e-mail."}),ct.jsxs("form",{onSubmit:async n=>{if(n.preventDefault(),!e||!e.trim())return void A.error("Por favor, insira um email vlido.");if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))try{s(!0),await g(e),A.success("Inscrio realizada com sucesso! "),t("")}catch(cR){A.error(cR.message)}finally{s(!1)}else A.error("Por favor, insira um email vlido.")},className:"flex flex-col sm:flex-row max-w-md mx-auto space-y-4 sm:space-y-0 sm:space-x-4",children:[ct.jsx("div",{className:"w-full sm:flex-1 relative min-w-0",children:ct.jsx("input",{type:"email",value:e,onChange:e=>t(e.target.value),placeholder:"Seu melhor e-mail",className:"w-full px-4 py-3 rounded-lg text-navy placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-white",required:!0,disabled:n})}),ct.jsx("button",{type:"submit",disabled:n,className:"group px-6 py-3 bg-white text-teal-primary rounded-lg hover:bg-orange-600 hover:text-white transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:n?ct.jsxs(ct.Fragment,{children:[ct.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-teal-primary"}),ct.jsx("span",{children:"Inscrevendo..."})]}):ct.jsxs(ct.Fragment,{children:[ct.jsx(T,{className:"w-5 h-5 text-orange-600 group-hover:text-white transition-colors"}),ct.jsx("span",{children:"Inscrever-se"})]})})]})]})})]})};function fs(){}function gs(){}const xs=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ys=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,vs={};function bs(e,t){return(vs.jsx?ys:xs).test(e)}const ws=/[ \t\n\f\r]/g;function ks(e){return""===e.replace(ws,"")}let js=class{constructor(e,t,n){this.normal=t,this.property=e,n&&(this.space=n)}};function Ns(e,t){const n={},r={};for(const s of e)Object.assign(n,s.property),Object.assign(r,s.normal);return new js(n,r,t)}function Cs(e){return e.toLowerCase()}js.prototype.normal={},js.prototype.property={},js.prototype.space=void 0;class Ss{constructor(e,t){this.attribute=t,this.property=e}}Ss.prototype.attribute="",Ss.prototype.booleanish=!1,Ss.prototype.boolean=!1,Ss.prototype.commaOrSpaceSeparated=!1,Ss.prototype.commaSeparated=!1,Ss.prototype.defined=!1,Ss.prototype.mustUseProperty=!1,Ss.prototype.number=!1,Ss.prototype.overloadedBoolean=!1,Ss.prototype.property="",Ss.prototype.spaceSeparated=!1,Ss.prototype.space=void 0;let Es=0;const Ts=Is(),As=Is(),Ms=Is(),Ds=Is(),Os=Is(),Ps=Is(),_s=Is();function Is(){return 2**++Es}const Ls=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ts,booleanish:As,commaOrSpaceSeparated:_s,commaSeparated:Ps,number:Ds,overloadedBoolean:Ms,spaceSeparated:Os},Symbol.toStringTag,{value:"Module"})),Rs=Object.keys(Ls);class zs extends Ss{constructor(e,t,n,r){let s=-1;if(super(e,t),Fs(this,"space",r),"number"==typeof n)for(;++s<Rs.length;){const e=Rs[s];Fs(this,Rs[s],(n&Ls[e])===Ls[e])}}}function Fs(e,t,n){n&&(e[t]=n)}function Bs(e){const t={},n={};for(const[r,s]of Object.entries(e.properties)){const i=new zs(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[Cs(r)]=r,n[Cs(i.attribute)]=r}return new js(t,n,e.space)}zs.prototype.defined=!0;const $s=Bs({properties:{ariaActiveDescendant:null,ariaAtomic:As,ariaAutoComplete:null,ariaBusy:As,ariaChecked:As,ariaColCount:Ds,ariaColIndex:Ds,ariaColSpan:Ds,ariaControls:Os,ariaCurrent:null,ariaDescribedBy:Os,ariaDetails:null,ariaDisabled:As,ariaDropEffect:Os,ariaErrorMessage:null,ariaExpanded:As,ariaFlowTo:Os,ariaGrabbed:As,ariaHasPopup:null,ariaHidden:As,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Os,ariaLevel:Ds,ariaLive:null,ariaModal:As,ariaMultiLine:As,ariaMultiSelectable:As,ariaOrientation:null,ariaOwns:Os,ariaPlaceholder:null,ariaPosInSet:Ds,ariaPressed:As,ariaReadOnly:As,ariaRelevant:null,ariaRequired:As,ariaRoleDescription:Os,ariaRowCount:Ds,ariaRowIndex:Ds,ariaRowSpan:Ds,ariaSelected:As,ariaSetSize:Ds,ariaSort:null,ariaValueMax:Ds,ariaValueMin:Ds,ariaValueNow:Ds,ariaValueText:null,role:null},transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase()});function Vs(e,t){return t in e?e[t]:t}function qs(e,t){return Vs(e,t.toLowerCase())}const Hs=Bs({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ps,acceptCharset:Os,accessKey:Os,action:null,allow:null,allowFullScreen:Ts,allowPaymentRequest:Ts,allowUserMedia:Ts,alt:null,as:null,async:Ts,autoCapitalize:null,autoComplete:Os,autoFocus:Ts,autoPlay:Ts,blocking:Os,capture:null,charSet:null,checked:Ts,cite:null,className:Os,cols:Ds,colSpan:null,content:null,contentEditable:As,controls:Ts,controlsList:Os,coords:Ds|Ps,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ts,defer:Ts,dir:null,dirName:null,disabled:Ts,download:Ms,draggable:As,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ts,formTarget:null,headers:Os,height:Ds,hidden:Ms,high:Ds,href:null,hrefLang:null,htmlFor:Os,httpEquiv:Os,id:null,imageSizes:null,imageSrcSet:null,inert:Ts,inputMode:null,integrity:null,is:null,isMap:Ts,itemId:null,itemProp:Os,itemRef:Os,itemScope:Ts,itemType:Os,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ts,low:Ds,manifest:null,max:null,maxLength:Ds,media:null,method:null,min:null,minLength:Ds,multiple:Ts,muted:Ts,name:null,nonce:null,noModule:Ts,noValidate:Ts,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ts,optimum:Ds,pattern:null,ping:Os,placeholder:null,playsInline:Ts,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ts,referrerPolicy:null,rel:Os,required:Ts,reversed:Ts,rows:Ds,rowSpan:Ds,sandbox:Os,scope:null,scoped:Ts,seamless:Ts,selected:Ts,shadowRootClonable:Ts,shadowRootDelegatesFocus:Ts,shadowRootMode:null,shape:null,size:Ds,sizes:null,slot:null,span:Ds,spellCheck:As,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ds,step:null,style:null,tabIndex:Ds,target:null,title:null,translate:null,type:null,typeMustMatch:Ts,useMap:null,value:As,width:Ds,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Os,axis:null,background:null,bgColor:null,border:Ds,borderColor:null,bottomMargin:Ds,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ts,declare:Ts,event:null,face:null,frame:null,frameBorder:null,hSpace:Ds,leftMargin:Ds,link:null,longDesc:null,lowSrc:null,marginHeight:Ds,marginWidth:Ds,noResize:Ts,noHref:Ts,noShade:Ts,noWrap:Ts,object:null,profile:null,prompt:null,rev:null,rightMargin:Ds,rules:null,scheme:null,scrolling:As,standby:null,summary:null,text:null,topMargin:Ds,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ds,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ts,disableRemotePlayback:Ts,prefix:null,property:null,results:Ds,security:null,unselectable:null},space:"html",transform:qs}),Us=Bs({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:_s,accentHeight:Ds,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ds,amplitude:Ds,arabicForm:null,ascent:Ds,attributeName:null,attributeType:null,azimuth:Ds,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ds,by:null,calcMode:null,capHeight:Ds,className:Os,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ds,diffuseConstant:Ds,direction:null,display:null,dur:null,divisor:Ds,dominantBaseline:null,download:Ts,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ds,enableBackground:null,end:null,event:null,exponent:Ds,externalResourcesRequired:null,fill:null,fillOpacity:Ds,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ps,g2:Ps,glyphName:Ps,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ds,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ds,horizOriginX:Ds,horizOriginY:Ds,id:null,ideographic:Ds,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ds,k:Ds,k1:Ds,k2:Ds,k3:Ds,k4:Ds,kernelMatrix:_s,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ds,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ds,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ds,overlineThickness:Ds,paintOrder:null,panose1:null,path:null,pathLength:Ds,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Os,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ds,pointsAtY:Ds,pointsAtZ:Ds,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:_s,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:_s,rev:_s,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:_s,requiredFeatures:_s,requiredFonts:_s,requiredFormats:_s,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ds,specularExponent:Ds,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ds,strikethroughThickness:Ds,string:null,stroke:null,strokeDashArray:_s,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ds,strokeOpacity:Ds,strokeWidth:null,style:null,surfaceScale:Ds,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:_s,tabIndex:Ds,tableValues:null,target:null,targetX:Ds,targetY:Ds,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:_s,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ds,underlineThickness:Ds,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ds,values:null,vAlphabetic:Ds,vMathematical:Ds,vectorEffect:null,vHanging:Ds,vIdeographic:Ds,version:null,vertAdvY:Ds,vertOriginX:Ds,vertOriginY:Ds,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ds,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Vs}),Ws=Bs({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase()}),Gs=Bs({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:qs}),Ks=Bs({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase()}),Js={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Ys=/[A-Z]/g,Xs=/-[a-z]/g,Zs=/^data[-\w.:]+$/i;function Qs(e){return"-"+e.toLowerCase()}function ei(e){return e.charAt(1).toUpperCase()}const ti=Ns([$s,Hs,Ws,Gs,Ks],"html"),ni=Ns([$s,Us,Ws,Gs,Ks],"svg");var ri,si,ii,oi={};function ai(){if(ii)return oi;ii=1;var e=oi&&oi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(oi,"__esModule",{value:!0}),oi.default=function(e,n){let r=null;if(!e||"string"!=typeof e)return r;const s=(0,t.default)(e),i="function"==typeof n;return s.forEach(e=>{if("declaration"!==e.type)return;const{property:t,value:s}=e;i?n(t,s,e):s&&(r=r||{},r[t]=s)}),r};const t=e(function(){if(si)return ri;si=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,i=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,a=/^\s+|\s+$/g,l="";function c(e){return e?e.replace(a,l):l}return ri=function(a,d){if("string"!=typeof a)throw new TypeError("First argument must be a string");if(!a)return[];d=d||{};var u=1,h=1;function p(e){var n=e.match(t);n&&(u+=n.length);var r=e.lastIndexOf("\n");h=~r?e.length-r:h+e.length}function m(){var e={line:u,column:h};return function(t){return t.position=new f(e),y(),t}}function f(e){this.start=e,this.end={line:u,column:h},this.source=d.source}function g(e){var t=new Error(d.source+":"+u+":"+h+": "+e);if(t.reason=e,t.filename=d.source,t.line=u,t.column=h,t.source=a,!d.silent)throw t}function x(e){var t=e.exec(a);if(t){var n=t[0];return p(n),a=a.slice(n.length),t}}function y(){x(n)}function v(e){var t;for(e=e||[];t=b();)!1!==t&&e.push(t);return e}function b(){var e=m();if("/"==a.charAt(0)&&"*"==a.charAt(1)){for(var t=2;l!=a.charAt(t)&&("*"!=a.charAt(t)||"/"!=a.charAt(t+1));)++t;if(t+=2,l===a.charAt(t-1))return g("End of comment missing");var n=a.slice(2,t-2);return h+=2,p(n),a=a.slice(t),h+=2,e({type:"comment",comment:n})}}function w(){var t=m(),n=x(r);if(n){if(b(),!x(s))return g("property missing ':'");var a=x(i),d=t({type:"declaration",property:c(n[0].replace(e,l)),value:a?c(a[0].replace(e,l)):l});return x(o),d}}return f.prototype.content=a,y(),function(){var e,t=[];for(v(t);e=w();)!1!==e&&(t.push(e),v(t));return t}()},ri}());return oi}var li,ci,di,ui={};function hi(){if(li)return ui;li=1,Object.defineProperty(ui,"__esModule",{value:!0}),ui.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,i=function(e,t){return t.toUpperCase()},o=function(e,t){return"".concat(t,"-")};return ui.camelCase=function(a,l){return void 0===l&&(l={}),function(t){return!t||n.test(t)||e.test(t)}(a)?a:(a=a.toLowerCase(),(a=l.reactCompat?a.replace(s,o):a.replace(r,o)).replace(t,i))},ui}var pi=function(){if(di)return ci;di=1;var e=(ci&&ci.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(ai()),t=hi();function n(n,r){var s={};return n&&"string"==typeof n?((0,e.default)(n,function(e,n){e&&n&&(s[(0,t.camelCase)(e,r)]=n)}),s):s}return n.default=n,ci=n}();const mi=n(pi),fi=xi("end"),gi=xi("start");function xi(e){return function(t){const n=t&&t.position&&t.position[e]||{};if("number"==typeof n.line&&n.line>0&&"number"==typeof n.column&&n.column>0)return{line:n.line,column:n.column,offset:"number"==typeof n.offset&&n.offset>-1?n.offset:void 0}}}function yi(e){return e&&"object"==typeof e?"position"in e||"type"in e?bi(e.position):"start"in e||"end"in e?bi(e):"line"in e||"column"in e?vi(e):"":""}function vi(e){return wi(e&&e.line)+":"+wi(e&&e.column)}function bi(e){return vi(e&&e.start)+"-"+vi(e&&e.end)}function wi(e){return e&&"number"==typeof e?e:1}class ki extends Error{constructor(e,t,n){super(),"string"==typeof t&&(n=t,t=void 0);let r="",s={},i=!1;if(t&&(s="line"in t&&"column"in t||"start"in t&&"end"in t?{place:t}:"type"in t?{ancestors:[t],place:t.position}:{...t}),"string"==typeof e?r=e:!s.cause&&e&&(i=!0,r=e.message,s.cause=e),!s.ruleId&&!s.source&&"string"==typeof n){const e=n.indexOf(":");-1===e?s.ruleId=n:(s.source=n.slice(0,e),s.ruleId=n.slice(e+1))}if(!s.place&&s.ancestors&&s.ancestors){const e=s.ancestors[s.ancestors.length-1];e&&(s.place=e.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=r,this.line=o?o.line:void 0,this.name=yi(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=i&&s.cause&&"string"==typeof s.cause.stack?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}ki.prototype.file="",ki.prototype.name="",ki.prototype.reason="",ki.prototype.message="",ki.prototype.stack="",ki.prototype.column=void 0,ki.prototype.line=void 0,ki.prototype.ancestors=void 0,ki.prototype.cause=void 0,ki.prototype.fatal=void 0,ki.prototype.place=void 0,ki.prototype.ruleId=void 0,ki.prototype.source=void 0;const ji={}.hasOwnProperty,Ni=new Map,Ci=/[A-Z]/g,Si=new Set(["table","tbody","thead","tfoot","tr"]),Ei=new Set(["td","th"]),Ti="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Ai(e,t){if(!t||void 0===t.Fragment)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if("function"!=typeof t.jsxDEV)throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=function(e,t){return n;function n(n,r,s,i){const o=Array.isArray(s.children),a=gi(n);return t(r,s,i,o,{columnNumber:a?a.column-1:void 0,fileName:e,lineNumber:a?a.line:void 0},void 0)}}(n,t.jsxDEV)}else{if("function"!=typeof t.jsx)throw new TypeError("Expected `jsx` in production options");if("function"!=typeof t.jsxs)throw new TypeError("Expected `jsxs` in production options");r=function(e,t,n){return r;function r(e,r,s,i){const o=Array.isArray(s.children)?n:t;return i?o(r,s,i):o(r,s)}}(0,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:!1!==t.passKeys,passNode:t.passNode||!1,schema:"svg"===t.space?ni:ti,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==t.tableCellAlignToStyle},i=Mi(s,e,void 0);return i&&"string"!=typeof i?i:s.create(e,s.Fragment,{children:i||void 0},void 0)}function Mi(e,t,n){return"element"===t.type?function(e,t,n){const r=e.schema;let s=r;"svg"===t.tagName.toLowerCase()&&"html"===r.space&&(s=ni,e.schema=s);e.ancestors.push(t);const i=Ii(e,t.tagName,!1),o=function(e,t){const n={};let r,s;for(s in t.properties)if("children"!==s&&ji.call(t.properties,s)){const i=_i(e,s,t.properties[s]);if(i){const[s,o]=i;e.tableCellAlignToStyle&&"align"===s&&"string"==typeof o&&Ei.has(t.tagName)?r=o:n[s]=o}}if(r){(n.style||(n.style={}))["css"===e.stylePropertyNameCase?"text-align":"textAlign"]=r}return n}(e,t);let a=Pi(e,t);Si.has(t.tagName)&&(a=a.filter(function(e){return"string"!=typeof e||!("object"==typeof(t=e)?"text"===t.type&&ks(t.value):ks(t));var t}));return Di(e,o,i,t),Oi(o,a),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}(e,t,n):"mdxFlowExpression"===t.type||"mdxTextExpression"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}Li(e,t.position)}(e,t):"mdxJsxFlowElement"===t.type||"mdxJsxTextElement"===t.type?function(e,t,n){const r=e.schema;let s=r;"svg"===t.name&&"html"===r.space&&(s=ni,e.schema=s);e.ancestors.push(t);const i=null===t.name?e.Fragment:Ii(e,t.name,!0),o=function(e,t){const n={};for(const r of t.attributes)if("mdxJsxExpressionAttribute"===r.type)if(r.data&&r.data.estree&&e.evaluater){const t=r.data.estree.body[0];fs(t.type);const s=t.expression;fs(s.type);const i=s.properties[0];fs(i.type),Object.assign(n,e.evaluater.evaluateExpression(i.argument))}else Li(e,t.position);else{const s=r.name;let i;if(r.value&&"object"==typeof r.value)if(r.value.data&&r.value.data.estree&&e.evaluater){const t=r.value.data.estree.body[0];fs(t.type),i=e.evaluater.evaluateExpression(t.expression)}else Li(e,t.position);else i=null===r.value||r.value;n[s]=i}return n}(e,t),a=Pi(e,t);return Di(e,o,i,t),Oi(o,a),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}(e,t,n):"mdxjsEsm"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Li(e,t.position)}(e,t):"root"===t.type?function(e,t,n){const r={};return Oi(r,Pi(e,t)),e.create(t,e.Fragment,r,n)}(e,t,n):"text"===t.type?function(e,t){return t.value}(0,t):void 0}function Di(e,t,n,r){"string"!=typeof n&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Oi(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Pi(e,t){const n=[];let r=-1;const s=e.passKeys?new Map:Ni;for(;++r<t.children.length;){const i=t.children[r];let o;if(e.passKeys){const e="element"===i.type?i.tagName:"mdxJsxFlowElement"===i.type||"mdxJsxTextElement"===i.type?i.name:void 0;if(e){const t=s.get(e)||0;o=e+"-"+t,s.set(e,t+1)}}const a=Mi(e,i,o);void 0!==a&&n.push(a)}return n}function _i(e,t,n){const r=function(e,t){const n=Cs(t);let r=t,s=Ss;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&Zs.test(t)){if("-"===t.charAt(4)){const e=t.slice(5).replace(Xs,ei);r="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{const e=t.slice(4);if(!Xs.test(e)){let n=e.replace(Ys,Qs);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}s=zs}return new s(r,t)}(e.schema,t);if(!(null==n||"number"==typeof n&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?function(e){const t={};return(""===e[e.length-1]?[...e,""]:e).join((t.padRight?" ":"")+","+(!1===t.padLeft?"":" ")).trim()}(n):n.join(" ").trim()),"style"===r.property){let t="object"==typeof n?n:function(e,t){try{return mi(t,{reactCompat:!0})}catch(cR){if(e.ignoreInvalidStyle)return{};const n=cR,r=new ki("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=Ti+"#cannot-parse-style-attribute",r}}(e,String(n));return"css"===e.stylePropertyNameCase&&(t=function(e){const t={};let n;for(n in e)ji.call(e,n)&&(t[Ri(n)]=e[n]);return t}(t)),["style",t]}return["react"===e.elementAttributeNameCase&&r.space?Js[r.property]||r.property:r.attribute,n]}}function Ii(e,t,n){let r;if(n)if(t.includes(".")){const e=t.split(".");let n,s=-1;for(;++s<e.length;){const t=bs(e[s])?{type:"Identifier",name:e[s]}:{type:"Literal",value:e[s]};n=n?{type:"MemberExpression",object:n,property:t,computed:Boolean(s&&"Literal"===t.type),optional:!1}:t}r=n}else r=bs(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else r={type:"Literal",value:t};if("Literal"===r.type){const t=r.value;return ji.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(r);Li(e)}function Li(e,t){const n=new ki("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Ti+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Ri(e){let t=e.replace(Ci,zi);return"ms-"===t.slice(0,3)&&(t="-"+t),t}function zi(e){return"-"+e.toLowerCase()}const Fi={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Bi={};function $i(e,t,n){if(function(e){return Boolean(e&&"object"==typeof e)}(e)){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Vi(e.children,t,n)}return Array.isArray(e)?Vi(e,t,n):""}function Vi(e,t,n){const r=[];let s=-1;for(;++s<e.length;)r[s]=$i(e[s],t,n);return r.join("")}const qi=document.createElement("i");function Hi(e){const t="&"+e+";";qi.innerHTML=t;const n=qi.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&(n!==t&&n)}function Ui(e,t,n,r){const s=e.length;let i,o=0;if(t=t<0?-t>s?0:s+t:t>s?s:t,n=n>0?n:0,r.length<1e4)i=Array.from(r),i.unshift(t,n),e.splice(...i);else for(n&&e.splice(t,n);o<r.length;)i=r.slice(o,o+1e4),i.unshift(t,0),e.splice(...i),o+=1e4,t+=1e4}function Wi(e,t){return e.length>0?(Ui(e,e.length,0,t),e):t}const Gi={}.hasOwnProperty;function Ki(e,t){let n;for(n in t){const r=(Gi.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let i;if(s)for(i in s){Gi.call(r,i)||(r[i]=[]);const e=s[i];Ji(r[i],Array.isArray(e)?e:e?[e]:[])}}}function Ji(e,t){let n=-1;const r=[];for(;++n<t.length;)("after"===t[n].add?e:r).push(t[n]);Ui(e,0,0,r)}function Yi(e,t){const n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||!(65535&~n)||65534==(65535&n)||n>1114111?"":String.fromCodePoint(n)}function Xi(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Zi=uo(/[A-Za-z]/),Qi=uo(/[\dA-Za-z]/),eo=uo(/[#-'*+\--9=?A-Z^-~]/);function to(e){return null!==e&&(e<32||127===e)}const no=uo(/\d/),ro=uo(/[\dA-Fa-f]/),so=uo(/[!-/:-@[-`{-~]/);function io(e){return null!==e&&e<-2}function oo(e){return null!==e&&(e<0||32===e)}function ao(e){return-2===e||-1===e||32===e}const lo=uo(/\p{P}|\p{S}/u),co=uo(/\s/);function uo(e){return function(t){return null!==t&&t>-1&&e.test(String.fromCharCode(t))}}function ho(e){const t=[];let n=-1,r=0,s=0;for(;++n<e.length;){const i=e.charCodeAt(n);let o="";if(37===i&&Qi(e.charCodeAt(n+1))&&Qi(e.charCodeAt(n+2)))s=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(o=String.fromCharCode(i));else if(i>55295&&i<57344){const t=e.charCodeAt(n+1);i<56320&&t>56319&&t<57344?(o=String.fromCharCode(i,t),s=1):o=""}else o=String.fromCharCode(i);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+s+1,o=""),s&&(n+=s,s=0)}return t.join("")+e.slice(r)}function po(e,t,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let i=0;return function(r){if(ao(r))return e.enter(n),o(r);return t(r)};function o(r){return ao(r)&&i++<s?(e.consume(r),o):(e.exit(n),t(r))}}const mo={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,function(n){if(null===n)return void e.consume(n);return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),po(e,t,"linePrefix")},function(t){return e.enter("paragraph"),r(t)});let n;return t;function r(t){const r=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=r),n=r,s(t)}function s(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):io(t)?(e.consume(t),e.exit("chunkText"),r):(e.consume(t),s)}}};const fo={tokenize:function(e){const t=this,n=[];let r,s,i,o=0;return a;function a(r){if(o<n.length){const s=n[o];return t.containerState=s[1],e.attempt(s[0].continuation,l,c)(r)}return c(r)}function l(e){if(o++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&y();const n=t.events.length;let s,i=n;for(;i--;)if("exit"===t.events[i][0]&&"chunkFlow"===t.events[i][1].type){s=t.events[i][1].end;break}x(o);let a=n;for(;a<t.events.length;)t.events[a][1].end={...s},a++;return Ui(t.events,i+1,0,t.events.slice(n)),t.events.length=a,c(e)}return a(e)}function c(s){if(o===n.length){if(!r)return h(s);if(r.currentConstruct&&r.currentConstruct.concrete)return m(s);t.interrupt=Boolean(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(go,d,u)(s)}function d(e){return r&&y(),x(o),h(e)}function u(e){return t.parser.lazy[t.now().line]=o!==n.length,i=t.now().offset,m(e)}function h(n){return t.containerState={},e.attempt(go,p,m)(n)}function p(e){return o++,n.push([t.currentConstruct,t.containerState]),h(e)}function m(n){return null===n?(r&&y(),x(0),void e.consume(n)):(r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:s}),f(n))}function f(n){return null===n?(g(e.exit("chunkFlow"),!0),x(0),void e.consume(n)):io(n)?(e.consume(n),g(e.exit("chunkFlow")),o=0,t.interrupt=void 0,a):(e.consume(n),f)}function g(e,n){const a=t.sliceStream(e);if(n&&a.push(null),e.previous=s,s&&(s.next=e),s=e,r.defineSkip(e.start),r.write(a),t.parser.lazy[e.start.line]){let e=r.events.length;for(;e--;)if(r.events[e][1].start.offset<i&&(!r.events[e][1].end||r.events[e][1].end.offset>i))return;const n=t.events.length;let s,a,l=n;for(;l--;)if("exit"===t.events[l][0]&&"chunkFlow"===t.events[l][1].type){if(s){a=t.events[l][1].end;break}s=!0}for(x(o),e=n;e<t.events.length;)t.events[e][1].end={...a},e++;Ui(t.events,l+1,0,t.events.slice(n)),t.events.length=e}}function x(r){let s=n.length;for(;s-- >r;){const r=n[s];t.containerState=r[1],r[0].exit.call(t,e)}n.length=r}function y(){r.write([null]),s=void 0,r=void 0,t.containerState._closeFlow=void 0}}},go={tokenize:function(e,t,n){return po(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};function xo(e){return null===e||oo(e)||co(e)?1:lo(e)?2:void 0}function yo(e,t,n){const r=[];let s=-1;for(;++s<e.length;){const i=e[s].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const vo={name:"attention",resolveAll:function(e,t){let n,r,s,i,o,a,l,c,d=-1;for(;++d<e.length;)if("enter"===e[d][0]&&"attentionSequence"===e[d][1].type&&e[d][1]._close)for(n=d;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[d][1]).charCodeAt(0)){if((e[n][1]._close||e[d][1]._open)&&(e[d][1].end.offset-e[d][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[d][1].end.offset-e[d][1].start.offset)%3))continue;a=e[n][1].end.offset-e[n][1].start.offset>1&&e[d][1].end.offset-e[d][1].start.offset>1?2:1;const u={...e[n][1].end},h={...e[d][1].start};bo(u,-a),bo(h,a),i={type:a>1?"strongSequence":"emphasisSequence",start:u,end:{...e[n][1].end}},o={type:a>1?"strongSequence":"emphasisSequence",start:{...e[d][1].start},end:h},s={type:a>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[d][1].start}},r={type:a>1?"strong":"emphasis",start:{...i.start},end:{...o.end}},e[n][1].end={...i.start},e[d][1].start={...o.end},l=[],e[n][1].end.offset-e[n][1].start.offset&&(l=Wi(l,[["enter",e[n][1],t],["exit",e[n][1],t]])),l=Wi(l,[["enter",r,t],["enter",i,t],["exit",i,t],["enter",s,t]]),l=Wi(l,yo(t.parser.constructs.insideSpan.null,e.slice(n+1,d),t)),l=Wi(l,[["exit",s,t],["enter",o,t],["exit",o,t],["exit",r,t]]),e[d][1].end.offset-e[d][1].start.offset?(c=2,l=Wi(l,[["enter",e[d][1],t],["exit",e[d][1],t]])):c=0,Ui(e,n-1,d-n+3,l),d=n+l.length-c-2;break}d=-1;for(;++d<e.length;)"attentionSequence"===e[d][1].type&&(e[d][1].type="data");return e},tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=xo(r);let i;return function(t){return i=t,e.enter("attentionSequence"),o(t)};function o(a){if(a===i)return e.consume(a),o;const l=e.exit("attentionSequence"),c=xo(a),d=!c||2===c&&s||n.includes(a),u=!s||2===s&&c||n.includes(r);return l._open=Boolean(42===i?d:d&&(s||!u)),l._close=Boolean(42===i?u:u&&(c||!d)),t(a)}}};function bo(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const wo={name:"autolink",tokenize:function(e,t,n){let r=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s};function s(t){return Zi(t)?(e.consume(t),i):64===t?n(t):l(t)}function i(e){return 43===e||45===e||46===e||Qi(e)?(r=1,o(e)):l(e)}function o(t){return 58===t?(e.consume(t),r=0,a):(43===t||45===t||46===t||Qi(t))&&r++<32?(e.consume(t),o):(r=0,l(t))}function a(r){return 62===r?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(r),e.exit("autolinkMarker"),e.exit("autolink"),t):null===r||32===r||60===r||to(r)?n(r):(e.consume(r),a)}function l(t){return 64===t?(e.consume(t),c):eo(t)?(e.consume(t),l):n(t)}function c(e){return Qi(e)?d(e):n(e)}function d(n){return 46===n?(e.consume(n),r=0,c):62===n?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t):u(n)}function u(t){if((45===t||Qi(t))&&r++<63){const n=45===t?u:d;return e.consume(t),n}return n(t)}}};const ko={partial:!0,tokenize:function(e,t,n){return function(t){return ao(t)?po(e,r,"linePrefix")(t):r(t)};function r(e){return null===e||io(e)?t(e):n(e)}}};const jo={continuation:{tokenize:function(e,t,n){const r=this;return function(t){if(ao(t))return po(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t);return s(t)};function s(r){return e.attempt(jo,t,n)(r)}}},exit:function(e){e.exit("blockQuote")},name:"blockQuote",tokenize:function(e,t,n){const r=this;return function(t){if(62===t){const n=r.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),s}return n(t)};function s(n){return ao(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}}};const No={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),r};function r(r){return so(r)?(e.enter("characterEscapeValue"),e.consume(r),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(r)}}};const Co={name:"characterReference",tokenize:function(e,t,n){const r=this;let s,i,o=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),a};function a(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),s=31,i=Qi,c(t))}function l(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,i=ro,c):(e.enter("characterReferenceValue"),s=7,i=no,c(t))}function c(a){if(59===a&&o){const s=e.exit("characterReferenceValue");return i!==Qi||Hi(r.sliceSerialize(s))?(e.enter("characterReferenceMarker"),e.consume(a),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(a)}return i(a)&&o++<s?(e.consume(a),c):n(a)}}};const So={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){if(null===t)return n(t);return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s};function s(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}},Eo={concrete:!0,name:"codeFenced",tokenize:function(e,t,n){const r=this,s={partial:!0,tokenize:function(e,t,n){let s=0;return o;function o(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),l}function l(t){return e.enter("codeFencedFence"),ao(t)?po(e,c,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):c(t)}function c(t){return t===i?(e.enter("codeFencedFenceSequence"),d(t)):n(t)}function d(t){return t===i?(s++,e.consume(t),d):s>=a?(e.exit("codeFencedFenceSequence"),ao(t)?po(e,u,"whitespace")(t):u(t)):n(t)}function u(r){return null===r||io(r)?(e.exit("codeFencedFence"),t(r)):n(r)}}};let i,o=0,a=0;return function(t){return function(t){const n=r.events[r.events.length-1];return o=n&&"linePrefix"===n[1].type?n[2].sliceSerialize(n[1],!0).length:0,i=t,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l(t)}(t)};function l(t){return t===i?(a++,e.consume(t),l):a<3?n(t):(e.exit("codeFencedFenceSequence"),ao(t)?po(e,c,"whitespace")(t):c(t))}function c(n){return null===n||io(n)?(e.exit("codeFencedFence"),r.interrupt?t(n):e.check(So,p,y)(n)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),d(n))}function d(t){return null===t||io(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),c(t)):ao(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),po(e,u,"whitespace")(t)):96===t&&t===i?n(t):(e.consume(t),d)}function u(t){return null===t||io(t)?c(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(t))}function h(t){return null===t||io(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),c(t)):96===t&&t===i?n(t):(e.consume(t),h)}function p(t){return e.attempt(s,y,m)(t)}function m(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),f}function f(t){return o>0&&ao(t)?po(e,g,"linePrefix",o+1)(t):g(t)}function g(t){return null===t||io(t)?e.check(So,p,y)(t):(e.enter("codeFlowValue"),x(t))}function x(t){return null===t||io(t)?(e.exit("codeFlowValue"),g(t)):(e.consume(t),x)}function y(n){return e.exit("codeFenced"),t(n)}}};const To={name:"codeIndented",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("codeIndented"),po(e,s,"linePrefix",5)(t)};function s(e){const t=r.events[r.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?i(e):n(e)}function i(t){return null===t?a(t):io(t)?e.attempt(Ao,i,a)(t):(e.enter("codeFlowValue"),o(t))}function o(t){return null===t||io(t)?(e.exit("codeFlowValue"),i(t)):(e.consume(t),o)}function a(n){return e.exit("codeIndented"),t(n)}}},Ao={partial:!0,tokenize:function(e,t,n){const r=this;return s;function s(t){return r.parser.lazy[r.now().line]?n(t):io(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s):po(e,i,"linePrefix",5)(t)}function i(e){const i=r.events[r.events.length-1];return i&&"linePrefix"===i[1].type&&i[2].sliceSerialize(i[1],!0).length>=4?t(e):io(e)?s(e):n(e)}}};const Mo={name:"codeText",previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type},resolve:function(e){let t,n,r=e.length-4,s=3;if(!("lineEnding"!==e[s][1].type&&"space"!==e[s][1].type||"lineEnding"!==e[r][1].type&&"space"!==e[r][1].type))for(t=s;++t<r;)if("codeTextData"===e[t][1].type){e[s][1].type="codeTextPadding",e[r][1].type="codeTextPadding",s+=2,r-=2;break}t=s-1,r++;for(;++t<=r;)void 0===n?t!==r&&"lineEnding"!==e[t][1].type&&(n=t):t!==r&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},tokenize:function(e,t,n){let r,s,i=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),o(t)};function o(t){return 96===t?(e.consume(t),i++,o):(e.exit("codeTextSequence"),a(t))}function a(t){return null===t?n(t):32===t?(e.enter("space"),e.consume(t),e.exit("space"),a):96===t?(s=e.enter("codeTextSequence"),r=0,c(t)):io(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),a):(e.enter("codeTextData"),l(t))}function l(t){return null===t||32===t||96===t||io(t)?(e.exit("codeTextData"),a(t)):(e.consume(t),l)}function c(n){return 96===n?(e.consume(n),r++,c):r===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(s.type="codeTextData",l(n))}}};class Do{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const n=null==t?Number.POSITIVE_INFINITY:t;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){const r=t||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return n&&Oo(this.left,n),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Oo(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Oo(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&0===this.right.length||e<0&&0===this.left.length))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);Oo(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Oo(this.left,t.reverse())}}}function Oo(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Po(e){const t={};let n,r,s,i,o,a,l,c=-1;const d=new Do(e);for(;++c<d.length;){for(;c in t;)c=t[c];if(n=d.get(c),c&&"chunkFlow"===n[1].type&&"listItemPrefix"===d.get(c-1)[1].type&&(a=n[1]._tokenizer.events,s=0,s<a.length&&"lineEndingBlank"===a[s][1].type&&(s+=2),s<a.length&&"content"===a[s][1].type))for(;++s<a.length&&"content"!==a[s][1].type;)"chunkText"===a[s][1].type&&(a[s][1]._isInFirstContentOfListItem=!0,s++);if("enter"===n[0])n[1].contentType&&(Object.assign(t,_o(d,c)),c=t[c],l=!0);else if(n[1]._container){for(s=c,r=void 0;s--;)if(i=d.get(s),"lineEnding"===i[1].type||"lineEndingBlank"===i[1].type)"enter"===i[0]&&(r&&(d.get(r)[1].type="lineEndingBlank"),i[1].type="lineEnding",r=s);else if("linePrefix"!==i[1].type&&"listItemIndent"!==i[1].type)break;r&&(n[1].end={...d.get(r)[1].start},o=d.slice(r,c),o.unshift(n),d.splice(r,c-r+1,o))}}return Ui(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!l}function _o(e,t){const n=e.get(t)[1],r=e.get(t)[2];let s=t-1;const i=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],c={};let d,u,h=-1,p=n,m=0,f=0;const g=[f];for(;p;){for(;e.get(++s)[1]!==p;);i.push(s),p._tokenizer||(d=r.sliceStream(p),p.next||d.push(null),u&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),u=p,p=p.next}for(p=n;++h<a.length;)"exit"===a[h][0]&&"enter"===a[h-1][0]&&a[h][1].type===a[h-1][1].type&&a[h][1].start.line!==a[h][1].end.line&&(f=h+1,g.push(f),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):g.pop(),h=g.length;h--;){const t=a.slice(g[h],g[h+1]),n=i.pop();l.push([n,n+t.length-1]),e.splice(n,2,t)}for(l.reverse(),h=-1;++h<l.length;)c[m+l[h][0]]=m+l[h][1],m+=l[h][1]-l[h][0]-1;return c}const Io={resolve:function(e){return Po(e),e},tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(t)};function r(t){return null===t?s(t):io(t)?e.check(Lo,i,s)(t):(e.consume(t),r)}function s(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function i(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}},Lo={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),po(e,s,"linePrefix")};function s(s){if(null===s||io(s))return n(s);const i=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&i&&"linePrefix"===i[1].type&&i[2].sliceSerialize(i[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}};function Ro(e,t,n,r,s,i,o,a,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return function(t){if(60===t)return e.enter(r),e.enter(s),e.enter(i),e.consume(t),e.exit(i),u;if(null===t||32===t||41===t||to(t))return n(t);return e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),m(t)};function u(n){return 62===n?(e.enter(i),e.consume(n),e.exit(i),e.exit(s),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(n))}function h(t){return 62===t?(e.exit("chunkString"),e.exit(a),u(t)):null===t||60===t||io(t)?n(t):(e.consume(t),92===t?p:h)}function p(t){return 60===t||62===t||92===t?(e.consume(t),h):h(t)}function m(s){return d||null!==s&&41!==s&&!oo(s)?d<c&&40===s?(e.consume(s),d++,m):41===s?(e.consume(s),d--,m):null===s||32===s||40===s||to(s)?n(s):(e.consume(s),92===s?f:m):(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(s))}function f(t){return 40===t||41===t||92===t?(e.consume(t),m):m(t)}}function zo(e,t,n,r,s,i){const o=this;let a,l=0;return function(t){return e.enter(r),e.enter(s),e.consume(t),e.exit(s),e.enter(i),c};function c(u){return l>999||null===u||91===u||93===u&&!a||94===u&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?n(u):93===u?(e.exit(i),e.enter(s),e.consume(u),e.exit(s),e.exit(r),t):io(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),d(u))}function d(t){return null===t||91===t||93===t||io(t)||l++>999?(e.exit("chunkString"),c(t)):(e.consume(t),a||(a=!ao(t)),92===t?u:d)}function u(t){return 91===t||92===t||93===t?(e.consume(t),l++,d):d(t)}}function Fo(e,t,n,r,s,i){let o;return function(t){if(34===t||39===t||40===t)return e.enter(r),e.enter(s),e.consume(t),e.exit(s),o=40===t?41:t,a;return n(t)};function a(n){return n===o?(e.enter(s),e.consume(n),e.exit(s),e.exit(r),t):(e.enter(i),l(n))}function l(t){return t===o?(e.exit(i),a(o)):null===t?n(t):io(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),po(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(t))}function c(t){return t===o||null===t||io(t)?(e.exit("chunkString"),l(t)):(e.consume(t),92===t?d:c)}function d(t){return t===o||92===t?(e.consume(t),c):c(t)}}function Bo(e,t){let n;return function r(s){if(io(s))return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,r;if(ao(s))return po(e,r,n?"linePrefix":"lineSuffix")(s);return t(s)}}const $o={name:"definition",tokenize:function(e,t,n){const r=this;let s;return function(t){return e.enter("definition"),function(t){return zo.call(r,e,i,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)}(t)};function i(t){return s=Xi(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),o):n(t)}function o(t){return oo(t)?Bo(e,a)(t):a(t)}function a(t){return Ro(e,l,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function l(t){return e.attempt(Vo,c,c)(t)}function c(t){return ao(t)?po(e,d,"whitespace")(t):d(t)}function d(i){return null===i||io(i)?(e.exit("definition"),r.parser.defined.push(s),t(i)):n(i)}}},Vo={partial:!0,tokenize:function(e,t,n){return function(t){return oo(t)?Bo(e,r)(t):n(t)};function r(t){return Fo(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function s(t){return ao(t)?po(e,i,"whitespace")(t):i(t)}function i(e){return null===e||io(e)?t(e):n(e)}}};const qo={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.consume(t),r};function r(r){return io(r)?(e.exit("hardBreakEscape"),t(r)):n(r)}}};const Ho={name:"headingAtx",resolve:function(e,t){let n,r,s=e.length-2,i=3;"whitespace"===e[i][1].type&&(i+=2);s-2>i&&"whitespace"===e[s][1].type&&(s-=2);"atxHeadingSequence"===e[s][1].type&&(i===s-1||s-4>i&&"whitespace"===e[s-2][1].type)&&(s-=i+1===s?2:4);s>i&&(n={type:"atxHeadingText",start:e[i][1].start,end:e[s][1].end},r={type:"chunkText",start:e[i][1].start,end:e[s][1].end,contentType:"text"},Ui(e,i,s-i+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]]));return e},tokenize:function(e,t,n){let r=0;return function(t){return e.enter("atxHeading"),function(t){return e.enter("atxHeadingSequence"),s(t)}(t)};function s(t){return 35===t&&r++<6?(e.consume(t),s):null===t||oo(t)?(e.exit("atxHeadingSequence"),i(t)):n(t)}function i(n){return 35===n?(e.enter("atxHeadingSequence"),o(n)):null===n||io(n)?(e.exit("atxHeading"),t(n)):ao(n)?po(e,i,"whitespace")(n):(e.enter("atxHeadingText"),a(n))}function o(t){return 35===t?(e.consume(t),o):(e.exit("atxHeadingSequence"),i(t))}function a(t){return null===t||35===t||oo(t)?(e.exit("atxHeadingText"),i(t)):(e.consume(t),a)}}};const Uo=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Wo=["pre","script","style","textarea"],Go={concrete:!0,name:"htmlFlow",resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},tokenize:function(e,t,n){const r=this;let s,i,o,a,l;return function(t){return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),c}(t)};function c(a){return 33===a?(e.consume(a),d):47===a?(e.consume(a),i=!0,p):63===a?(e.consume(a),s=3,r.interrupt?t:_):Zi(a)?(e.consume(a),o=String.fromCharCode(a),m):n(a)}function d(i){return 45===i?(e.consume(i),s=2,u):91===i?(e.consume(i),s=5,a=0,h):Zi(i)?(e.consume(i),s=4,r.interrupt?t:_):n(i)}function u(s){return 45===s?(e.consume(s),r.interrupt?t:_):n(s)}function h(s){const i="CDATA[";return s===i.charCodeAt(a++)?(e.consume(s),6===a?r.interrupt?t:S:h):n(s)}function p(t){return Zi(t)?(e.consume(t),o=String.fromCharCode(t),m):n(t)}function m(a){if(null===a||47===a||62===a||oo(a)){const l=47===a,c=o.toLowerCase();return l||i||!Wo.includes(c)?Uo.includes(o.toLowerCase())?(s=6,l?(e.consume(a),f):r.interrupt?t(a):S(a)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(a):i?g(a):x(a)):(s=1,r.interrupt?t(a):S(a))}return 45===a||Qi(a)?(e.consume(a),o+=String.fromCharCode(a),m):n(a)}function f(s){return 62===s?(e.consume(s),r.interrupt?t:S):n(s)}function g(t){return ao(t)?(e.consume(t),g):N(t)}function x(t){return 47===t?(e.consume(t),N):58===t||95===t||Zi(t)?(e.consume(t),y):ao(t)?(e.consume(t),x):N(t)}function y(t){return 45===t||46===t||58===t||95===t||Qi(t)?(e.consume(t),y):v(t)}function v(t){return 61===t?(e.consume(t),b):ao(t)?(e.consume(t),v):x(t)}function b(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),l=t,w):ao(t)?(e.consume(t),b):k(t)}function w(t){return t===l?(e.consume(t),l=null,j):null===t||io(t)?n(t):(e.consume(t),w)}function k(t){return null===t||34===t||39===t||47===t||60===t||61===t||62===t||96===t||oo(t)?v(t):(e.consume(t),k)}function j(e){return 47===e||62===e||ao(e)?x(e):n(e)}function N(t){return 62===t?(e.consume(t),C):n(t)}function C(t){return null===t||io(t)?S(t):ao(t)?(e.consume(t),C):n(t)}function S(t){return 45===t&&2===s?(e.consume(t),M):60===t&&1===s?(e.consume(t),D):62===t&&4===s?(e.consume(t),I):63===t&&3===s?(e.consume(t),_):93===t&&5===s?(e.consume(t),P):!io(t)||6!==s&&7!==s?null===t||io(t)?(e.exit("htmlFlowData"),E(t)):(e.consume(t),S):(e.exit("htmlFlowData"),e.check(Ko,L,E)(t))}function E(t){return e.check(Jo,T,L)(t)}function T(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),A}function A(t){return null===t||io(t)?E(t):(e.enter("htmlFlowData"),S(t))}function M(t){return 45===t?(e.consume(t),_):S(t)}function D(t){return 47===t?(e.consume(t),o="",O):S(t)}function O(t){if(62===t){const n=o.toLowerCase();return Wo.includes(n)?(e.consume(t),I):S(t)}return Zi(t)&&o.length<8?(e.consume(t),o+=String.fromCharCode(t),O):S(t)}function P(t){return 93===t?(e.consume(t),_):S(t)}function _(t){return 62===t?(e.consume(t),I):45===t&&2===s?(e.consume(t),_):S(t)}function I(t){return null===t||io(t)?(e.exit("htmlFlowData"),L(t)):(e.consume(t),I)}function L(n){return e.exit("htmlFlow"),t(n)}}},Ko={partial:!0,tokenize:function(e,t,n){return function(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(ko,t,n)}}},Jo={partial:!0,tokenize:function(e,t,n){const r=this;return function(t){if(io(t))return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s;return n(t)};function s(e){return r.parser.lazy[r.now().line]?n(e):t(e)}}};const Yo={name:"htmlText",tokenize:function(e,t,n){const r=this;let s,i,o;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),a};function a(t){return 33===t?(e.consume(t),l):47===t?(e.consume(t),b):63===t?(e.consume(t),y):Zi(t)?(e.consume(t),j):n(t)}function l(t){return 45===t?(e.consume(t),c):91===t?(e.consume(t),i=0,p):Zi(t)?(e.consume(t),x):n(t)}function c(t){return 45===t?(e.consume(t),h):n(t)}function d(t){return null===t?n(t):45===t?(e.consume(t),u):io(t)?(o=d,O(t)):(e.consume(t),d)}function u(t){return 45===t?(e.consume(t),h):d(t)}function h(e){return 62===e?D(e):45===e?u(e):d(e)}function p(t){const r="CDATA[";return t===r.charCodeAt(i++)?(e.consume(t),6===i?m:p):n(t)}function m(t){return null===t?n(t):93===t?(e.consume(t),f):io(t)?(o=m,O(t)):(e.consume(t),m)}function f(t){return 93===t?(e.consume(t),g):m(t)}function g(t){return 62===t?D(t):93===t?(e.consume(t),g):m(t)}function x(t){return null===t||62===t?D(t):io(t)?(o=x,O(t)):(e.consume(t),x)}function y(t){return null===t?n(t):63===t?(e.consume(t),v):io(t)?(o=y,O(t)):(e.consume(t),y)}function v(e){return 62===e?D(e):y(e)}function b(t){return Zi(t)?(e.consume(t),w):n(t)}function w(t){return 45===t||Qi(t)?(e.consume(t),w):k(t)}function k(t){return io(t)?(o=k,O(t)):ao(t)?(e.consume(t),k):D(t)}function j(t){return 45===t||Qi(t)?(e.consume(t),j):47===t||62===t||oo(t)?N(t):n(t)}function N(t){return 47===t?(e.consume(t),D):58===t||95===t||Zi(t)?(e.consume(t),C):io(t)?(o=N,O(t)):ao(t)?(e.consume(t),N):D(t)}function C(t){return 45===t||46===t||58===t||95===t||Qi(t)?(e.consume(t),C):S(t)}function S(t){return 61===t?(e.consume(t),E):io(t)?(o=S,O(t)):ao(t)?(e.consume(t),S):N(t)}function E(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),s=t,T):io(t)?(o=E,O(t)):ao(t)?(e.consume(t),E):(e.consume(t),A)}function T(t){return t===s?(e.consume(t),s=void 0,M):null===t?n(t):io(t)?(o=T,O(t)):(e.consume(t),T)}function A(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):47===t||62===t||oo(t)?N(t):(e.consume(t),A)}function M(e){return 47===e||62===e||oo(e)?N(e):n(e)}function D(r){return 62===r?(e.consume(r),e.exit("htmlTextData"),e.exit("htmlText"),t):n(r)}function O(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),P}function P(t){return ao(t)?po(e,_,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):_(t)}function _(t){return e.enter("htmlTextData"),o(t)}}};const Xo={name:"labelEnd",resolveAll:function(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),"labelImage"===r.type||"labelLink"===r.type||"labelEnd"===r.type){const e="labelImage"===r.type?4:2;r.type="data",t+=e}}e.length!==n.length&&Ui(e,0,e.length,n);return e},resolveTo:function(e,t){let n,r,s,i,o=e.length,a=0;for(;o--;)if(n=e[o][1],r){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[o][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(s){if("enter"===e[o][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(r=o,"labelLink"!==n.type)){a=2;break}}else"labelEnd"===n.type&&(s=o);const l={type:"labelLink"===e[r][1].type?"link":"image",start:{...e[r][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[r][1].start},end:{...e[s][1].end}},d={type:"labelText",start:{...e[r+a+2][1].end},end:{...e[s-2][1].start}};return i=[["enter",l,t],["enter",c,t]],i=Wi(i,e.slice(r+1,r+a+3)),i=Wi(i,[["enter",d,t]]),i=Wi(i,yo(t.parser.constructs.insideSpan.null,e.slice(r+a+4,s-3),t)),i=Wi(i,[["exit",d,t],e[s-2],e[s-1],["exit",c,t]]),i=Wi(i,e.slice(s+1)),i=Wi(i,[["exit",l,t]]),Ui(e,r,e.length,i),e},tokenize:function(e,t,n){const r=this;let s,i,o=r.events.length;for(;o--;)if(("labelImage"===r.events[o][1].type||"labelLink"===r.events[o][1].type)&&!r.events[o][1]._balanced){s=r.events[o][1];break}return function(t){if(!s)return n(t);if(s._inactive)return d(t);return i=r.parser.defined.includes(Xi(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),a};function a(t){return 40===t?e.attempt(Zo,c,i?c:d)(t):91===t?e.attempt(Qo,c,i?l:d)(t):i?c(t):d(t)}function l(t){return e.attempt(ea,c,d)(t)}function c(e){return t(e)}function d(e){return s._balanced=!0,n(e)}}},Zo={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),r};function r(t){return oo(t)?Bo(e,s)(t):s(t)}function s(t){return 41===t?c(t):Ro(e,i,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function i(t){return oo(t)?Bo(e,a)(t):c(t)}function o(e){return n(e)}function a(t){return 34===t||39===t||40===t?Fo(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):c(t)}function l(t){return oo(t)?Bo(e,c)(t):c(t)}function c(r){return 41===r?(e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),e.exit("resource"),t):n(r)}}},Qo={tokenize:function(e,t,n){const r=this;return function(t){return zo.call(r,e,s,i,"reference","referenceMarker","referenceString")(t)};function s(e){return r.parser.defined.includes(Xi(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function i(e){return n(e)}}},ea={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),r};function r(r){return 93===r?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}};const ta={name:"labelStartImage",resolveAll:Xo.resolveAll,tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),s};function s(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),i):n(t)}function i(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}};const na={name:"labelStartLink",resolveAll:Xo.resolveAll,tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),s};function s(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}}};const ra={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),po(e,t,"linePrefix")}}};const sa={name:"thematicBreak",tokenize:function(e,t,n){let r,s=0;return function(t){return e.enter("thematicBreak"),function(e){return r=e,i(e)}(t)};function i(i){return i===r?(e.enter("thematicBreakSequence"),o(i)):s>=3&&(null===i||io(i))?(e.exit("thematicBreak"),t(i)):n(i)}function o(t){return t===r?(e.consume(t),s++,o):(e.exit("thematicBreakSequence"),ao(t)?po(e,i,"whitespace")(t):i(t))}}};const ia={continuation:{tokenize:function(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(ko,s,i);function s(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,po(e,t,"listItemIndent",r.containerState.size+1)(n)}function i(n){return r.containerState.furtherBlankLines||!ao(n)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(n)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(aa,t,o)(n))}function o(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,po(e,e.attempt(ia,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}},exit:function(e){e.exit(this.containerState.type)},name:"list",tokenize:function(e,t,n){const r=this,s=r.events[r.events.length-1];let i=s&&"linePrefix"===s[1].type?s[2].sliceSerialize(s[1],!0).length:0,o=0;return function(t){const s=r.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===s?!r.containerState.marker||t===r.containerState.marker:no(t)){if(r.containerState.type||(r.containerState.type=s,e.enter(s,{_container:!0})),"listUnordered"===s)return e.enter("listItemPrefix"),42===t||45===t?e.check(sa,n,l)(t):l(t);if(!r.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),a(t)}return n(t)};function a(t){return no(t)&&++o<10?(e.consume(t),a):(!r.interrupt||o<2)&&(r.containerState.marker?t===r.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),l(t)):n(t)}function l(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||t,e.check(ko,r.interrupt?n:c,e.attempt(oa,u,d))}function c(e){return r.containerState.initialBlankLine=!0,i++,u(e)}function d(t){return ao(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),u):n(t)}function u(n){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}}},oa={partial:!0,tokenize:function(e,t,n){const r=this;return po(e,function(e){const s=r.events[r.events.length-1];return!ao(e)&&s&&"listItemPrefixWhitespace"===s[1].type?t(e):n(e)},"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)}},aa={partial:!0,tokenize:function(e,t,n){const r=this;return po(e,function(e){const s=r.events[r.events.length-1];return s&&"listItemIndent"===s[1].type&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(e):n(e)},"listItemIndent",r.containerState.size+1)}};const la={name:"setextUnderline",resolveTo:function(e,t){let n,r,s,i=e.length;for(;i--;)if("enter"===e[i][0]){if("content"===e[i][1].type){n=i;break}"paragraph"===e[i][1].type&&(r=i)}else"content"===e[i][1].type&&e.splice(i,1),s||"definition"!==e[i][1].type||(s=i);const o={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};e[r][1].type="setextHeadingText",s?(e.splice(r,0,["enter",o,t]),e.splice(s+1,0,["exit",e[n][1],t]),e[n][1].end={...e[s][1].end}):e[n][1]=o;return e.push(["exit",o,t]),e},tokenize:function(e,t,n){const r=this;let s;return function(t){let o,a=r.events.length;for(;a--;)if("lineEnding"!==r.events[a][1].type&&"linePrefix"!==r.events[a][1].type&&"content"!==r.events[a][1].type){o="paragraph"===r.events[a][1].type;break}if(!r.parser.lazy[r.now().line]&&(r.interrupt||o))return e.enter("setextHeadingLine"),s=t,function(t){return e.enter("setextHeadingLineSequence"),i(t)}(t);return n(t)};function i(t){return t===s?(e.consume(t),i):(e.exit("setextHeadingLineSequence"),ao(t)?po(e,o,"lineSuffix")(t):o(t))}function o(r){return null===r||io(r)?(e.exit("setextHeadingLine"),t(r)):n(r)}}};const ca={tokenize:function(e){const t=this,n=e.attempt(ko,function(r){if(null===r)return void e.consume(r);return e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n},e.attempt(this.parser.constructs.flowInitial,r,po(e,e.attempt(this.parser.constructs.flow,r,e.attempt(Io,r)),"linePrefix")));return n;function r(r){if(null!==r)return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(r)}}};const da={resolveAll:ma()},ua=pa("string"),ha=pa("text");function pa(e){return{resolveAll:ma("text"===e?fa:void 0),tokenize:function(t){const n=this,r=this.parser.constructs[e],s=t.attempt(r,i,o);return i;function i(e){return l(e)?s(e):o(e)}function o(e){if(null!==e)return t.enter("data"),t.consume(e),a;t.consume(e)}function a(e){return l(e)?(t.exit("data"),s(e)):(t.consume(e),a)}function l(e){if(null===e)return!0;const t=r[e];let s=-1;if(t)for(;++s<t.length;){const e=t[s];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}}}}function ma(e){return function(t,n){let r,s=-1;for(;++s<=t.length;)void 0===r?t[s]&&"data"===t[s][1].type&&(r=s,s++):t[s]&&"data"===t[s][1].type||(s!==r+2&&(t[r][1].end=t[s-1][1].end,t.splice(r+2,s-r-2),s=r+2),r=void 0);return e?e(t,n):t}}function fa(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){const r=e[n-1][1],s=t.sliceStream(r);let i,o=s.length,a=-1,l=0;for(;o--;){const e=s[o];if("string"==typeof e){for(a=e.length;32===e.charCodeAt(a-1);)l++,a--;if(a)break;a=-1}else if(-2===e)i=!0,l++;else if(-1!==e){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const s={type:n===e.length||i||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?a:r.start._bufferIndex+a,_index:r.start._index+o,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...s.start},r.start.offset===r.end.offset?Object.assign(r,s):(e.splice(n,0,["enter",s,t],["exit",s,t]),n+=2)}n++}return e}const ga={42:ia,43:ia,45:ia,48:ia,49:ia,50:ia,51:ia,52:ia,53:ia,54:ia,55:ia,56:ia,57:ia,62:jo},xa={91:$o},ya={[-2]:To,[-1]:To,32:To},va={35:Ho,42:sa,45:[la,sa],60:Go,61:la,95:sa,96:Eo,126:Eo},ba={38:Co,92:No},wa={[-5]:ra,[-4]:ra,[-3]:ra,33:ta,38:Co,42:vo,60:[wo,Yo],91:na,92:[qo,No],93:Xo,95:vo,96:Mo},ka={null:[vo,da]},ja=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:{null:[42,95]},contentInitial:xa,disable:{null:[]},document:ga,flow:va,flowInitial:ya,insideSpan:ka,string:ba,text:wa},Symbol.toStringTag,{value:"Module"}));function Na(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},i=[];let o=[],a=[];const l={attempt:g(function(e,t){x(e,t.from)}),check:g(f),consume:function(e){io(e)?(r.line++,r.column=1,r.offset+=-3===e?2:1,y()):-1!==e&&(r.column++,r.offset++);r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++));c.previous=e},enter:function(e,t){const n=t||{};return n.type=e,n.start=h(),c.events.push(["enter",n,c]),a.push(n),n},exit:function(e){const t=a.pop();return t.end=h(),c.events.push(["exit",t,c]),t},interrupt:g(f,{interrupt:!0})},c={code:null,containerState:{},defineSkip:function(e){s[e.line]=e.column,y()},events:[],now:h,parser:e,previous:null,sliceSerialize:function(e,t){return function(e,t){let n=-1;const r=[];let s;for(;++n<e.length;){const i=e[n];let o;if("string"==typeof i)o=i;else switch(i){case-5:o="\r";break;case-4:o="\n";break;case-3:o="\r\n";break;case-2:o=t?" ":"\t";break;case-1:if(!t&&s)continue;o=" ";break;default:o=String.fromCharCode(i)}s=-2===i,r.push(o)}return r.join("")}(u(e),t)},sliceStream:u,write:function(e){if(o=Wi(o,e),p(),null!==o[o.length-1])return[];return x(t,0),c.events=yo(i,c.events,c),c.events}};let d=t.tokenize.call(c,l);return t.resolveAll&&i.push(t),c;function u(e){return function(e,t){const n=t.start._index,r=t.start._bufferIndex,s=t.end._index,i=t.end._bufferIndex;let o;if(n===s)o=[e[n].slice(r,i)];else{if(o=e.slice(n,s),r>-1){const e=o[0];"string"==typeof e?o[0]=e.slice(r):o.shift()}i>0&&o.push(e[s].slice(0,i))}return o}(o,e)}function h(){const{_bufferIndex:e,_index:t,line:n,column:s,offset:i}=r;return{_bufferIndex:e,_index:t,line:n,column:s,offset:i}}function p(){let e;for(;r._index<o.length;){const t=o[r._index];if("string"==typeof t)for(e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===e&&r._bufferIndex<t.length;)m(t.charCodeAt(r._bufferIndex));else m(t)}}function m(e){d=d(e)}function f(e,t){t.restore()}function g(e,t){return function(n,s,i){let o,d,u,p;return Array.isArray(n)?m(n):"tokenize"in n?m([n]):function(e){return t;function t(t){const n=null!==t&&e[t],r=null!==t&&e.null;return m([...Array.isArray(n)?n:n?[n]:[],...Array.isArray(r)?r:r?[r]:[]])(t)}}(n);function m(e){return o=e,d=0,0===e.length?i:f(e[d])}function f(e){return function(n){p=function(){const e=h(),t=c.previous,n=c.currentConstruct,s=c.events.length,i=Array.from(a);return{from:s,restore:o};function o(){r=e,c.previous=t,c.currentConstruct=n,c.events.length=s,a=i,y()}}(),u=e,e.partial||(c.currentConstruct=e);if(e.name&&c.parser.constructs.disable.null.includes(e.name))return x();return e.tokenize.call(t?Object.assign(Object.create(c),t):c,l,g,x)(n)}}function g(t){return e(u,p),s}function x(e){return p.restore(),++d<o.length?f(o[d]):i}}}function x(e,t){e.resolveAll&&!i.includes(e)&&i.push(e),e.resolve&&Ui(c.events,t,c.events.length-t,e.resolve(c.events.slice(t),c)),e.resolveTo&&(c.events=e.resolveTo(c.events,c))}function y(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function Ca(e){const t=function(e){const t={};let n=-1;for(;++n<e.length;)Ki(t,e[n]);return t}([ja,...(e||{}).extensions||[]]),n={constructs:t,content:r(mo),defined:[],document:r(fo),flow:r(ca),lazy:{},string:r(ua),text:r(ha)};return n;function r(e){return function(t){return Na(n,e,t)}}}const Sa=/[\0\t\n\r]/g;const Ea=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Ta(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){const e=n.charCodeAt(1),t=120===e||88===e;return Yi(n.slice(t?2:1),t?16:10)}return Hi(n)||e}const Aa={}.hasOwnProperty;function Ma(e,t,n){return"string"!=typeof t&&(n=t,t=void 0),function(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(te),autolinkProtocol:C,autolinkEmail:C,atxHeading:i(X),blockQuote:i(W),characterEscape:C,characterReference:C,codeFenced:i(G),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:i(G,o),codeText:i(K,o),codeTextData:C,data:C,codeFlowValue:C,definition:i(J),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:i(Y),hardBreakEscape:i(Z),hardBreakTrailing:i(Z),htmlFlow:i(Q,o),htmlFlowData:C,htmlText:i(Q,o),htmlTextData:C,image:i(ee),label:o,link:i(te),listItem:i(re),listItemValue:h,listOrdered:i(ne,u),listUnordered:i(ne),paragraph:i(se),reference:F,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:i(X),strong:i(ie),thematicBreak:i(ae)},exit:{atxHeading:l(),atxHeadingSequence:w,autolink:l(),autolinkEmail:U,autolinkProtocol:H,blockQuote:l(),characterEscapeValue:S,characterReferenceMarkerHexadecimal:$,characterReferenceMarkerNumeric:$,characterReferenceValue:V,characterReference:q,codeFenced:l(g),codeFencedFence:f,codeFencedFenceInfo:p,codeFencedFenceMeta:m,codeFlowValue:S,codeIndented:l(x),codeText:l(D),codeTextData:S,data:S,definition:l(),definitionDestinationString:b,definitionLabelString:y,definitionTitleString:v,emphasis:l(),hardBreakEscape:l(T),hardBreakTrailing:l(T),htmlFlow:l(A),htmlFlowData:S,htmlText:l(M),htmlTextData:S,image:l(P),label:I,labelText:_,lineEnding:E,link:l(O),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:B,resourceDestinationString:L,resourceTitleString:R,resource:z,setextHeading:l(N),setextHeadingLineSequence:j,setextHeadingText:k,strong:l(),thematicBreak:l()}};Oa(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(e){let r={type:"root",children:[]};const i={stack:[r],tokenStack:[],config:t,enter:a,exit:c,buffer:o,resume:d,data:n},l=[];let u=-1;for(;++u<e.length;)if("listOrdered"===e[u][1].type||"listUnordered"===e[u][1].type)if("enter"===e[u][0])l.push(u);else{u=s(e,l.pop(),u)}for(u=-1;++u<e.length;){const n=t[e[u][0]];Aa.call(n,e[u][1].type)&&n[e[u][1].type].call(Object.assign({sliceSerialize:e[u][2].sliceSerialize},i),e[u][1])}if(i.tokenStack.length>0){const e=i.tokenStack[i.tokenStack.length-1];(e[1]||_a).call(i,void 0,e[0])}for(r.position={start:Da(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:Da(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},u=-1;++u<t.transforms.length;)r=t.transforms[u](r)||r;return r}function s(e,t,n){let r,s,i,o,a=t-1,l=-1,c=!1;for(;++a<=n;){const t=e[a];switch(t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===t[0]?l++:l--,o=void 0;break;case"lineEndingBlank":"enter"===t[0]&&(!r||o||l||i||(i=a),o=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:o=void 0}if(!l&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===l&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(r){let o=a;for(s=void 0;o--;){const t=e[o];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;s&&(e[s][1].type="lineEndingBlank",c=!0),t[1].type="lineEnding",s=o}else if("linePrefix"!==t[1].type&&"blockQuotePrefix"!==t[1].type&&"blockQuotePrefixWhitespace"!==t[1].type&&"blockQuoteMarker"!==t[1].type&&"listItemIndent"!==t[1].type)break}i&&(!s||i<s)&&(r._spread=!0),r.end=Object.assign({},s?e[s][1].start:t[1].end),e.splice(s||a,0,["exit",r,t[2]]),a++,n++}if("listItemPrefix"===t[1].type){const s={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0};r=s,e.splice(a,0,["enter",s,t[2]]),a++,n++,i=void 0,o=!0}}}return e[t][1]._spread=c,n}function i(e,t){return n;function n(n){a.call(this,e(n),n),t&&t.call(this,n)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(e,t,n){this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n||void 0]),e.position={start:Da(t.start),end:void 0}}function l(e){return t;function t(t){e&&e.call(this,t),c.call(this,t)}}function c(e,t){const n=this.stack.pop(),r=this.tokenStack.pop();if(!r)throw new Error("Cannot close `"+e.type+"` ("+yi({start:e.start,end:e.end})+"): its not open");if(r[0].type!==e.type)if(t)t.call(this,e,r[0]);else{(r[1]||_a).call(this,e,r[0])}n.position.end=Da(e.end)}function d(){return function(e){return $i(e,"boolean"!=typeof Bi.includeImageAlt||Bi.includeImageAlt,"boolean"!=typeof Bi.includeHtml||Bi.includeHtml)}(this.stack.pop())}function u(){this.data.expectingFirstListItemValue=!0}function h(e){if(this.data.expectingFirstListItemValue){this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),this.data.expectingFirstListItemValue=void 0}}function p(){const e=this.resume();this.stack[this.stack.length-1].lang=e}function m(){const e=this.resume();this.stack[this.stack.length-1].meta=e}function f(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function y(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Xi(this.sliceSerialize(e)).toLowerCase()}function v(){const e=this.resume();this.stack[this.stack.length-1].title=e}function b(){const e=this.resume();this.stack[this.stack.length-1].url=e}function w(e){const t=this.stack[this.stack.length-1];if(!t.depth){const n=this.sliceSerialize(e).length;t.depth=n}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function j(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).codePointAt(0)?1:2}function N(){this.data.setextHeadingSlurpLineEnding=void 0}function C(e){const t=this.stack[this.stack.length-1].children;let n=t[t.length-1];n&&"text"===n.type||(n=oe(),n.position={start:Da(e.start),end:void 0},t.push(n)),this.stack.push(n)}function S(e){const t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=Da(e.end)}function E(e){const n=this.stack[this.stack.length-1];if(this.data.atHardBreak){return n.children[n.children.length-1].position.end=Da(e.end),void(this.data.atHardBreak=void 0)}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(n.type)&&(C.call(this,e),S.call(this,e))}function T(){this.data.atHardBreak=!0}function A(){const e=this.resume();this.stack[this.stack.length-1].value=e}function M(){const e=this.resume();this.stack[this.stack.length-1].value=e}function D(){const e=this.resume();this.stack[this.stack.length-1].value=e}function O(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function P(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function _(e){const t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=function(e){return e.replace(Ea,Ta)}(t),n.identifier=Xi(t).toLowerCase()}function I(){const e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];if(this.data.inReference=!0,"link"===n.type){const t=e.children;n.children=t}else n.alt=t}function L(){const e=this.resume();this.stack[this.stack.length-1].url=e}function R(){const e=this.resume();this.stack[this.stack.length-1].title=e}function z(){this.data.inReference=void 0}function F(){this.data.referenceType="collapsed"}function B(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Xi(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType="full"}function $(e){this.data.characterReferenceType=e.type}function V(e){const t=this.sliceSerialize(e),n=this.data.characterReferenceType;let r;if(n)r=Yi(t,"characterReferenceMarkerNumeric"===n?10:16),this.data.characterReferenceType=void 0;else{r=Hi(t)}this.stack[this.stack.length-1].value+=r}function q(e){this.stack.pop().position.end=Da(e.end)}function H(e){S.call(this,e);this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function U(e){S.call(this,e);this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function W(){return{type:"blockquote",children:[]}}function G(){return{type:"code",lang:null,meta:null,value:""}}function K(){return{type:"inlineCode",value:""}}function J(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Y(){return{type:"emphasis",children:[]}}function X(){return{type:"heading",depth:0,children:[]}}function Z(){return{type:"break"}}function Q(){return{type:"html",value:""}}function ee(){return{type:"image",title:null,url:"",alt:null}}function te(){return{type:"link",title:null,url:"",children:[]}}function ne(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function re(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function se(){return{type:"paragraph",children:[]}}function ie(){return{type:"strong",children:[]}}function oe(){return{type:"text",value:""}}function ae(){return{type:"thematicBreak"}}}(n)(function(e){for(;!Po(e););return e}(Ca(n).document().write(function(){let e,t=1,n="",r=!0;return function(s,i,o){const a=[];let l,c,d,u,h;for(s=n+("string"==typeof s?s.toString():new TextDecoder(i||void 0).decode(s)),d=0,n="",r&&(65279===s.charCodeAt(0)&&d++,r=void 0);d<s.length;){if(Sa.lastIndex=d,l=Sa.exec(s),u=l&&void 0!==l.index?l.index:s.length,h=s.charCodeAt(u),!l){n=s.slice(d);break}if(10===h&&d===u&&e)a.push(-3),e=void 0;else switch(e&&(a.push(-5),e=void 0),d<u&&(a.push(s.slice(d,u)),t+=u-d),h){case 0:a.push(65533),t++;break;case 9:for(c=4*Math.ceil(t/4),a.push(-2);t++<c;)a.push(-1);break;case 10:a.push(-4),t=1;break;default:e=!0,t=1}d=u+1}return o&&(e&&a.push(-5),n&&a.push(n),a.push(null)),a}}()(e,t,!0))))}function Da(e){return{line:e.line,column:e.column,offset:e.offset}}function Oa(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Oa(e,r):Pa(e,r)}}function Pa(e,t){let n;for(n in t)if(Aa.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function _a(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+yi({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+yi({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+yi({start:t.start,end:t.end})+") is still open")}function Ia(e){const t=this;t.parser=function(n){return Ma(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function La(e,t){const n=t.referenceType;let r="]";if("collapsed"===n?r+="[]":"full"===n&&(r+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return[{type:"text",value:"!["+t.alt+r}];const s=e.all(t),i=s[0];i&&"text"===i.type?i.value="["+i.value:s.unshift({type:"text",value:"["});const o=s[s.length-1];return o&&"text"===o.type?o.value+=r:s.push({type:"text",value:r}),s}function Ra(e){const t=e.spread;return null==t?e.children.length>1:t}function za(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),s=0;const i=[];for(;r;)i.push(Fa(t.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(t);return i.push(Fa(t.slice(s),s>0,!1)),i.join("")}function Fa(e,t,n){let r=0,s=e.length;if(t){let t=e.codePointAt(r);for(;9===t||32===t;)r++,t=e.codePointAt(r)}if(n){let t=e.codePointAt(s-1);for(;9===t||32===t;)s--,t=e.codePointAt(s-1)}return s>r?e.slice(r,s):""}const Ba={blockquote:function(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)},break:function(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:"\n"}]},code:function(e,t){const n=t.value?t.value+"\n":"",r={},s=t.lang?t.lang.split(/\s+/):[];s.length>0&&(r.className=["language-"+s[0]]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i},delete:function(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},emphasis:function(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},footnoteReference:function(e,t){const n="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),s=ho(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let o,a=e.footnoteCounts.get(r);void 0===a?(a=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=i+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)},heading:function(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},html:function(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}},imageReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return La(e,t);const s={src:ho(r.url||""),alt:t.alt};null!==r.title&&void 0!==r.title&&(s.title=r.title);const i={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,i),e.applyData(t,i)},image:function(e,t){const n={src:ho(t.url)};null!==t.alt&&void 0!==t.alt&&(n.alt=t.alt),null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)},inlineCode:function(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)},linkReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return La(e,t);const s={href:ho(r.url||"")};null!==r.title&&void 0!==r.title&&(s.title=r.title);const i={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)},link:function(e,t){const n={href:ho(t.url)};null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},listItem:function(e,t,n){const r=e.all(t),s=n?function(e){let t=!1;if("list"===e.type){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Ra(n[r])}return t}(n):Ra(t),i={},o=[];if("boolean"==typeof t.checked){const e=r[0];let n;e&&"element"===e.type&&"p"===e.tagName?n=e:(n={type:"element",tagName:"p",properties:{},children:[]},r.unshift(n)),n.children.length>0&&n.children.unshift({type:"text",value:" "}),n.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const e=r[a];(s||0!==a||"element"!==e.type||"p"!==e.tagName)&&o.push({type:"text",value:"\n"}),"element"!==e.type||"p"!==e.tagName||s?o.push(e):o.push(...e.children)}const l=r[r.length-1];l&&(s||"element"!==l.type||"p"!==l.tagName)&&o.push({type:"text",value:"\n"});const c={type:"element",tagName:"li",properties:i,children:o};return e.patch(t,c),e.applyData(t,c)},list:function(e,t){const n={},r=e.all(t);let s=-1;for("number"==typeof t.start&&1!==t.start&&(n.start=t.start);++s<r.length;){const e=r[s];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)},paragraph:function(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},root:function(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)},strong:function(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},table:function(e,t){const n=e.all(t),r=n.shift(),s=[];if(r){const n={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],n),s.push(n)}if(n.length>0){const r={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},i=gi(t.children[1]),o=fi(t.children[t.children.length-1]);i&&o&&(r.position={start:i,end:o}),s.push(r)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,i),e.applyData(t,i)},tableCell:function(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},tableRow:function(e,t,n){const r=n?n.children:void 0,s=0===(r?r.indexOf(t):1)?"th":"td",i=n&&"table"===n.type?n.align:void 0,o=i?i.length:t.children.length;let a=-1;const l=[];for(;++a<o;){const n=t.children[a],r={},o=i?i[a]:void 0;o&&(r.align=o);let c={type:"element",tagName:s,properties:r,children:[]};n&&(c.children=e.all(n),e.patch(n,c),c=e.applyData(n,c)),l.push(c)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)},text:function(e,t){const n={type:"text",value:za(String(t.value))};return e.patch(t,n),e.applyData(t,n)},thematicBreak:function(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)},toml:$a,yaml:$a,definition:$a,footnoteDefinition:$a};function $a(){}const Va="object"==typeof self?self:globalThis,qa=e=>((e,t)=>{const n=(t,n)=>(e.set(n,t),t),r=s=>{if(e.has(s))return e.get(s);const[i,o]=t[s];switch(i){case 0:case-1:return n(o,s);case 1:{const e=n([],s);for(const t of o)e.push(r(t));return e}case 2:{const e=n({},s);for(const[t,n]of o)e[r(t)]=r(n);return e}case 3:return n(new Date(o),s);case 4:{const{source:e,flags:t}=o;return n(new RegExp(e,t),s)}case 5:{const e=n(new Map,s);for(const[t,n]of o)e.set(r(t),r(n));return e}case 6:{const e=n(new Set,s);for(const t of o)e.add(r(t));return e}case 7:{const{name:e,message:t}=o;return n(new Va[e](t),s)}case 8:return n(BigInt(o),s);case"BigInt":return n(Object(BigInt(o)),s);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:e}=new Uint8Array(o);return n(new DataView(e),o)}}return n(new Va[i](o),s)};return r})(new Map,e)(0),Ha="",{toString:Ua}={},{keys:Wa}=Object,Ga=e=>{const t=typeof e;if("object"!==t||!e)return[0,t];const n=Ua.call(e).slice(8,-1);switch(n){case"Array":return[1,Ha];case"Object":return[2,Ha];case"Date":return[3,Ha];case"RegExp":return[4,Ha];case"Map":return[5,Ha];case"Set":return[6,Ha];case"DataView":return[1,n]}return n.includes("Array")?[1,n]:n.includes("Error")?[7,n]:[2,n]},Ka=([e,t])=>0===e&&("function"===t||"symbol"===t),Ja=(e,{json:t,lossy:n}={})=>{const r=[];return((e,t,n,r)=>{const s=(e,t)=>{const s=r.push(e)-1;return n.set(t,s),s},i=r=>{if(n.has(r))return n.get(r);let[o,a]=Ga(r);switch(o){case 0:{let t=r;switch(a){case"bigint":o=8,t=r.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+a);t=null;break;case"undefined":return s([-1],r)}return s([o,t],r)}case 1:{if(a){let e=r;return"DataView"===a?e=new Uint8Array(r.buffer):"ArrayBuffer"===a&&(e=new Uint8Array(r)),s([a,[...e]],r)}const e=[],t=s([o,e],r);for(const n of r)e.push(i(n));return t}case 2:{if(a)switch(a){case"BigInt":return s([a,r.toString()],r);case"Boolean":case"Number":case"String":return s([a,r.valueOf()],r)}if(t&&"toJSON"in r)return i(r.toJSON());const n=[],l=s([o,n],r);for(const t of Wa(r))!e&&Ka(Ga(r[t]))||n.push([i(t),i(r[t])]);return l}case 3:return s([o,r.toISOString()],r);case 4:{const{source:e,flags:t}=r;return s([o,{source:e,flags:t}],r)}case 5:{const t=[],n=s([o,t],r);for(const[s,o]of r)(e||!Ka(Ga(s))&&!Ka(Ga(o)))&&t.push([i(s),i(o)]);return n}case 6:{const t=[],n=s([o,t],r);for(const s of r)!e&&Ka(Ga(s))||t.push(i(s));return n}}const{message:l}=r;return s([o,{name:a,message:l}],r)};return i})(!(t||n),!!t,new Map,r)(e),r},Ya="function"==typeof structuredClone?(e,t)=>t&&("json"in t||"lossy"in t)?qa(Ja(e,t)):structuredClone(e):(e,t)=>qa(Ja(e,t));function Xa(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Za(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}const Qa=function(e){if(null==e)return tl;if("function"==typeof e)return el(e);if("object"==typeof e)return Array.isArray(e)?function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Qa(e[n]);return el(r);function r(...e){let n=-1;for(;++n<t.length;)if(t[n].apply(this,e))return!0;return!1}}(e):function(e){const t=e;return el(n);function n(n){const r=n;let s;for(s in e)if(r[s]!==t[s])return!1;return!0}}(e);if("string"==typeof e)return function(e){return el(t);function t(t){return t&&t.type===e}}(e);throw new Error("Expected function, string, or object as test")};function el(e){return function(t,n,r){return Boolean(function(e){return null!==e&&"object"==typeof e&&"type"in e}(t)&&e.call(this,t,"number"==typeof n?n:void 0,r||void 0))}}function tl(){return!0}const nl=[],rl=!0,sl=!1;function il(e,t,n,r){let s;"function"==typeof t&&"function"!=typeof n?(r=n,n=t):s=t;const i=Qa(s),o=r?-1:1;!function e(s,a,l){const c=s&&"object"==typeof s?s:{};if("string"==typeof c.type){const e="string"==typeof c.tagName?c.tagName:"string"==typeof c.name?c.name:void 0;Object.defineProperty(d,"name",{value:"node ("+s.type+(e?"<"+e+">":"")+")"})}return d;function d(){let c,d,u,h=nl;if((!t||i(s,a,l[l.length-1]||void 0))&&(h=function(e){if(Array.isArray(e))return e;if("number"==typeof e)return[rl,e];return null==e?nl:[e]}(n(s,l)),h[0]===sl))return h;if("children"in s&&s.children){const t=s;if(t.children&&"skip"!==h[0])for(d=(r?t.children.length:-1)+o,u=l.concat(t);d>-1&&d<t.children.length;){const n=t.children[d];if(c=e(n,d,u)(),c[0]===sl)return c;d="number"==typeof c[1]?c[1]:d+o}}return h}}(e,void 0,[])()}function ol(e,t,n,r){let s,i,o;"function"==typeof t&&"function"!=typeof n?(i=void 0,o=t,s=n):(i=t,o=n,s=r),il(e,i,function(e,t){const n=t[t.length-1],r=n?n.children.indexOf(e):void 0;return o(e,r,n)},s)}const al={}.hasOwnProperty,ll={};function cl(e,t){e.position&&(t.position=function(e){const t=gi(e),n=fi(e);if(t&&n)return{start:t,end:n}}(e))}function dl(e,t){let n=t;if(e&&e.data){const t=e.data.hName,r=e.data.hChildren,s=e.data.hProperties;if("string"==typeof t)if("element"===n.type)n.tagName=t;else{n={type:"element",tagName:t,properties:{},children:"children"in n?n.children:[n]}}"element"===n.type&&s&&Object.assign(n.properties,Ya(s)),"children"in n&&n.children&&null!=r&&(n.children=r)}return n}function ul(e,t){const n=t.data||{},r=!("value"in t)||al.call(n,"hProperties")||al.call(n,"hChildren")?{type:"element",tagName:"div",properties:{},children:e.all(t)}:{type:"text",value:t.value};return e.patch(t,r),e.applyData(t,r)}function hl(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:"\n"});++r<e.length;)r&&n.push({type:"text",value:"\n"}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:"\n"}),n}function pl(e){let t=0,n=e.charCodeAt(t);for(;9===n||32===n;)t++,n=e.charCodeAt(t);return e.slice(t)}function ml(e,t){const n=function(e,t){const n=t||ll,r=new Map,s=new Map,i=new Map,o={...Ba,...n.handlers},a={all:function(e){const t=[];if("children"in e){const n=e.children;let r=-1;for(;++r<n.length;){const s=a.one(n[r],e);if(s){if(r&&"break"===n[r-1].type&&(Array.isArray(s)||"text"!==s.type||(s.value=pl(s.value)),!Array.isArray(s)&&"element"===s.type)){const e=s.children[0];e&&"text"===e.type&&(e.value=pl(e.value))}Array.isArray(s)?t.push(...s):t.push(s)}}}return t},applyData:dl,definitionById:r,footnoteById:s,footnoteCounts:i,footnoteOrder:[],handlers:o,one:function(e,t){const n=e.type,r=a.handlers[n];if(al.call(a.handlers,n)&&r)return r(a,e,t);if(a.options.passThrough&&a.options.passThrough.includes(n)){if("children"in e){const{children:t,...n}=e,r=Ya(n);return r.children=a.all(e),r}return Ya(e)}return(a.options.unknownHandler||ul)(a,e,t)},options:n,patch:cl,wrap:hl};return ol(e,function(e){if("definition"===e.type||"footnoteDefinition"===e.type){const t="definition"===e.type?r:s,n=String(e.identifier).toUpperCase();t.has(n)||t.set(n,e)}}),a}(e,t),r=n.one(e,void 0),s=function(e){const t="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Xa,r=e.options.footnoteBackLabel||Za,s=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const s=e.footnoteById.get(e.footnoteOrder[l]);if(!s)continue;const i=e.all(s),o=String(s.identifier).toUpperCase(),c=ho(o.toLowerCase());let d=0;const u=[],h=e.footnoteCounts.get(o);for(;void 0!==h&&++d<=h;){u.length>0&&u.push({type:"text",value:" "});let e="string"==typeof n?n:n(l,d);"string"==typeof e&&(e={type:"text",value:e}),u.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+c+(d>1?"-"+d:""),dataFootnoteBackref:"",ariaLabel:"string"==typeof r?r:r(l,d),className:["data-footnote-backref"]},children:Array.isArray(e)?e:[e]})}const p=i[i.length-1];if(p&&"element"===p.type&&"p"===p.tagName){const e=p.children[p.children.length-1];e&&"text"===e.type?e.value+=" ":p.children.push({type:"text",value:" "}),p.children.push(...u)}else i.push(...u);const m={type:"element",tagName:"li",properties:{id:t+"fn-"+c},children:e.wrap(i,!0)};e.patch(s,m),a.push(m)}if(0!==a.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...Ya(o),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:"\n"}]}}(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&i.children.push({type:"text",value:"\n"},s),i}function fl(e,t){return e&&"run"in e?async function(n,r){const s=ml(n,{file:r,...t});await e.run(s,r)}:function(n,r){return ml(n,{file:r,...e||t})}}function gl(e){if(e)throw e}var xl,yl;var vl=function(){if(yl)return xl;yl=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===t.call(e)},i=function(n){if(!n||"[object Object]"!==t.call(n))return!1;var r,s=e.call(n,"constructor"),i=n.constructor&&n.constructor.prototype&&e.call(n.constructor.prototype,"isPrototypeOf");if(n.constructor&&!s&&!i)return!1;for(r in n);return void 0===r||e.call(n,r)},o=function(e,t){n&&"__proto__"===t.name?n(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},a=function(t,n){if("__proto__"===n){if(!e.call(t,n))return;if(r)return r(t,n).value}return t[n]};return xl=function e(){var t,n,r,l,c,d,u=arguments[0],h=1,p=arguments.length,m=!1;for("boolean"==typeof u&&(m=u,u=arguments[1]||{},h=2),(null==u||"object"!=typeof u&&"function"!=typeof u)&&(u={});h<p;++h)if(null!=(t=arguments[h]))for(n in t)r=a(u,n),u!==(l=a(t,n))&&(m&&l&&(i(l)||(c=s(l)))?(c?(c=!1,d=r&&s(r)?r:[]):d=r&&i(r)?r:{},o(u,{name:n,newValue:e(m,d,l)})):void 0!==l&&o(u,{name:n,newValue:l}));return u},xl}();const bl=n(vl);function wl(e){if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)}function kl(){const e=[],t={run:function(...t){let n=-1;const r=t.pop();if("function"!=typeof r)throw new TypeError("Expected function as last argument, not "+r);!function s(i,...o){const a=e[++n];let l=-1;if(i)r(i);else{for(;++l<t.length;)null!==o[l]&&void 0!==o[l]||(o[l]=t[l]);t=o,a?function(e,t){let n;return r;function r(...t){const r=e.length>t.length;let a;r&&t.push(s);try{a=e.apply(this,t)}catch(i){if(r&&n)throw i;return s(i)}r||(a&&a.then&&"function"==typeof a.then?a.then(o,s):a instanceof Error?s(a):o(a))}function s(e,...r){n||(n=!0,t(e,...r))}function o(e){s(null,e)}}(a,s)(...o):r(null,...o)}}(null,...t)},use:function(n){if("function"!=typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}const jl={basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');Nl(e);let n,r=0,s=-1,i=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;i--;)if(47===e.codePointAt(i)){if(n){r=i+1;break}}else s<0&&(n=!0,s=i+1);return s<0?"":e.slice(r,s)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(47===e.codePointAt(i)){if(n){r=i+1;break}}else o<0&&(n=!0,o=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(s=i):(a=-1,s=o));r===s?s=o:s<0&&(s=e.length);return e.slice(r,s)},dirname:function(e){if(Nl(e),0===e.length)return".";let t,n=-1,r=e.length;for(;--r;)if(47===e.codePointAt(r)){if(t){n=r;break}}else t||(t=!0);return n<0?47===e.codePointAt(0)?"/":".":1===n&&47===e.codePointAt(0)?"//":e.slice(0,n)},extname:function(e){Nl(e);let t,n=e.length,r=-1,s=0,i=-1,o=0;for(;n--;){const a=e.codePointAt(n);if(47!==a)r<0&&(t=!0,r=n+1),46===a?i<0?i=n:1!==o&&(o=1):i>-1&&(o=-1);else if(t){s=n+1;break}}if(i<0||r<0||0===o||1===o&&i===r-1&&i===s+1)return"";return e.slice(i,r)},join:function(...e){let t,n=-1;for(;++n<e.length;)Nl(e[n]),e[n]&&(t=void 0===t?e[n]:t+"/"+e[n]);return void 0===t?".":function(e){Nl(e);const t=47===e.codePointAt(0);let n=function(e,t){let n,r,s="",i=0,o=-1,a=0,l=-1;for(;++l<=e.length;){if(l<e.length)n=e.codePointAt(l);else{if(47===n)break;n=47}if(47===n){if(o===l-1||1===a);else if(o!==l-1&&2===a){if(s.length<2||2!==i||46!==s.codePointAt(s.length-1)||46!==s.codePointAt(s.length-2))if(s.length>2){if(r=s.lastIndexOf("/"),r!==s.length-1){r<0?(s="",i=0):(s=s.slice(0,r),i=s.length-1-s.lastIndexOf("/")),o=l,a=0;continue}}else if(s.length>0){s="",i=0,o=l,a=0;continue}t&&(s=s.length>0?s+"/..":"..",i=2)}else s.length>0?s+="/"+e.slice(o+1,l):s=e.slice(o+1,l),i=l-o-1;o=l,a=0}else 46===n&&a>-1?a++:a=-1}return s}(e,!t);0!==n.length||t||(n=".");n.length>0&&47===e.codePointAt(e.length-1)&&(n+="/");return t?"/"+n:n}(t)},sep:"/"};function Nl(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Cl={cwd:function(){return"/"}};function Sl(e){return Boolean(null!==e&&"object"==typeof e&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&void 0===e.auth)}function El(e){if("string"==typeof e)e=new URL(e);else if(!Sl(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){const e=new TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}const t=e.pathname;let n=-1;for(;++n<t.length;)if(37===t.codePointAt(n)&&50===t.codePointAt(n+1)){const e=t.codePointAt(n+2);if(70===e||102===e){const e=new TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}const Tl=["history","path","basename","stem","extname","dirname"];class Al{constructor(e){let t;t=e?Sl(e)?{path:e}:"string"==typeof e||function(e){return Boolean(e&&"object"==typeof e&&"byteLength"in e&&"byteOffset"in e)}(e)?{value:e}:e:{},this.cwd="cwd"in t?"":Cl.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n,r=-1;for(;++r<Tl.length;){const e=Tl[r];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(n in t)Tl.includes(n)||(this[n]=t[n])}get basename(){return"string"==typeof this.path?jl.basename(this.path):void 0}set basename(e){Dl(e,"basename"),Ml(e,"basename"),this.path=jl.join(this.dirname||"",e)}get dirname(){return"string"==typeof this.path?jl.dirname(this.path):void 0}set dirname(e){Ol(this.basename,"dirname"),this.path=jl.join(e||"",this.basename)}get extname(){return"string"==typeof this.path?jl.extname(this.path):void 0}set extname(e){if(Ml(e,"extname"),Ol(this.dirname,"extname"),e){if(46!==e.codePointAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=jl.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Sl(e)&&(e=El(e)),Dl(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return"string"==typeof this.path?jl.basename(this.path,this.extname):void 0}set stem(e){Dl(e,"stem"),Ml(e,"stem"),this.path=jl.join(this.dirname||"",e+(this.extname||""))}fail(e,t,n){const r=this.message(e,t,n);throw r.fatal=!0,r}info(e,t,n){const r=this.message(e,t,n);return r.fatal=void 0,r}message(e,t,n){const r=new ki(e,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){if(void 0===this.value)return"";if("string"==typeof this.value)return this.value;return new TextDecoder(e||void 0).decode(this.value)}}function Ml(e,t){if(e&&e.includes(jl.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+jl.sep+"`")}function Dl(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Ol(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const Pl=function(e){const t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},_l={}.hasOwnProperty;class Il extends Pl{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=kl()}copy(){const e=new Il;let t=-1;for(;++t<this.attachers.length;){const n=this.attachers[t];e.use(...n)}return e.data(bl(!0,{},this.namespace)),e}data(e,t){return"string"==typeof e?2===arguments.length?(Fl("data",this.frozen),this.namespace[e]=t,this):_l.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Fl("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...n]=this.attachers[this.freezeIndex];if(!1===n[0])continue;!0===n[0]&&(n[0]=void 0);const r=t.call(e,...n);"function"==typeof r&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=Vl(e),n=this.parser||this.Parser;return Rl("parse",n),n(String(t),t)}process(e,t){const n=this;return this.freeze(),Rl("process",this.parser||this.Parser),zl("process",this.compiler||this.Compiler),t?r(void 0,t):new Promise(r);function r(r,s){const i=Vl(e),o=n.parse(i);function a(e,n){e||!n?s(e):r?r(n):t(void 0,n)}n.run(o,i,function(e,t,r){if(e||!t||!r)return a(e);const s=t,i=n.stringify(s,r);var o;"string"==typeof(o=i)||function(e){return Boolean(e&&"object"==typeof e&&"byteLength"in e&&"byteOffset"in e)}(o)?r.value=i:r.result=i,a(e,r)})}}processSync(e){let t,n=!1;return this.freeze(),Rl("processSync",this.parser||this.Parser),zl("processSync",this.compiler||this.Compiler),this.process(e,function(e,r){n=!0,gl(e),t=r}),$l("processSync","process",n),t}run(e,t,n){Bl(e),this.freeze();const r=this.transformers;return n||"function"!=typeof t||(n=t,t=void 0),n?s(void 0,n):new Promise(s);function s(s,i){const o=Vl(t);r.run(e,o,function(t,r,o){const a=r||e;t?i(t):s?s(a):n(void 0,a,o)})}}runSync(e,t){let n,r=!1;return this.run(e,t,function(e,t){gl(e),n=t,r=!0}),$l("runSync","run",r),n}stringify(e,t){this.freeze();const n=Vl(t),r=this.compiler||this.Compiler;return zl("stringify",r),Bl(e),r(e,n)}use(e,...t){const n=this.attachers,r=this.namespace;if(Fl("use",this.frozen),null==e);else if("function"==typeof e)a(e,t);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?o(e):i(e)}return this;function s(e){if("function"==typeof e)a(e,[]);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){const[t,...n]=e;a(t,n)}else i(e)}}function i(e){if(!("plugins"in e)&&!("settings"in e))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(e.plugins),e.settings&&(r.settings=bl(!0,r.settings,e.settings))}function o(e){let t=-1;if(null==e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){s(e[t])}}}function a(e,t){let r=-1,s=-1;for(;++r<n.length;)if(n[r][0]===e){s=r;break}if(-1===s)n.push([e,...t]);else if(t.length>0){let[r,...i]=t;const o=n[s][1];wl(o)&&wl(r)&&(r=bl(!0,o,r)),n[s]=[e,r,...i]}}}}const Ll=(new Il).freeze();function Rl(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `parser`")}function zl(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `compiler`")}function Fl(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Bl(e){if(!wl(e)||"string"!=typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function $l(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Vl(e){return function(e){return Boolean(e&&"object"==typeof e&&"message"in e&&"messages"in e)}(e)?e:new Al(e)}const ql=[],Hl={allowDangerousHtml:!0},Ul=/^(https?|ircs?|mailto|xmpp)$/i,Wl=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Gl(e){const t=function(e){const t=e.rehypePlugins||ql,n=e.remarkPlugins||ql,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Hl}:Hl,s=Ll().use(Ia).use(n).use(fl,r).use(t);return s}(e),n=function(e){const t=e.children||"",n=new Al;"string"==typeof t&&(n.value=t);return n}(e);return function(e,t){const n=t.allowedElements,r=t.allowElement,s=t.components,i=t.disallowedElements,o=t.skipHtml,a=t.unwrapDisallowed,l=t.urlTransform||Kl;for(const d of Wl)Object.hasOwn(t,d.from)&&gs((d.from,d.to&&d.to,d.id));return ol(e,c),Ai(e,{Fragment:ct.Fragment,components:s,ignoreInvalidStyle:!0,jsx:ct.jsx,jsxs:ct.jsxs,passKeys:!0,passNode:!0});function c(e,t,s){if("raw"===e.type&&s&&"number"==typeof t)return o?s.children.splice(t,1):s.children[t]={type:"text",value:e.value},t;if("element"===e.type){let t;for(t in Fi)if(Object.hasOwn(Fi,t)&&Object.hasOwn(e.properties,t)){const n=e.properties[t],r=Fi[t];(null===r||r.includes(e.tagName))&&(e.properties[t]=l(String(n||""),t,e))}}if("element"===e.type){let o=n?!n.includes(e.tagName):!!i&&i.includes(e.tagName);if(!o&&r&&"number"==typeof t&&(o=!r(e,t,s)),o&&s&&"number"==typeof t)return a&&e.children?s.children.splice(t,1,...e.children):s.children.splice(t,1),t}}}(t.runSync(t.parse(n),n),e)}function Kl(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),s=e.indexOf("/");return-1===t||-1!==s&&t>s||-1!==n&&t>n||-1!==r&&t>r||Ul.test(e.slice(0,t))?e:""}const Jl=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),Yl=(e,t)=>{switch(e){case"email":return t?Jl(t)?null:"Digite um email vlido":"O email  obrigatrio";case"password":return t?(n=t)&&n.length>=6?null:"A senha deve ter pelo menos 6 caracteres":"A senha  obrigatria";case"name":return t&&0!==t.trim().length?t.trim().length<2?"O nome deve ter pelo menos 2 caracteres":/\d/.test(t)?"O nome no pode conter nmeros":(e=>e&&/^[a-zA-Z-\s.\-\']{2,100}$/.test(e.trim()))(t)?null:"O nome contm caracteres invlidos":"O nome  obrigatrio";case"content":return t?(e=>e&&e.trim().length>=10&&e.trim().length<=2e3)(t)?null:"O comentrio deve ter entre 10 e 2000 caracteres":"O comentrio  obrigatrio";default:return null}var n},Xl=({postId:e,onSubmit:t,submitting:n})=>{const[s,i]=r.useState(0),[o,a]=r.useState(!1),l=r.useRef(!1),c=r.useRef(!1),[d,u]=r.useState(!1),[h,p]=r.useState({}),[m,f]=r.useState({}),[x,y]=r.useState({name:"",email:"",content:"",website:""});r.useEffect(()=>{const t=localStorage.getItem(`lastCommentTime_${e}`);if(t){const n=Date.now()-parseInt(t),r=3e5;if(n<r){const e=Math.ceil((r-n)/6e4);i(e),a(!0),l.current||(l.current=!0,A.error(`Aguarde ${e} minutos para comentar novamente neste post.`,{duration:5e3,position:"top-center"}))}else localStorage.removeItem(`lastCommentTime_${e}`),a(!1),l.current=!1}else a(!1),l.current=!1},[e]),r.useEffect(()=>{if(s>0){const e=setTimeout(()=>{i(e=>e-1)},6e4);return()=>clearTimeout(e)}a(!1)},[s]);const v=(e,t)=>Yl(e,t),b=e=>{const{name:t,value:n}=e.target;y(e=>({...e,[t]:n})),m[t]&&p(e=>({...e,[t]:v(t,n)}))},w=(e,t)=>{f(t=>({...t,[e]:!0})),p(n=>({...n,[e]:v(e,t)}))};return ct.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-8",children:[ct.jsxs("h3",{className:"text-lg font-semibold text-navy mb-4 flex items-center space-x-2",children:[ct.jsx(M,{className:"w-5 h-5 text-teal-primary"}),ct.jsx("span",{children:"Deixe seu comentrio"})]}),s>0?ct.jsxs(ct.Fragment,{children:[ct.jsxs("div",{className:"bg-orange-50 text-orange-800 p-4 rounded-lg flex items-start space-x-3 mb-4",children:[ct.jsx(D,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),ct.jsxs("div",{children:[ct.jsx("p",{className:"font-medium",children:"Limite de comentrios atingido"}),ct.jsxs("p",{className:"text-sm mt-1",children:["Para evitar spam, permitimos um comentrio a cada 5 minutos. Por favor, aguarde cerca de"," ",ct.jsxs("strong",{children:[s," minutos"]})," para enviar novamente."]})]})]}),ct.jsxs("button",{type:"button",disabled:!0,className:"btn-primary flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[ct.jsx(D,{className:"w-4 h-4"}),ct.jsxs("span",{children:["Aguarde ",s," minutos"]})]})]}):ct.jsxs("form",{onSubmit:async r=>{if(r.preventDefault(),console.log("handleSubmit called",{isSubmitting:d,submitting:n,lock:c.current,timestamp:Date.now()}),d||n||c.current)return void console.warn("Form submission prevented: already in progress");if(""!==x.website)return console.warn("Bot detectado pelo Honeypot!"),void A.success("Comentrio enviado com sucesso!");if(o&&s>0)return;f({name:!0,email:!0,content:!0});const h=v("name",x.name),m=v("email",x.email),g=v("content",x.content);if(p({name:h,email:m,content:g}),h||m||g)A.error("Por favor, corrija os erros no formulrio.");else try{l.current="submitting",c.current=!0,u(!0);const{website:n,...r}=x;await t({post_id:e,...r})?(localStorage.setItem(`lastCommentTime_${e}`,Date.now().toString()),i(5),a(!0),l.current=!0,y({name:"",email:"",content:"",website:""}),p({}),f({})):l.current=!1}catch(cR){console.error("Error in form submission:",cR),l.current=!1}finally{u(!1),c.current=!1,console.log("Submission finished, lock released"),"submitting"===l.current&&(l.current=!1)}},className:"space-y-4",children:[ct.jsxs("div",{className:"opacity-0 absolute h-0 w-0 overflow-hidden","aria-hidden":"true",children:[ct.jsx("label",{htmlFor:"website",children:"Website (Deixe em branco se for humano)"}),ct.jsx("input",{type:"text",id:"website",name:"website",value:x.website,onChange:b,tabIndex:"-1",autoComplete:"off"})]}),ct.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[ct.jsxs("div",{children:[ct.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-text-primary mb-2",children:"Nome *"}),ct.jsxs("div",{className:"relative",children:[ct.jsx(g,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-text-secondary z-20 pointer-events-none"}),ct.jsx("input",{type:"text",id:"name",name:"name",value:x.name,onChange:b,onBlur:e=>w("name",e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent transition-colors "+(h.name&&m.name?"border-red-500 focus:ring-red-500":!h.name&&m.name?"border-green-500 focus:ring-green-500":"border-gray-300 focus:ring-teal-primary"),placeholder:"Seu nome",required:!0,minLength:2,maxLength:100})]}),h.name&&m.name&&ct.jsxs("div",{className:"flex items-center gap-1 mt-2 text-red-500 text-sm",children:[ct.jsx(D,{className:"w-4 h-4"}),ct.jsx("span",{children:h.name})]}),!h.name&&m.name&&x.name&&x.name.length>=2&&ct.jsxs("div",{className:"flex items-center gap-1 mt-2 text-green-500 text-sm",children:[ct.jsx(O,{className:"w-4 h-4"}),ct.jsx("span",{children:"Nome vlido"})]})]}),ct.jsxs("div",{children:[ct.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-text-primary mb-2",children:"Email *"}),ct.jsxs("div",{className:"relative",children:[ct.jsx(T,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-text-secondary z-20 pointer-events-none"}),ct.jsx("input",{type:"email",id:"email",name:"email",value:x.email,onChange:b,onBlur:e=>w("email",e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent transition-colors "+(h.email&&m.email?"border-red-500 focus:ring-red-500":!h.email&&m.email?"border-green-500 focus:ring-green-500":"border-gray-300 focus:ring-teal-primary"),placeholder:"seu@email.com",required:!0,minLength:5,maxLength:255})]}),h.email&&m.email&&ct.jsxs("div",{className:"flex items-center gap-1 mt-2 text-red-500 text-sm",children:[ct.jsx(D,{className:"w-4 h-4"}),ct.jsx("span",{children:h.email})]}),!h.email&&m.email&&x.email&&Jl(x.email)&&ct.jsxs("div",{className:"flex items-center gap-1 mt-2 text-green-500 text-sm",children:[ct.jsx(O,{className:"w-4 h-4"}),ct.jsx("span",{children:"Email vlido"})]})]})]}),ct.jsxs("div",{children:[ct.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-text-primary mb-2",children:"Comentrio *"}),ct.jsx("textarea",{id:"content",name:"content",value:x.content,onChange:b,onBlur:e=>w("content",e.target.value),rows:4,className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent resize-none transition-colors "+(h.content&&m.content?"border-red-500 focus:ring-red-500":!h.content&&m.content?"border-green-500 focus:ring-green-500":"border-gray-300 focus:ring-teal-primary"),placeholder:"Digite seu comentrio aqui...",required:!0,minLength:10,maxLength:2e3}),h.content&&m.content&&ct.jsxs("div",{className:"flex items-center gap-1 mt-2 text-red-500 text-sm",children:[ct.jsx(D,{className:"w-4 h-4"}),ct.jsx("span",{children:h.content})]}),!h.content&&m.content&&x.content&&x.content.length>=10&&ct.jsxs("div",{className:"flex items-center gap-1 mt-2 text-green-500 text-sm",children:[ct.jsx(O,{className:"w-4 h-4"}),ct.jsx("span",{children:"Comentrio vlido"})]}),ct.jsxs("div",{className:"text-right text-xs text-text-secondary mt-1",children:[x.content.length,"/2000 caracteres"]})]}),ct.jsx("button",{type:"submit",disabled:n||d,className:"btn-primary flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:n||d?ct.jsxs(ct.Fragment,{children:[ct.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),ct.jsx("span",{children:"Enviando..."})]}):ct.jsxs(ct.Fragment,{children:[ct.jsx(P,{className:"w-4 h-4"}),ct.jsx("span",{children:"Enviar comentrio"})]})})]})]})},Zl=({comments:e,loading:t})=>t?ct.jsx("div",{className:"flex items-center justify-center py-8",children:ct.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-teal-primary"})}):e&&0!==e.length?ct.jsxs("div",{className:"space-y-6",children:[ct.jsxs("h3",{className:"text-lg font-semibold text-navy mb-4",children:["Comentrios (",e.length,")"]}),e.map(e=>ct.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:ct.jsxs("div",{className:"flex items-start space-x-4",children:[ct.jsx("div",{className:"w-10 h-10 bg-teal-primary rounded-full flex items-center justify-center flex-shrink-0",children:ct.jsx("span",{className:"text-white font-semibold",children:e.name.charAt(0).toUpperCase()})}),ct.jsxs("div",{className:"flex-1",children:[ct.jsxs("div",{className:"flex items-center justify-between mb-3",children:[ct.jsxs("div",{children:[ct.jsx("h4",{className:"font-semibold text-navy",children:e.name}),ct.jsxs("div",{className:"flex items-center space-x-2 text-xs text-text-secondary",children:[ct.jsx(x,{className:"w-3 h-3"}),ct.jsx("span",{children:Zr(e.created_at)})]})]}),ct.jsxs("div",{className:"flex items-center space-x-1",children:[ct.jsx(_,{className:"w-3 h-3 text-green-500"}),ct.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Publicado"})]})]}),ct.jsx("div",{className:"text-text-primary leading-relaxed whitespace-pre-wrap",children:e.content})]})]})},e.id))]}):ct.jsxs("div",{className:"text-center py-8",children:[ct.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:ct.jsx(M,{className:"w-8 h-8 text-gray-400"})}),ct.jsx("h3",{className:"text-lg font-semibold text-navy mb-2",children:"Nenhum comentrio ainda"}),ct.jsx("p",{className:"text-text-secondary",children:"Seja o primeiro a comentar nesta matria!"})]}),Ql="comment_rate_limit",ec=36e5,tc=e=>{if(!e||"string"!=typeof e)return"";let t=e.replace(/<[^>]*>/g,"");return t=t.replace(/\s+/g," ").trim(),t=t.replace(/javascript:/gi,""),t=t.replace(/on\w+\s*=/gi,""),t},nc=e=>{if(!e||"string"!=typeof e)return"";let t=e.replace(/<[^>]*>/g,"");return t=t.replace(/[<>]/g,""),t.replace(/\s+/g," ").trim()},rc=e=>{if(!e||"string"!=typeof e)return"";let t=e.toLowerCase().trim();return t=t.replace(/<[^>]*>/g,""),t},sc=e=>{const t=(e=>{const t=[/https?:\/\//i,/<a\s+href=/i,/\[url=.*\]/i,/www\./i,/http:\/\//i];for(const[s,i]of Object.entries(e))if(i&&"string"==typeof i)for(const e of t)if(e.test(i))return{isBot:!0,reason:`Suspicious pattern detected in ${s}: ${e}`};const n=localStorage.getItem("last_submission_time"),r=Date.now();if(n&&r-parseInt(n)<2e3)return{isBot:!0,reason:"Submission too fast - likely automated"};return localStorage.setItem("last_submission_time",r.toString()),{isBot:!1}})(e);if(t.isBot)throw new Error("Validao de segurana falhou. Tente novamente.");const n=(()=>{const e=Date.now(),t=localStorage.getItem(Ql);if(!t){const t={count:1,firstComment:e,lastReset:e};return localStorage.setItem(Ql,JSON.stringify(t)),{allowed:!0,remaining:2}}const n=JSON.parse(t),r=e-n.firstComment;if(Math.floor(r/ec)>=1){const t={count:1,firstComment:e,lastReset:e};return localStorage.setItem(Ql,JSON.stringify(t)),{allowed:!0,remaining:2}}if(n.count>=3){const t=ec-(e-n.lastReset);return{allowed:!1,remaining:0,resetIn:Math.ceil(t/6e4)}}return n.count+=1,localStorage.setItem(Ql,JSON.stringify(n)),{allowed:!0,remaining:3-n.count}})();if(!n.allowed)throw new Error(`Limite de comentrios excedido. Aguarde ${n.resetIn} minutos antes de comentar novamente.`);const r={post_id:e.post_id,name:nc(e.name),email:rc(e.email),content:tc(e.content)};if(!r.name||r.name.length<2)throw new Error("Nome  obrigatrio e deve ter pelo menos 2 caracteres.");if(!r.email||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email))throw new Error("Email invlido.");if(!r.content||r.content.length<10)throw new Error("Comentrio deve ter pelo menos 10 caracteres.");if(r.content.length>2e3)throw new Error("Comentrio deve ter no mximo 2000 caracteres.");return r},ic=new Set,oc=()=>{const[e,t]=r.useState([]),[n,s]=r.useState(!0),[i,o]=r.useState(null),a=async(e=null)=>{try{s(!0),o(null);let n=rs.from("comments").select("*, posts(title)").order("created_at",{ascending:!1});e&&(n=n.eq("status",e));const{data:r,error:i}=await n;if(i)throw i;t(r||[])}catch(n){console.error("Error fetching admin comments:",n),o(n.message)}finally{s(!1)}};return r.useEffect(()=>{a();const e=rs.channel("admin-comments-changes").on("postgres_changes",{event:"*",schema:"public",table:"comments"},e=>{console.log("Real-time change received:",e),"DELETE"===e.eventType?t(t=>t.filter(t=>t.id!==e.old.id)):a()}).subscribe();return()=>{rs.removeChannel(e)}},[]),{comments:e,loading:n,error:i,fetchComments:a,approveComment:async(e,n=!1)=>{try{const{data:r,error:s}=await rs.from("comments").update({status:"approved"}).eq("id",e).select().single();if(s)throw s;return t(t=>t.map(t=>t.id===e?{...t,status:"approved"}:t)),n||A.success("Comentrio aprovado!"),r}catch(r){return console.error("Error approving comment:",r),n||A.error("Erro ao aprovar comentrio."),!1}},rejectComment:async(e,n=!1)=>{try{const{error:r}=await rs.from("comments").delete().eq("id",e);if(r)throw r;return t(t=>t.filter(t=>t.id!==e)),n||A.success("Comentrio rejeitado e removido!"),!0}catch(r){return console.error("Error rejecting comment:",r),n||A.error("Erro ao rejeitar comentrio."),!1}}}},ac=()=>{const{slug:e}=a(),{post:t,loading:n,error:s}=(e=>{const[t,n]=r.useState(null),[s,i]=r.useState(!0),[o,a]=r.useState(null);return r.useEffect(()=>{const t=async()=>{if(e)try{i(!0),a(null);const{data:t,error:r}=await rs.from("posts").select("*").eq("slug",e).eq("status","published").single();if(r)throw r;const s={...t,image:t.image?ss(t.image,{width:800,height:450}):null};n(s);const{data:o}=await rs.from("posts").select("title, slug, date").eq("status","published").lt("date",t.date).order("date",{ascending:!1}).limit(1).maybeSingle(),{data:l}=await rs.from("posts").select("title, slug, date").eq("status","published").gt("date",t.date).order("date",{ascending:!0}).limit(1).maybeSingle();n(e=>({...e,nextPost:o,prevPost:l}))}catch(o){console.error("Error fetching post:",o),a(o.message)}finally{i(!1)}else i(!1)};t();let r=null;const s=setTimeout(()=>{r=rs.channel(`public:posts:slug=eq.${e}`).on("postgres_changes",{event:"*",schema:"public",table:"posts",filter:`slug=eq.${e}`},()=>{t()}).subscribe()},100);return()=>{clearTimeout(s),r&&rs.removeChannel(r).catch(()=>{})}},[e]),{post:t,loading:s,error:o}})(e),{posts:i}=((e,t=4)=>{const[n,s]=r.useState([]),[i,o]=r.useState(!0),[a,l]=r.useState(null);return r.useEffect(()=>{(async()=>{if(e?.id)try{o(!0),l(null);let n=rs.from("posts").select("\n\t\t\t\t\t\tid, \n\t\t\t\t\t\ttitle, \n\t\t\t\t\t\texcerpt, \n\t\t\t\t\t\tslug, \n\t\t\t\t\t\tcategory, \n\t\t\t\t\t\ttags,\n\t\t\t\t\t\tauthor, \n\t\t\t\t\t\tdate, \n\t\t\t\t\t\timage, \n\t\t\t\t\t\tfeatured,\n\t\t\t\t\t\tview_count,\n\t\t\t\t\t\tstatus\n\t\t\t\t\t").eq("status","published").neq("id",e.id).order("date",{ascending:!1}).limit(t);const r=[];if(e.category&&r.push(`category.eq."${e.category}"`),e.tags&&e.tags.length>0){const t=`{"${e.tags.map(e=>e.replace(/"/g,'\\"')).join('","')}"}`;r.push(`tags.ov.${t}`)}r.length>0&&(n=n.or(r.join(",")));const{data:i,error:a}=await n;if(a)throw a;const c=await Promise.all(i.map(async e=>({...e,image:e.image?ss(e.image,{width:400,height:250,crop:"fill",quality:"auto",format:"auto"}):null})));s(c)}catch(n){console.error("Error fetching related posts:",n),l(n.message)}finally{o(!1)}else o(!1)})()},[e?.id,e?.category,JSON.stringify(e?.tags),t]),{posts:n,loading:i,error:a}})(t,4),{comments:l,loading:c}=((e,t="approved")=>{const[n,s]=r.useState([]),[i,o]=r.useState(!0),[a,l]=r.useState(null);return r.useEffect(()=>{(async()=>{if(e)try{o(!0),l(null);const{data:n,error:r}=await rs.from("comments").select("*").eq("post_id",e).eq("status",t).order("created_at",{ascending:!1});if(r)throw r;s(n||[])}catch(n){console.error("Error fetching comments:",n),l(n.message)}finally{o(!1)}else o(!1)})()},[e,t]),{comments:n,loading:i,error:a}})(t?.id),{submitComment:d,submitting:u}=(()=>{const[e,t]=r.useState(!1),n=r.useRef(!1);return{submitComment:async r=>{const i=`${r.post_id}-${r.email}-${r.content.length}`;if(console.log("useSubmitComment called",{isInProgress:n.current,submitting:e,fingerprint:i}),n.current)return console.warn("Submission blocked: already in progress (useSubmitComment)"),!1;if(ic.has(i))return console.warn("Submission blocked: Duplicate submission detected (Global Fingerprint)"),!1;ic.add(i),setTimeout(()=>ic.delete(i),1e4);try{n.current=!0,t(!0);const e=sc(r),{error:s}=await rs.from("comments").insert({post_id:e.post_id,name:e.name,email:e.email,content:e.content,status:"pending"});if(s){if(console.error("Supabase error:",s),"42501"===s.code||s.message.includes("row-level security"))throw new Error("No foi possvel enviar o comentrio. Tente novamente mais tarde.");if("23505"===s.code||s.message.includes("duplicate key")||s.message.includes("violates unique constraint"))throw new Error("Voc j comentou recentemente. Aguarde alguns minutos para comentar novamente.");throw s}const i={id:Date.now(),post_id:e.post_id,name:e.name,email:e.email,content:e.content,status:"pending",created_at:(new Date).toISOString()};return A.success("Comentrio enviado para anlise!"),i}catch(s){return console.error("Error submitting comment:",s),s.message.includes("Validao")||s.message.includes("Limite")||s.message.includes("obrigatrio")||s.message.includes("invlido")||s.message.includes("caracteres")||s.message.includes("recentemente")||s.message.includes("No foi possvel")?A.error(s.message):A.error("Erro ao enviar comentrio. Tente novamente."),!1}finally{t(!1),n.current=!1}},submitting:e}})(),{viewCount:h,trackView:p}=(e=>{const[t,n]=r.useState(0),[s,i]=r.useState(!0),[o,a]=r.useState(null),l=r.useRef(!1);return r.useEffect(()=>{if(!e)return;(async()=>{try{const{data:t,error:r}=await rs.from("posts").select("view_count").eq("id",e).single();if(r)throw r;n(t?.view_count||0)}catch(t){console.error("Error fetching view count:",t),"42703"!==t.code&&a(t.message)}finally{i(!1)}})();const t=rs.channel(`public:posts:id=eq.${e}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"posts",filter:`id=eq.${e}`},e=>{e.new&&void 0!==e.new.view_count&&n(e.new.view_count)}).subscribe();return()=>{rs.removeChannel(t)}},[e]),{viewCount:t,loading:s,error:o,trackView:async()=>{if(!e||l.current)return;const t=`viewed_post_${e}`;if(sessionStorage.getItem(t)){const{data:t}=await rs.from("posts").select("view_count").eq("id",e).single();return void(t?.view_count&&n(t.view_count))}sessionStorage.setItem(t,"true"),l.current=!0;try{const r=crypto.randomUUID();n(e=>e+1);const{error:s}=await rs.rpc("increment_view_count",{p_id:String(e),p_request_id:r});if(s)console.error("RPC Error:",s),n(e=>Math.max(0,e-1)),sessionStorage.removeItem(t);else{const{data:t}=await rs.from("posts").select("view_count").eq("id",e).single();t?.view_count&&n(t.view_count)}}catch(r){console.error("Error tracking view:",r),n(e=>Math.max(0,e-1)),sessionStorage.removeItem(t)}finally{l.current=!1}}}})(t?.id||null),[m,f]=r.useState(0),[v,b]=r.useState([]),[w,k]=r.useState("latest"),[j,C]=r.useState(!0);r.useEffect(()=>{l&&b(l)},[l]);r.useEffect(()=>{t&&!n&&(window.scrollTo(0,0),p())},[t,n]),r.useEffect(()=>{if(!t?.content)return;let e;try{if("string"==typeof t.content)try{e=JSON.parse(t.content)}catch(o){e=[{id:"block_content_1",type:"text",data:{text:t.content}}]}else e=Array.isArray(t.content)?t.content:[]}catch(a){return void console.error("Error processing content for carousel:",a)}const n=e.filter(e=>"carousel"===e.type);if(0===n.length)return;const r=n.find(e=>e.data.images?.filter(e=>e.url).length>1);if(!r)return;const s=r.data.images.filter(e=>e.url),i=setInterval(()=>{f(e=>(e+1)%s.length)},3e3);return()=>clearInterval(i)},[t?.content]);if(n)return ct.jsx("div",{className:"min-h-screen flex items-center justify-center",children:ct.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-primary"})});if(s||!t)return ct.jsx("div",{className:"min-h-screen flex items-center justify-center",children:ct.jsxs("div",{className:"text-center",children:[ct.jsx("h1",{className:"text-2xl font-bold text-navy mb-4",children:"Matria no encontrada"}),ct.jsx("p",{className:"text-gray-600 mb-6",children:"A matria que voc procura no existe ou foi removida."}),ct.jsx(o,{to:"/",className:"btn-primary",children:"Voltar para a pgina inicial"})]})});let S=[];try{S=JSON.parse(t.content||"[]")}catch(T){S=[{type:"text",data:{content:t.content||""}}]}const E=es(t.title,window.location.href,t.excerpt);return ct.jsxs(ct.Fragment,{children:[ct.jsxs(hn,{children:[ct.jsxs("title",{children:[t.title," - Opine Agora SC"]}),ct.jsx("meta",{name:"description",content:t.excerpt||t.title}),ct.jsx("meta",{name:"keywords",content:t.category}),ct.jsx("meta",{property:"og:title",content:t.title}),ct.jsx("meta",{property:"og:description",content:t.excerpt||t.title}),ct.jsx("meta",{property:"og:image",content:t.image}),ct.jsx("meta",{property:"og:url",content:window.location.href}),ct.jsx("meta",{property:"og:type",content:"article"}),ct.jsx("meta",{property:"article:section",content:t.category}),ct.jsx("meta",{property:"article:published_time",content:t.date}),ct.jsx("meta",{property:"article:author",content:t.author}),ct.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),ct.jsx("meta",{name:"twitter:title",content:t.title}),ct.jsx("meta",{name:"twitter:description",content:t.excerpt||t.title}),ct.jsx("meta",{name:"twitter:image",content:t.image})]}),ct.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[ct.jsxs(o,{to:"/",className:"inline-flex items-center space-x-2 text-teal-primary hover:text-teal-900 mb-6 font-medium",children:[ct.jsx(I,{className:"w-4 h-4"}),ct.jsx("span",{children:"Voltar"})]}),ct.jsxs("article",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[t.image&&ct.jsx("div",{className:"aspect-video overflow-hidden",children:ct.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover",loading:"lazy"})}),ct.jsxs("div",{className:"p-8",children:[t.category&&ct.jsx(o,{to:`/categoria/${encodeURIComponent(t.category.toLowerCase())}`,className:"inline-block px-3 py-1 bg-teal-primary text-white text-xs font-semibold rounded-full mb-4 hover:bg-teal-900 transition-colors",children:t.category}),ct.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-navy mb-6 leading-tight",children:t.title}),ct.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 text-sm text-text-secondary mb-8 pb-6 border-b border-gray-200",children:[ct.jsxs("div",{className:"flex flex-wrap items-center gap-4 sm:gap-6",children:[t.author&&ct.jsxs("div",{className:"flex items-center space-x-2",children:[ct.jsx(g,{className:"w-4 h-4"}),ct.jsx("span",{children:t.author})]}),ct.jsxs("div",{className:"flex items-center space-x-2",children:[ct.jsx(x,{className:"w-4 h-4"}),ct.jsx("span",{children:Zr(t.date)})]}),null!=h&&ct.jsxs("div",{className:"flex items-center space-x-2",children:[ct.jsx(y,{className:"w-4 h-4"}),ct.jsxs("span",{children:[h.toLocaleString()," ","visualizaes"]})]})]}),ct.jsxs("div",{className:"flex flex-col sm:flex-row items-end sm:items-center justify-end gap-2",children:[ct.jsx("span",{className:"text-base font-semibold text-text-primary",children:"Compartilhar:"}),ct.jsxs("div",{className:"flex items-center space-x-2",children:[ct.jsx("a",{href:E.whatsapp,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-green-500 text-white rounded-full hover:bg-green-600 transition-colors","aria-label":"Compartilhar no WhatsApp",children:ct.jsx("svg",{width:"20",height:"20",fill:"currentColor",viewBox:"0 0 24 24",children:ct.jsx("path",{d:"M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"})})}),ct.jsx("a",{href:E.facebook,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-colors","aria-label":"Compartilhar no Facebook",children:ct.jsx(L,{className:"w-4 h-4"})}),ct.jsx("a",{href:E.twitter,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-[#0f1419] text-white rounded-full hover:bg-sky-500 transition-colors","aria-label":"Compartilhar no Twitter",children:ct.jsx("svg",{width:"18",height:"18",fill:"currentColor",viewBox:"0 0 24 24",children:ct.jsx("path",{d:"M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"})})}),ct.jsx("a",{href:E.telegram,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition-colors","aria-label":"Compartilhar no Telegram",children:ct.jsx(P,{className:"w-4 h-4"})})]})]})]}),ct.jsx("div",{className:"prose prose-lg max-w-none",children:(e=>{if(!e)return null;let t;try{t=Array.isArray(e)?e:JSON.parse(e)}catch(T){console.error("Error parsing content blocks:",T),t=[{type:"text",data:{content:"string"==typeof e?e:JSON.stringify(e)}}]}return t.map((e,t)=>{const{type:n,data:r}=e;switch(n){case"capa":return r.imageUrl&&!1!==r.showInBody?ct.jsx("div",{className:"my-8",children:ct.jsx("img",{src:r.imageUrl,alt:r.alt||"",className:"w-full rounded-xl shadow-lg",loading:"lazy"})},t):null;case"imageText":return r.imageUrl||r.text?ct.jsxs("div",{className:"my-8 clearfix",children:[r.imageUrl&&ct.jsx("div",{className:"relative w-full md:w-1/3 mb-4 "+("right"===r.align?"md:float-right md:ml-6":"md:float-left md:mr-6"),children:ct.jsx("img",{src:r.imageUrl,alt:"",className:"w-full rounded-lg shadow-md",loading:"lazy"})}),r.text&&ct.jsx("div",{className:"text-lg leading-relaxed prose max-w-none",children:ct.jsx(Gl,{children:r.text})})]},t):null;case"fullImage":return r.imageUrl?ct.jsxs("div",{className:"my-8",children:[ct.jsx("img",{src:r.imageUrl,alt:"",className:"w-full rounded-xl shadow-lg",loading:"lazy"}),r.caption&&ct.jsx("p",{className:"text-center text-sm text-gray-600 mt-4 italic",children:r.caption})]},t):null;case"video":if(!r.videoUrl)return null;const e=r.videoUrl.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/)?.[1];return e?ct.jsx("div",{className:"my-8 aspect-video rounded-xl overflow-hidden shadow-lg",children:ct.jsx("iframe",{src:`https://www.youtube.com/embed/${e}`,className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,loading:"lazy"})},t):null;case"text":return r.content?ct.jsx("div",{className:"my-6",children:ct.jsx("div",{className:"text-lg leading-relaxed prose max-w-none",children:ct.jsx(Gl,{children:r.content})})},t):null;case"button":return r.text&&r.url?ct.jsx("div",{className:"my-6 text-center",children:ct.jsx("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-6 py-3 rounded-lg font-semibold transition-colors "+("primary"===r.style?"bg-teal-primary text-white hover:bg-teal-900":"bg-orange-warm text-white hover:bg-orange-600"),children:r.text})},t):null;case"imagemComLink":return r.imageUrl&&r.linkUrl?ct.jsx("div",{className:"my-6",children:ct.jsxs("a",{href:r.linkUrl,target:"_blank",rel:"noopener noreferrer",className:"block group",children:[ct.jsxs("div",{className:"relative overflow-hidden rounded-lg shadow-md group-hover:shadow-lg transition-shadow",children:[ct.jsx("img",{src:r.imageUrl,alt:r.alt||"",className:"w-full h-auto object-cover transition-transform group-hover:scale-105",loading:"lazy"}),r.showOverlay&&ct.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:ct.jsxs("div",{className:"text-white text-center",children:[ct.jsx("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:ct.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),ct.jsx("p",{className:"text-sm font-medium",children:"Clique para visitar"})]})})]}),r.caption&&ct.jsx("p",{className:"text-sm text-gray-600 mt-2 text-center italic",children:r.caption})]})},t):null;case"carousel":const n=r.images?.filter(e=>e.url)||[];if(0===n.length)return null;const s=()=>{f(e=>(e+1)%n.length)},i=()=>{f(e=>(e-1+n.length)%n.length)};return ct.jsx("div",{className:"my-6",children:ct.jsxs("div",{className:"relative overflow-hidden rounded-lg shadow-md",children:[ct.jsx("div",{className:"relative h-96",children:n.map((e,t)=>ct.jsx("div",{className:"absolute inset-0 transition-opacity duration-500 "+(t===m?"opacity-100":"opacity-0"),children:e.link?ct.jsx("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"block w-full h-full",children:ct.jsx("img",{src:e.url,alt:e.alt||"",className:"w-full h-full object-cover",loading:"lazy"})}):ct.jsx("img",{src:e.url,alt:e.alt||"",className:"w-full h-full object-cover",loading:"lazy"})},t))}),n.length>1&&ct.jsxs(ct.Fragment,{children:[ct.jsx("button",{onClick:i,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 transition-colors",children:ct.jsx(R,{className:"w-5 h-5"})}),ct.jsx("button",{onClick:s,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 transition-colors",children:ct.jsx(N,{className:"w-5 h-5"})})]}),n.length>1&&ct.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2",children:n.map((e,t)=>ct.jsx("button",{onClick:()=>f(t),className:"w-2 h-2 rounded-full transition-colors "+(t===m?"bg-white":"bg-white bg-opacity-50")},t))}),n[m]?.caption&&ct.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-4",children:ct.jsx("p",{className:"text-white text-sm",children:n[m].caption})})]})},t);case"ad":return r.code?ct.jsx("div",{className:"my-8 p-4 bg-gray-100 rounded-lg text-center",children:ct.jsx("div",{dangerouslySetInnerHTML:{__html:r.code}})},t):null;default:return null}})})(S)}),t.tags&&t.tags.length>0&&ct.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:ct.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map((e,t)=>ct.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full",children:["#",e]},t))})}),(t.prevPost||t.nextPost)&&ct.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-200 grid grid-cols-1 md:grid-cols-2 gap-6",children:[ct.jsx("div",{className:"flex flex-col items-start text-left",children:t.prevPost?ct.jsxs(o,{to:`/post/${t.prevPost.slug}`,className:"group w-full",children:[ct.jsxs("span",{className:"flex items-center text-sm text-gray-500 font-medium mb-2 group-hover:text-teal-primary transition-colors",children:[ct.jsx(R,{className:"w-4 h-4 mr-1"}),"Matria Anterior"]}),ct.jsx("h4",{className:"text-lg font-bold text-navy group-hover:text-teal-primary transition-colors line-clamp-2",children:t.prevPost.title})]}):ct.jsx("div",{className:"hidden md:block"})}),ct.jsx("div",{className:"flex flex-col items-end text-right",children:t.nextPost?ct.jsxs(o,{to:`/post/${t.nextPost.slug}`,className:"group w-full",children:[ct.jsxs("span",{className:"flex items-center justify-end text-sm text-gray-500 font-medium mb-2 group-hover:text-teal-primary transition-colors",children:["Prxima Matria",ct.jsx(N,{className:"w-4 h-4 ml-1"})]}),ct.jsx("h4",{className:"text-lg font-bold text-navy group-hover:text-teal-primary transition-colors line-clamp-2",children:t.nextPost.title})]}):ct.jsx("div",{className:"hidden md:block"})})]})]})]}),ct.jsxs("div",{className:"mt-12 bg-white rounded-xl shadow-lg p-8",children:[ct.jsxs("div",{className:"flex items-center justify-between mb-6",children:[ct.jsxs("h2",{className:"text-2xl font-bold text-navy flex items-center space-x-2",children:[ct.jsx(M,{className:"w-6 h-6 text-teal-primary"}),ct.jsxs("span",{children:["Comentrios (",v.length,")"]})]}),ct.jsx("button",{onClick:()=>C(!j),className:"text-teal-primary hover:text-teal-900 font-medium",children:j?"Ocultar":"Mostrar"})]}),j&&ct.jsxs(ct.Fragment,{children:[ct.jsx(Xl,{postId:t.id,onSubmit:async e=>{const t=await d(e);return!!t&&("approved"===t.status&&b(e=>[t,...e]),!0)},submitting:u}),ct.jsx(Zl,{comments:v,loading:c})]})]})]}),i&&i.length>0&&ct.jsx("section",{className:"bg-gray-50 py-12 mt-12",children:ct.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[ct.jsx("h2",{className:"section-title mb-8",children:"Matrias Relacionadas"}),ct.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.filter(e=>e.id!==t.id).slice(0,4).map(e=>ct.jsx(ts,{post:e},e.id))})]})})]})},lc=()=>{const{category:e}=a(),{posts:t,loading:n,error:s}=is(e),[i,l]=r.useState("latest"),c=e||"Todas as Notcias";const d=t?[...t].sort((e,t)=>{switch(i){case"latest":return new Date(t.date)-new Date(e.date);case"oldest":return new Date(e.date)-new Date(t.date);case"title":return e.title.localeCompare(t.title);default:return 0}}):[];return n?ct.jsx("div",{className:"min-h-screen flex items-center justify-center",children:ct.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-primary"})}):s?ct.jsx("div",{className:"min-h-screen flex items-center justify-center",children:ct.jsxs("div",{className:"text-center",children:[ct.jsx("h1",{className:"text-2xl font-bold text-navy mb-4",children:"Erro ao carregar categoria"}),ct.jsx("p",{className:"text-gray-600 mb-6",children:s}),ct.jsx(o,{to:"/",className:"btn-primary",children:"Voltar para a pgina inicial"})]})}):ct.jsxs(ct.Fragment,{children:[ct.jsxs(hn,{children:[ct.jsxs("title",{children:[c," - Opine Agora SC"]}),ct.jsx("meta",{name:"description",content:`Confira as ltimas notcias sobre ${c} em Santa Catarina.`})]}),ct.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[ct.jsxs("div",{className:"bg-gradient-to-r from-teal-primary to-navy text-white rounded-xl p-8 mb-8",children:[ct.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[ct.jsx(j,{className:"w-8 h-8"}),ct.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:c})]}),ct.jsxs("p",{className:"text-lg text-gray-100",children:[t?.length||0," matria",1!==t?.length?"s":""," encontrada",1!==t?.length?"s":""]})]}),ct.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[ct.jsxs("div",{className:"flex items-center space-x-2",children:[ct.jsx(z,{className:"w-5 h-5 text-text-secondary"}),ct.jsx("span",{className:"text-text-secondary",children:"Ordenar por:"}),ct.jsxs("select",{value:i,onChange:e=>l(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent",children:[ct.jsx("option",{value:"latest",children:"Mais recentes"}),ct.jsx("option",{value:"oldest",children:"Mais antigas"}),ct.jsx("option",{value:"title",children:"Ordem alfabtica"})]})]}),ct.jsxs("nav",{className:"flex flex-wrap gap-2",children:[ct.jsx(o,{to:"/categoria/todas",className:"px-4 py-2 rounded-full text-sm font-medium transition-colors "+(e?"bg-gray-100 text-text-primary hover:bg-gray-200":"bg-teal-primary text-white"),children:"Todas"}),["Poltica","Economia","Sociedade","Esportes","Cultura","Opinio"].map(t=>ct.jsx(o,{to:`/categoria/${encodeURIComponent(t.toLowerCase())}`,className:"px-4 py-2 rounded-full text-sm font-medium transition-colors "+(e?.toLowerCase()===t.toLowerCase()?"bg-teal-primary text-white":"bg-gray-100 text-text-primary hover:bg-gray-200"),children:t},t))]})]}),d.length>0?ct.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(e=>ct.jsx(ts,{post:e},e.id))}):ct.jsxs("div",{className:"text-center py-12",children:[ct.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:ct.jsx(j,{className:"w-10 h-10 text-gray-400"})}),ct.jsx("h3",{className:"text-xl font-semibold text-navy mb-2",children:"Nenhuma matria encontrada"}),ct.jsx("p",{className:"text-text-secondary mb-6",children:"No h matrias publicadas nesta categoria ainda."}),ct.jsx(o,{to:"/",className:"btn-primary",children:"Ver outras categorias"})]}),d.length>0&&d.length>=12&&ct.jsx("div",{className:"text-center mt-12",children:ct.jsx("button",{className:"btn-outline",children:"Carregar mais matrias"})})]})]})},cc=()=>{const{posts:e,loading:t,error:n}=is("Poltica"),[s,i]=r.useState("latest"),a=e?[...e].sort((e,t)=>{switch(s){case"latest":return new Date(t.date)-new Date(e.date);case"oldest":return new Date(e.date)-new Date(t.date);case"title":return e.title.localeCompare(t.title);default:return 0}}):[];return t?ct.jsx("div",{className:"min-h-screen flex items-center justify-center",children:ct.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-primary"})}):n?ct.jsx("div",{className:"min-h-screen flex items-center justify-center",children:ct.jsxs("div",{className:"text-center",children:[ct.jsx("h1",{className:"text-2xl font-bold text-navy mb-4",children:"Erro ao carregar notcias"}),ct.jsx("p",{className:"text-gray-600 mb-6",children:n}),ct.jsx(o,{to:"/",className:"btn-primary",children:"Voltar para a pgina inicial"})]})}):ct.jsxs(ct.Fragment,{children:[ct.jsxs(hn,{children:[ct.jsx("title",{children:"Eleies - Opine Agora SC"}),ct.jsx("meta",{name:"description",content:"Acompanhe as ltimas notcias sobre eleies em Santa Catarina e no Brasil. Informaes, candidatos e resultados."})]}),ct.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[ct.jsxs("div",{className:"bg-gradient-to-r from-navy to-teal-primary text-white rounded-xl p-8 mb-8",children:[ct.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[ct.jsx(j,{className:"w-8 h-8"}),ct.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:"Eleies 2024"})]}),ct.jsx("p",{className:"text-lg text-gray-100",children:"Acompanhe tudo sobre as eleies municipais de Santa Catarina"})]}),ct.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[ct.jsxs("h2",{className:"text-2xl font-bold text-navy mb-6 flex items-center",children:[ct.jsx(F,{className:"w-6 h-6 mr-2 text-teal-primary"}),"Links teis"]}),ct.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{name:"TSE - Tribunal Superior Eleitoral",url:"https://www.tse.jus.br/",description:"Portal oficial com todas as informaes sobre as eleies"},{name:"Divulga Cndidatos",url:"https://divulgacandcontas.tse.jus.br/",description:"Sistema de Divulgao de Candidaturas e Contas Eleitorais"},{name:"Eleies 2024",url:"https://www.eleicoes2024.com.br/",description:"Acompanhe em tempo real as apuraes das eleies municipais"},{name:"Poltica SC",url:"https://www.politicasc.com.br/",description:"Notcias e anlises polticas de Santa Catarina"}].map((e,t)=>ct.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"block p-4 border border-gray-200 rounded-lg hover:border-teal-primary hover:shadow-md transition-all",children:[ct.jsx("h3",{className:"font-semibold text-navy mb-2",children:e.name}),ct.jsx("p",{className:"text-sm text-gray-600 mb-3",children:e.description}),ct.jsxs("div",{className:"flex items-center text-teal-primary text-sm font-medium",children:[ct.jsx("span",{children:"Acessar site"}),ct.jsx(F,{className:"w-4 h-4 ml-1"})]})]},t))})]}),ct.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[ct.jsxs("div",{className:"flex items-center justify-between mb-6",children:[ct.jsx("h2",{className:"text-xl font-bold text-navy",children:"ltimas Notcias sobre Eleies"}),ct.jsxs("select",{value:s,onChange:e=>i(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent",children:[ct.jsx("option",{value:"latest",children:"Mais recentes"}),ct.jsx("option",{value:"oldest",children:"Mais antigas"}),ct.jsx("option",{value:"title",children:"Ordem alfabtica"})]})]}),a.length>0?ct.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(e=>ct.jsx(ts,{post:e},e.id))}):ct.jsxs("div",{className:"text-center py-12",children:[ct.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:ct.jsx(j,{className:"w-10 h-10 text-gray-400"})}),ct.jsx("h3",{className:"text-xl font-semibold text-navy mb-2",children:"Nenhuma notcia encontrada"}),ct.jsx("p",{className:"text-text-secondary mb-6",children:"No h notcias sobre eleies no momento."}),ct.jsx(o,{to:"/",className:"btn-primary",children:"Ver outras notcias"})]})]})]})]})},dc=({posts:e,title:t,className:n=""})=>{const[s,i]=r.useState(null);return e&&0!==e.length?ct.jsxs("div",{className:`news-carousel ${n}`,children:[ct.jsxs("div",{className:"flex items-center justify-between mb-6",children:[ct.jsx("h2",{className:"text-2xl md:text-3xl font-black text-navy",children:t}),ct.jsxs("div",{className:"flex gap-2",children:[ct.jsx("button",{onClick:()=>s?.slidePrev(),className:"p-2 rounded-full bg-white shadow-md hover:shadow-lg transition-shadow disabled:opacity-50 disabled:cursor-not-allowed",disabled:!s,children:ct.jsx(R,{className:"w-5 h-5 text-teal-primary"})}),ct.jsx("button",{onClick:()=>s?.slideNext(),className:"p-2 rounded-full bg-white shadow-md hover:shadow-lg transition-shadow disabled:opacity-50 disabled:cursor-not-allowed",disabled:!s,children:ct.jsx(N,{className:"w-5 h-5 text-teal-primary"})})]})]}),ct.jsx(Dr,{modules:[Ir,Rr,zr],spaceBetween:20,slidesPerView:1,breakpoints:{640:{slidesPerView:2},768:{slidesPerView:2},1024:{slidesPerView:3}},navigation:!1,pagination:{clickable:!0,bulletClass:"swiper-pagination-bullet !bg-teal-primary",bulletActiveClass:"swiper-pagination-bullet-active !bg-teal-900"},autoplay:{delay:5e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},loop:e.length>3,onSwiper:i,className:"!pb-12",children:e.map(e=>ct.jsx(Or,{children:ct.jsxs(o,{to:`/post/${e.slug}`,className:"group block bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden",children:[e.image?ct.jsx("div",{className:"aspect-video overflow-hidden",children:ct.jsx("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}):ct.jsx("div",{className:"aspect-video overflow-hidden bg-gradient-to-br from-teal-primary to-teal-900 flex items-center justify-center",children:ct.jsx(Newspaper,{className:"w-12 h-12 text-white/50"})}),ct.jsxs("div",{className:"p-6",children:[ct.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-3",children:[ct.jsxs("span",{className:"flex items-center gap-1",children:[ct.jsx(x,{className:"w-4 h-4"}),new Date(e.date).toLocaleDateString("pt-BR")]}),e.category&&ct.jsx("span",{className:"px-2 py-1 bg-teal-primary/10 text-teal-primary rounded-full text-xs font-semibold",children:e.category})]}),ct.jsx("h3",{className:"font-bold text-lg text-navy mb-2 line-clamp-2 group-hover:text-teal-primary transition-colors",children:e.title}),ct.jsx("p",{className:"text-gray-800 text-sm line-clamp-3 mb-4",children:e.excerpt}),ct.jsxs("div",{className:"flex items-center justify-between",children:[ct.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[ct.jsx(_,{className:"w-3 h-3"}),Math.ceil((e.content||e.excerpt||"")?.length/200)||1," ","min de leitura"]}),ct.jsx("span",{className:"text-teal-primary text-sm font-semibold group-hover:text-teal-900 transition-colors",children:"Ler mais "})]})]})]})},e.id))})]}):null},uc=()=>{const{posts:e,loading:t}=is(),[n,s]=r.useState([]);r.useEffect(()=>{if(e.length>0){const t=e.filter(e=>{const t=["concrdia","concordia"],n=t.some(t=>e.title?.toLowerCase().includes(t)),r=t.some(t=>e.excerpt?.toLowerCase().includes(t)),s=t.some(t=>e.content?.toLowerCase().includes(t)),i=t.some(t=>e.category?.toLowerCase().includes(t));let o=!1;if(e.tags)if(Array.isArray(e.tags))o=e.tags.some(e=>t.some(t=>e.toLowerCase().includes(t)));else if("string"==typeof e.tags)try{const n=JSON.parse(e.tags);o=Array.isArray(n)?n.some(e=>t.some(t=>e.toLowerCase().includes(t))):t.some(t=>e.tags.toLowerCase().includes(t))}catch{o=t.some(t=>e.tags.toLowerCase().includes(t))}return n||r||s||i||o});s(t)}},[e]);const i=[{icon:ct.jsx(B,{className:"w-6 h-6"}),title:"Localizao Estratgica",description:"Concrdia est localizada no oeste de Santa Catarina, conhecida como o 'Corao do Oeste Catarinense'."},{icon:ct.jsx(S,{className:"w-6 h-6"}),title:"Populao",description:"Com aproximadamente 80 mil habitantes,  um dos principais polos econmicos da regio."},{icon:ct.jsx(q,{className:"w-6 h-6"}),title:"Economia",description:"Destaque na agroindstria, com empresas como Sadia e Perdigo que marcaram a histria do municpio."},{icon:ct.jsx(H,{className:"w-6 h-6"}),title:"Cultura do Caf",description:"Tradicional na produo de caf, sendo reconhecida pela qualidade dos gros produzidos na regio."},{icon:ct.jsx(U,{className:"w-6 h-6"}),title:"Natureza",description:"Rica em recursos naturais, com belas paisagens e reas de preservao ambiental."},{icon:ct.jsx(x,{className:"w-6 h-6"}),title:"Histria",description:"Fundada em 1934, tem uma histria rica marcada pela colonizao italiana e alem."}];return t?ct.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:ct.jsxs("div",{className:"text-center",children:[ct.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-primary mx-auto mb-4"}),ct.jsx("p",{className:"text-gray-600",children:"Carregando..."})]})}):ct.jsxs("div",{className:"min-h-screen bg-gray-100",children:[ct.jsx("div",{className:"bg-gradient-to-r from-teal-primary to-teal-900 text-white",children:ct.jsx("div",{className:"container mx-auto px-4 py-16",children:ct.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[ct.jsx("h1",{className:"text-4xl md:text-6xl font-black mb-6",children:"Concrdia - SC"}),ct.jsx("p",{className:"text-xl md:text-3xl font-bold mb-8 text-white",children:"O corao do oeste catarinense"}),ct.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[ct.jsxs("div",{className:"flex items-center space-x-2 bg-white/20 backdrop-blur-sm rounded-full px-6 py-3",children:[ct.jsx(B,{className:"w-5 h-5"}),ct.jsx("span",{className:"font-semibold",children:"Oeste de Santa Catarina"})]}),ct.jsxs("div",{className:"flex items-center space-x-2 bg-white/20 backdrop-blur-sm rounded-full px-6 py-3",children:[ct.jsx(S,{className:"w-5 h-5"}),ct.jsx("span",{className:"font-semibold",children:"~80 mil habitantes"})]}),ct.jsxs("div",{className:"flex items-center space-x-2 bg-white/20 backdrop-blur-sm rounded-full px-6 py-3",children:[ct.jsx(x,{className:"w-5 h-5"}),ct.jsx("span",{className:"font-semibold",children:"Fundada em 1934"})]})]})]})})}),ct.jsx("div",{className:"bg-gray-100 py-16",children:ct.jsx("div",{className:"container mx-auto px-4",children:ct.jsxs("div",{className:"max-w-6xl mx-auto",children:[ct.jsxs("div",{className:"text-center mb-12",children:[ct.jsx("h2",{className:"text-3xl md:text-5xl font-black text-navy mb-4",children:"Sobre Concrdia"}),ct.jsx("p",{className:"text-xl font-bold text-gray-800 max-w-3xl mx-auto",children:"Concrdia  um municpio brasileiro do estado de Santa Catarina, localizado na mesorregio do Oeste Catarinense. Conhecida por sua forte economia agroindustrial e rica cultura, a cidade  um importante polo regional de desenvolvimento."})]}),ct.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-16",children:i.map((e,t)=>ct.jsx("div",{className:"bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow p-6",children:ct.jsxs("div",{className:"flex items-start space-x-4",children:[ct.jsx("div",{className:"text-teal-primary bg-teal-50 p-3 rounded-lg",children:e.icon}),ct.jsxs("div",{children:[ct.jsx("h3",{className:"font-bold text-lg text-navy mb-2",children:e.title}),ct.jsx("p",{className:"text-gray-800 font-medium text-sm",children:e.description})]})]})},t))})]})})}),ct.jsx("div",{className:"bg-white py-16",children:ct.jsx("div",{className:"container mx-auto px-4",children:ct.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.length>0?ct.jsx(dc,{posts:n,title:"Notcias de Concrdia",className:"mb-8"}):ct.jsxs("div",{className:"text-center py-12",children:[ct.jsx(j,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),ct.jsx("h3",{className:"text-xl font-bold text-navy mb-2",children:"Nenhuma notcia sobre Concrdia encontrada"}),ct.jsx("p",{className:"text-gray-800 font-medium mb-6",children:"Em breve traremos as ltimas notcias da cidade"}),ct.jsx(o,{to:"/",className:"inline-flex items-center space-x-2 px-6 py-3 bg-teal-primary text-white rounded-lg hover:bg-teal-900 transition-colors font-bold",children:ct.jsx("span",{children:"Voltar para Home"})})]}),n.length>3&&ct.jsx("div",{className:"text-center mt-8",children:ct.jsxs(o,{to:"/categoria/concordia",className:"inline-flex items-center space-x-2 px-6 py-3 border-2 border-teal-primary text-teal-primary rounded-lg hover:bg-teal-primary hover:text-white transition-colors font-bold",children:[ct.jsx(j,{className:"w-5 h-5"}),ct.jsx("span",{children:"Ver Todas as Notcias"})]})})]})})}),ct.jsx("div",{className:"bg-gray-200 py-16",children:ct.jsx("div",{className:"container mx-auto px-4",children:ct.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[ct.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-6",children:[ct.jsx($,{className:"w-8 h-8 text-orange-warm"}),ct.jsx("h2",{className:"text-3xl md:text-5xl font-black text-navy",children:"Orgulho de ser Concrdiense"})]}),ct.jsx("p",{className:"text-xl font-bold text-gray-800 mb-8",children:"Concrdia  mais que uma cidade,  uma comunidade vibrante com gente trabalhadora, cultura rica e futuro promissor."}),ct.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[ct.jsxs(o,{to:"/categoria/concordia",className:"inline-flex items-center space-x-2 px-6 py-3 bg-teal-primary text-white rounded-lg hover:bg-teal-900 transition-colors font-bold",children:[ct.jsx(j,{className:"w-5 h-5"}),ct.jsx("span",{children:"Mais Notcias"})]}),ct.jsxs(o,{to:"/contato",className:"inline-flex items-center space-x-2 px-6 py-3 border-2 border-teal-primary text-teal-primary rounded-lg hover:bg-teal-primary hover:text-white transition-colors font-bold",children:[ct.jsx(V,{className:"w-5 h-5"}),ct.jsx("span",{children:"Entre em Contato"})]})]})]})})})]})},hc=()=>ct.jsxs(ct.Fragment,{children:[ct.jsxs(hn,{children:[ct.jsx("title",{children:"Sobre - Opine Agora SC"}),ct.jsx("meta",{name:"description",content:"Conhea o Opine Agora SC, seu portal de notcias e opinies com credibilidade em Santa Catarina."})]}),ct.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[ct.jsxs("div",{className:"bg-gradient-to-r from-teal-primary to-navy text-white rounded-xl p-8 mb-8",children:[ct.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Sobre o Opine Agora SC"}),ct.jsx("p",{className:"text-lg text-gray-100",children:"Opinio com Credibilidade - Seu portal de notcias e anlises de Santa Catarina"})]}),ct.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[ct.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[ct.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[ct.jsxs("h2",{className:"text-2xl font-bold text-navy mb-4 flex items-center",children:[ct.jsx(S,{className:"w-6 h-6 mr-2 text-teal-primary"}),"Nossa Histria"]}),ct.jsxs("div",{className:"prose prose-lg text-gray-700",children:[ct.jsxs("p",{className:"mb-4",children:["O ",ct.jsx("strong",{children:"Opine Agora SC"})," nasceu da necessidade de oferecer  populao catarinense um portal de notcias confivel, com jornalismo srio e opinies bem fundamentadas."]}),ct.jsxs("p",{className:"mb-4",children:["Nosso foco principal  compartilhar notcias sobre ",ct.jsx("strong",{children:"Concrdia"})," e regio, mas pontualmente tambm abordamos temas relevantes de"," ",ct.jsx("strong",{children:"toda Santa Catarina"}),", sempre com o mesmo compromisso com a apurao dos fatos e o respeito  diversidade de pensamentos."]}),ct.jsx("p",{children:"Desde nossa fundao, trabalhamos para ser referncia em cobertura jornalstica local, priorizando a informao de qualidade e contribuindo para uma sociedade mais crtica e participativa."})]})]}),ct.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[ct.jsxs("h2",{className:"text-2xl font-bold text-navy mb-4 flex items-center",children:[ct.jsx(W,{className:"w-6 h-6 mr-2 text-teal-primary"}),"Nossos Valores"]}),ct.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[ct.jsxs("div",{className:"p-4 bg-teal-50 rounded-lg",children:[ct.jsx("h3",{className:"font-semibold text-teal-primary mb-2",children:"Credibilidade"}),ct.jsx("p",{className:"text-sm text-gray-700",children:"Compromisso com a verdade e apurao rigorosa dos fatos."})]}),ct.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[ct.jsx("h3",{className:"font-semibold text-blue-600 mb-2",children:"tica"}),ct.jsx("p",{className:"text-sm text-gray-700",children:"Jornalismo responsvel e respeito aos princpios editoriais."})]}),ct.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[ct.jsx("h3",{className:"font-semibold text-green-600 mb-2",children:"Diversidade"}),ct.jsx("p",{className:"text-sm text-gray-700",children:"Espao para mltiplas vozes e perspectivas."})]}),ct.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg",children:[ct.jsx("h3",{className:"font-semibold text-orange-600 mb-2",children:"Independncia"}),ct.jsx("p",{className:"text-sm text-gray-700",children:"Liberdade editorial e autonomia para investigar e opinar."})]})]})]}),ct.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[ct.jsx("h2",{className:"text-2xl font-bold text-navy mb-4",children:"Nossa Misso"}),ct.jsxs("div",{className:"prose prose-lg text-gray-700",children:[ct.jsx("p",{className:"mb-4",children:"Ser o principal portal de notcias e opinies de Santa Catarina, oferecendo contedo de qualidade que informe, eduque e inspire nossos leitores a participarem ativamente da sociedade."}),ct.jsx("p",{children:"Acreditamos no poder da informao bem trabalhada e na importncia do debate respeitoso para a construo de uma cidadania mais consciente e engajada."})]})]})]}),ct.jsxs("div",{className:"space-y-6",children:[ct.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[ct.jsx("h3",{className:"text-xl font-bold text-navy mb-4",children:"Entre em Contato"}),ct.jsxs("div",{className:"space-y-4",children:[ct.jsxs("div",{className:"flex items-start space-x-3",children:[ct.jsx(T,{className:"w-5 h-5 text-teal-primary mt-0.5"}),ct.jsxs("div",{children:[ct.jsx("p",{className:"text-sm text-gray-600",children:"E-mail"}),ct.jsx("p",{className:"font-medium break-all",children:"contato@opineagorasc.com.br"})]})]}),ct.jsxs("div",{className:"flex items-start space-x-3",children:[ct.jsx(G,{className:"w-5 h-5 text-teal-primary mt-0.5"}),ct.jsxs("div",{children:[ct.jsx("p",{className:"text-sm text-gray-600",children:"Telefone"}),ct.jsx("p",{className:"font-medium",children:"(48) 9999-9999"})]})]}),ct.jsxs("div",{className:"flex items-start space-x-3",children:[ct.jsx(B,{className:"w-5 h-5 text-teal-primary mt-0.5"}),ct.jsxs("div",{children:[ct.jsx("p",{className:"text-sm text-gray-600",children:"Localizao"}),ct.jsx("p",{className:"font-medium",children:"Concrdia, SC"})]})]}),ct.jsxs("div",{className:"flex items-start space-x-3",children:[ct.jsx(K,{className:"w-5 h-5 text-teal-primary mt-0.5"}),ct.jsxs("div",{children:[ct.jsx("p",{className:"text-sm text-gray-600",children:"Website"}),ct.jsx("p",{className:"font-medium break-all",children:"www.opineagorasc.com.br"})]})]})]})]}),ct.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[ct.jsx("h3",{className:"text-xl font-bold text-navy mb-4",children:"Links Rpidos"}),ct.jsxs("div",{className:"space-y-2",children:[ct.jsx(o,{to:"/",className:"block px-4 py-2 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:" Pgina Inicial"}),ct.jsx(o,{to:"/categoria/todas",className:"block px-4 py-2 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:" Todas as Categorias"}),ct.jsx(o,{to:"/eleicoes",className:"block px-4 py-2 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:" Eleies 2024"})]})]})]})]})]})]}),pc=r.createContext({});function mc(e){const t=r.useRef(null);return null===t.current&&(t.current=e()),t.current}const fc="undefined"!=typeof window,gc=fc?r.useLayoutEffect:r.useEffect,xc=r.createContext(null);function yc(e,t){-1===e.indexOf(t)&&e.push(t)}function vc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const bc=(e,t,n)=>n>t?t:n<e?e:n;const wc={},kc=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function jc(e){return"object"==typeof e&&null!==e}const Nc=e=>/^0[^.\s]+$/u.test(e);function Cc(e){let t;return()=>(void 0===t&&(t=e()),t)}const Sc=e=>e,Ec=(e,t)=>n=>t(e(n)),Tc=(...e)=>e.reduce(Ec),Ac=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};class Mc{constructor(){this.subscriptions=[]}add(e){return yc(this.subscriptions,e),()=>vc(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let s=0;s<r;s++){const r=this.subscriptions[s];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Dc=e=>1e3*e,Oc=e=>e/1e3;function Pc(e,t){return t?e*(1e3/t):0}const _c=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function Ic(e,t,n,r){if(e===t&&n===r)return Sc;const s=t=>function(e,t,n,r,s){let i,o,a=0;do{o=t+(n-t)/2,i=_c(o,r,s)-e,i>0?n=o:t=o}while(Math.abs(i)>1e-7&&++a<12);return o}(t,0,1,e,n);return e=>0===e||1===e?e:_c(s(e),t,r)}const Lc=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Rc=e=>t=>1-e(1-t),zc=Ic(.33,1.53,.69,.99),Fc=Rc(zc),Bc=Lc(Fc),$c=e=>(e*=2)<1?.5*Fc(e):.5*(2-Math.pow(2,-10*(e-1))),Vc=e=>1-Math.sin(Math.acos(e)),qc=Rc(Vc),Hc=Lc(Vc),Uc=Ic(.42,0,1,1),Wc=Ic(0,0,.58,1),Gc=Ic(.42,0,.58,1),Kc=e=>Array.isArray(e)&&"number"==typeof e[0],Jc={linear:Sc,easeIn:Uc,easeInOut:Gc,easeOut:Wc,circIn:Vc,circInOut:Hc,circOut:qc,backIn:Fc,backInOut:Bc,backOut:zc,anticipate:$c},Yc=e=>{if(Kc(e)){e.length;const[t,n,r,s]=e;return Ic(t,n,r,s)}return"string"==typeof e?Jc[e]:e},Xc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Zc(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Xc.reduce((e,t)=>(e[t]=function(e){let t=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(t){i.has(t)&&(l.schedule(t),e()),t(o)}const l={schedule:(e,s=!1,o=!1)=>{const a=o&&r?t:n;return s&&i.add(e),a.has(e)||a.add(e),e},cancel:e=>{n.delete(e),i.delete(e)},process:e=>{o=e,r?s=!0:(r=!0,[t,n]=[n,t],t.forEach(a),t.clear(),r=!1,s&&(s=!1,l.process(e)))}};return l}(i),e),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:d,update:u,preRender:h,render:p,postRender:m}=o,f=()=>{const i=wc.useManualTiming?s.timestamp:performance.now();n=!1,wc.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(i-s.timestamp,40),1)),s.timestamp=i,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),d.process(s),u.process(s),h.process(s),p.process(s),m.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(f))};return{schedule:Xc.reduce((t,i)=>{const a=o[i];return t[i]=(t,i=!1,o=!1)=>(n||(n=!0,r=!0,s.isProcessing||e(f)),a.schedule(t,i,o)),t},{}),cancel:e=>{for(let t=0;t<Xc.length;t++)o[Xc[t]].cancel(e)},state:s,steps:o}}const{schedule:Qc,cancel:ed,state:td,steps:nd}=Zc("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:Sc,!0);let rd;function sd(){rd=void 0}const id={now:()=>(void 0===rd&&id.set(td.isProcessing||wc.useManualTiming?td.timestamp:performance.now()),rd),set:e=>{rd=e,queueMicrotask(sd)}},od=e=>t=>"string"==typeof t&&t.startsWith(e),ad=od("--"),ld=od("var(--"),cd=e=>!!ld(e)&&dd.test(e.split("/*")[0].trim()),dd=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function ud(e){return"string"==typeof e&&e.split("/*")[0].includes("var(--")}const hd={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},pd={...hd,transform:e=>bc(0,1,e)},md={...hd,default:1},fd=e=>Math.round(1e5*e)/1e5,gd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const xd=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,yd=(e,t)=>n=>Boolean("string"==typeof n&&xd.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),vd=(e,t,n)=>r=>{if("string"!=typeof r)return r;const[s,i,o,a]=r.match(gd);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:void 0!==a?parseFloat(a):1}},bd={...hd,transform:e=>Math.round((e=>bc(0,255,e))(e))},wd={test:yd("rgb","red"),parse:vd("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+bd.transform(e)+", "+bd.transform(t)+", "+bd.transform(n)+", "+fd(pd.transform(r))+")"};const kd={test:yd("#"),parse:function(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}},transform:wd.transform},jd=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),Nd=jd("deg"),Cd=jd("%"),Sd=jd("px"),Ed=jd("vh"),Td=jd("vw"),Ad=(()=>({...Cd,parse:e=>Cd.parse(e)/100,transform:e=>Cd.transform(100*e)}))(),Md={test:yd("hsl","hue"),parse:vd("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Cd.transform(fd(t))+", "+Cd.transform(fd(n))+", "+fd(pd.transform(r))+")"},Dd={test:e=>wd.test(e)||kd.test(e)||Md.test(e),parse:e=>wd.test(e)?wd.parse(e):Md.test(e)?Md.parse(e):kd.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?wd.transform(e):Md.transform(e),getAnimatableNone:e=>{const t=Dd.parse(e);return t.alpha=0,Dd.transform(t)}},Od=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const Pd="number",_d="color",Id=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ld(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const o=t.replace(Id,e=>(Dd.test(e)?(r.color.push(i),s.push(_d),n.push(Dd.parse(e))):e.startsWith("var(")?(r.var.push(i),s.push("var"),n.push(e)):(r.number.push(i),s.push(Pd),n.push(parseFloat(e))),++i,"${}")).split("${}");return{values:n,split:o,indexes:r,types:s}}function Rd(e){return Ld(e).values}function zd(e){const{split:t,types:n}=Ld(e),r=t.length;return e=>{let s="";for(let i=0;i<r;i++)if(s+=t[i],void 0!==e[i]){const t=n[i];s+=t===Pd?fd(e[i]):t===_d?Dd.transform(e[i]):e[i]}return s}}const Fd=e=>"number"==typeof e?0:Dd.test(e)?Dd.getAnimatableNone(e):e;const Bd={test:function(e){return isNaN(e)&&"string"==typeof e&&(e.match(gd)?.length||0)+(e.match(Od)?.length||0)>0},parse:Rd,createTransformer:zd,getAnimatableNone:function(e){const t=Rd(e);return zd(e)(t.map(Fd))}};function $d(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Vd(e,t){return n=>n>0?t:e}const qd=(e,t,n)=>e+(t-e)*n,Hd=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},Ud=[kd,wd,Md];function Wd(e){const t=(n=e,Ud.find(e=>e.test(n)));var n;if(!Boolean(t))return!1;let r=t.parse(e);return t===Md&&(r=function({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let s=0,i=0,o=0;if(t/=100){const r=n<.5?n*(1+t):n+t-n*t,a=2*n-r;s=$d(a,r,e+1/3),i=$d(a,r,e),o=$d(a,r,e-1/3)}else s=i=o=n;return{red:Math.round(255*s),green:Math.round(255*i),blue:Math.round(255*o),alpha:r}}(r)),r}const Gd=(e,t)=>{const n=Wd(e),r=Wd(t);if(!n||!r)return Vd(e,t);const s={...n};return e=>(s.red=Hd(n.red,r.red,e),s.green=Hd(n.green,r.green,e),s.blue=Hd(n.blue,r.blue,e),s.alpha=qd(n.alpha,r.alpha,e),wd.transform(s))},Kd=new Set(["none","hidden"]);function Jd(e,t){return n=>qd(e,t,n)}function Yd(e){return"number"==typeof e?Jd:"string"==typeof e?cd(e)?Vd:Dd.test(e)?Gd:Qd:Array.isArray(e)?Xd:"object"==typeof e?Dd.test(e)?Gd:Zd:Vd}function Xd(e,t){const n=[...e],r=n.length,s=e.map((e,n)=>Yd(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=s[t](e);return n}}function Zd(e,t){const n={...e,...t},r={};for(const s in n)void 0!==e[s]&&void 0!==t[s]&&(r[s]=Yd(e[s])(e[s],t[s]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const Qd=(e,t)=>{const n=Bd.createTransformer(t),r=Ld(e),s=Ld(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Kd.has(e)&&!s.values.length||Kd.has(t)&&!r.values.length?function(e,t){return Kd.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):Tc(Xd(function(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][r[i]],a=e.values[o]??0;n[s]=a,r[i]++}return n}(r,s),s.values),n):Vd(e,t)};function eu(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return qd(e,t,n);return Yd(e)(e,t)}const tu=e=>{const t=({timestamp:t})=>e(t);return{start:(e=!0)=>Qc.update(t,e),stop:()=>ed(t),now:()=>td.isProcessing?td.timestamp:id.now()}},nu=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(1e4*e(i/(s-1)))/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},ru=2e4;function su(e){let t=0;let n=e.next(t);for(;!n.done&&t<ru;)t+=50,n=e.next(t);return t>=ru?1/0:t}function iu(e,t,n){const r=Math.max(t-5,0);return Pc(n-e(r),t-r)}const ou=100,au=10,lu=1,cu=0,du=800,uu=.3,hu=.3,pu={granular:.01,default:2},mu={granular:.005,default:.5},fu=.01,gu=10,xu=.05,yu=1,vu=.001;function bu({duration:e=du,bounce:t=uu,velocity:n=cu,mass:r=lu}){let s,i,o=1-t;o=bc(xu,yu,o),e=bc(fu,gu,Oc(e)),o<1?(s=t=>{const r=t*o,s=r*e,i=r-n,a=ku(t,o),l=Math.exp(-s);return vu-i/a*l},i=t=>{const r=t*o*e,i=r*n+n,a=Math.pow(o,2)*Math.pow(t,2)*e,l=Math.exp(-r),c=ku(Math.pow(t,2),o);return(-s(t)+vu>0?-1:1)*((i-a)*l)/c}):(s=t=>Math.exp(-t*e)*((t-n)*e+1)-.001,i=t=>Math.exp(-t*e)*(e*e*(n-t)));const a=function(e,t,n){let r=n;for(let s=1;s<wu;s++)r-=e(r)/t(r);return r}(s,i,5/e);if(e=Dc(e),isNaN(a))return{stiffness:ou,damping:au,duration:e};{const t=Math.pow(a,2)*r;return{stiffness:t,damping:2*o*Math.sqrt(r*t),duration:e}}}const wu=12;function ku(e,t){return e*Math.sqrt(1-t*t)}const ju=["duration","bounce"],Nu=["stiffness","damping","mass"];function Cu(e,t){return t.some(t=>void 0!==e[t])}function Su(e=hu,t=uu){const n="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:u,velocity:h,isResolvedFromDuration:p}=function(e){let t={velocity:cu,stiffness:ou,damping:au,mass:lu,isResolvedFromDuration:!1,...e};if(!Cu(e,Nu)&&Cu(e,ju))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),s=r*r,i=2*bc(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:lu,stiffness:s,damping:i}}else{const n=bu(e);t={...t,...n,mass:lu},t.isResolvedFromDuration=!0}return t}({...n,velocity:-Oc(n.velocity||0)}),m=h||0,f=c/(2*Math.sqrt(l*d)),g=o-i,x=Oc(Math.sqrt(l/d)),y=Math.abs(g)<5;let v;if(r||(r=y?pu.granular:pu.default),s||(s=y?mu.granular:mu.default),f<1){const e=ku(x,f);v=t=>{const n=Math.exp(-f*x*t);return o-n*((m+f*x*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===f)v=e=>o-Math.exp(-x*e)*(g+(m+x*g)*e);else{const e=x*Math.sqrt(f*f-1);v=t=>{const n=Math.exp(-f*x*t),r=Math.min(e*t,300);return o-n*((m+f*x*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}const b={calculatedDuration:p&&u||null,next:e=>{const t=v(e);if(p)a.done=e>=u;else{let n=0===e?m:0;f<1&&(n=0===e?Dc(m):iu(v,e,t));const i=Math.abs(n)<=r,l=Math.abs(o-t)<=s;a.done=i&&l}return a.value=a.done?o:t,a},toString:()=>{const e=Math.min(su(b),ru),t=nu(t=>b.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return b}function Eu({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const u=e[0],h={done:!1,value:u},p=e=>void 0===a?l:void 0===l||Math.abs(a-e)<Math.abs(l-e)?a:l;let m=n*t;const f=u+m,g=void 0===o?f:o(f);g!==f&&(m=g-u);const x=e=>-m*Math.exp(-e/r),y=e=>g+x(e),v=e=>{const t=x(e),n=y(e);h.done=Math.abs(t)<=c,h.value=h.done?g:n};let b,w;const k=e=>{var t;(t=h.value,void 0!==a&&t<a||void 0!==l&&t>l)&&(b=e,w=Su({keyframes:[h.value,p(h.value)],velocity:iu(y,e,h.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return k(0),{calculatedDuration:null,next:e=>{let t=!1;return w||void 0!==b||(t=!0,v(e),k(e)),void 0!==b&&e>=b?w.next(e-b):(!t&&v(e),h)}}}function Tu(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(t.length,1===i)return()=>t[0];if(2===i&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=function(e,t,n){const r=[],s=n||wc.mix||eu,i=e.length-1;for(let o=0;o<i;o++){let n=s(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||Sc:t;n=Tc(e,n)}r.push(n)}return r}(t,r,s),l=a.length,c=n=>{if(o&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const s=Ac(e[r],e[r+1],n);return a[r](s)};return n?t=>c(bc(e[0],e[i-1],t)):c}function Au(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Ac(0,t,r);e.push(qd(n,1,s))}}(t,e.length-1),t}function Mu({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=(e=>Array.isArray(e)&&"number"!=typeof e[0])(r)?r.map(Yc):Yc(r),i={done:!1,value:t[0]},o=function(e,t){return e.map(e=>e*t)}(n&&n.length===t.length?n:Au(t),e),a=Tu(o,t,{ease:Array.isArray(s)?s:(l=t,c=s,l.map(()=>c||Gc).splice(0,l.length-1))});var l,c;return{calculatedDuration:e,next:t=>(i.value=a(t),i.done=t>=e,i)}}Su.applyToOptions=e=>{const t=function(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(su(r),ru);return{type:"keyframes",ease:e=>r.next(s*e).value/t,duration:Oc(s)}}(e,100,Su);return e.ease=t.ease,e.duration=Dc(t.duration),e.type="keyframes",e};const Du=e=>null!==e;function Ou(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(Du),o=s<0||t&&"loop"!==n&&t%2==1?0:i.length-1;return o&&void 0!==r?r:i[o]}const Pu={decay:Eu,inertia:Eu,tween:Mu,keyframes:Mu,spring:Su};function _u(e){"string"==typeof e.type&&(e.type=Pu[e.type])}class Iu{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const Lu=e=>e/100;class Ru extends Iu{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==id.now()&&this.tick(id.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;_u(e);const{type:t=Mu,repeat:n=0,repeatDelay:r=0,repeatType:s,velocity:i=0}=e;let{keyframes:o}=e;const a=t||Mu;a!==Mu&&"number"!=typeof o[0]&&(this.mixKeyframes=Tc(Lu,eu(o[0],o[1])),o=[0,100]);const l=a({...e,keyframes:o});"mirror"===s&&(this.mirroredGenerator=a({...e,keyframes:[...o].reverse(),velocity:-i})),null===l.calculatedDuration&&(l.calculatedDuration=su(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:n,totalDuration:r,mixKeyframes:s,mirroredGenerator:i,resolvedDuration:o,calculatedDuration:a}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:d,repeatType:u,repeatDelay:h,type:p,onUpdate:m,finalKeyframe:f}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let y=this.currentTime,v=n;if(d){const e=Math.min(this.currentTime,r)/o;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,d+1);Boolean(t%2)&&("reverse"===u?(n=1-n,h&&(n-=h/o)):"mirror"===u&&(v=i)),y=bc(0,1,n)*o}const b=x?{done:!1,value:c[0]}:v.next(y);s&&(b.value=s(b.value));let{done:w}=b;x||null===a||(w=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const k=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return k&&p!==Eu&&(b.value=Ou(c,this.options,f,this.speed)),m&&m(b.value),k&&this.finish(),b}then(e,t){return this.finished.then(e,t)}get duration(){return Oc(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Oc(e)}get time(){return Oc(this.currentTime)}set time(e){e=Dc(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(id.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Oc(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=tu,startTime:t}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),this.options.onPlay?.();const n=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=n):null!==this.holdTime?this.startTime=n-this.holdTime:this.startTime||(this.startTime=t??n),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(id.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}const zu=e=>180*e/Math.PI,Fu=e=>{const t=zu(Math.atan2(e[1],e[0]));return $u(t)},Bu={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Fu,rotateZ:Fu,skewX:e=>zu(Math.atan(e[1])),skewY:e=>zu(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},$u=e=>((e%=360)<0&&(e+=360),e),Vu=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),qu=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Hu={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Vu,scaleY:qu,scale:e=>(Vu(e)+qu(e))/2,rotateX:e=>$u(zu(Math.atan2(e[6],e[5]))),rotateY:e=>$u(zu(Math.atan2(-e[2],e[0]))),rotateZ:Fu,rotate:Fu,skewX:e=>zu(Math.atan(e[4])),skewY:e=>zu(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Uu(e){return e.includes("scale")?1:0}function Wu(e,t){if(!e||"none"===e)return Uu(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=Hu,s=n;else{const t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Bu,s=t}if(!s)return Uu(t);const i=r[t],o=s[1].split(",").map(Gu);return"function"==typeof i?i(o):o[i]}function Gu(e){return parseFloat(e.trim())}const Ku=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ju=(()=>new Set(Ku))(),Yu=e=>e===hd||e===Sd,Xu=new Set(["x","y","z"]),Zu=Ku.filter(e=>!Xu.has(e));const Qu={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Wu(t,"x"),y:(e,{transform:t})=>Wu(t,"y")};Qu.translateX=Qu.x,Qu.translateY=Qu.y;const eh=new Set;let th=!1,nh=!1,rh=!1;function sh(){if(nh){const e=Array.from(eh).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{const t=function(e){const t=[];return Zu.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=n.get(e);t&&t.forEach(([t,n])=>{e.getValue(t)?.set(n)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}nh=!1,th=!1,eh.forEach(e=>e.complete(rh)),eh.clear()}function ih(){eh.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(nh=!0)})}class oh{constructor(e,t,n,r,s,i=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=s,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(eh.add(this),th||(th=!0,Qc.read(ih),Qc.resolveKeyframes(sh))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(null===e[0]){const s=r?.get(),i=e[e.length-1];if(void 0!==s)e[0]=s;else if(n&&t){const r=n.readValue(t,i);null!=r&&(e[0]=r)}void 0===e[0]&&(e[0]=i),r&&void 0===s&&r.set(e[0])}!function(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),eh.delete(this)}cancel(){"scheduled"===this.state&&(eh.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const ah={};function lh(e,t){const n=Cc(e);return()=>ah[t]??n()}const ch=lh(()=>void 0!==window.ScrollTimeline,"scrollTimeline"),dh=lh(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0},"linearEasing"),uh=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,hh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:uh([0,.65,.55,1]),circOut:uh([.55,0,1,.45]),backIn:uh([.31,.01,.66,-.59]),backOut:uh([.33,1.53,.69,.99])};function ph(e,t){return e?"function"==typeof e?dh()?nu(e,t):"ease-out":Kc(e)?uh(e):Array.isArray(e)?e.map(e=>ph(e,t)||hh.easeOut):hh[e]:void 0}function mh(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const d={[t]:n};l&&(d.offset=l);const u=ph(a,s);Array.isArray(u)&&(d.easing=u);const h={delay:r,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:"reverse"===o?"alternate":"normal"};c&&(h.pseudoElement=c);return e.animate(d,h)}function fh(e){return"function"==typeof e&&"applyToOptions"in e}class gh extends Iu{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:s,allowFlatten:i=!1,finalKeyframe:o,onComplete:a}=e;this.isPseudoElement=Boolean(s),this.allowFlatten=i,this.options=e,e.type;const l=function({type:e,...t}){return fh(e)&&dh()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}(e);this.animation=mh(t,n,r,l,s),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const e=Ou(r,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}a?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(e){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Oc(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Oc(e)}get time(){return Oc(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Dc(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&ch()?(this.animation.timeline=e,Sc):t(this)}}const xh={anticipate:$c,backInOut:Bc,circInOut:Hc};function yh(e){"string"==typeof e.ease&&e.ease in xh&&(e.ease=xh[e.ease])}class vh extends gh{constructor(e){yh(e),_u(e),super(e),void 0!==e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:n,onComplete:r,element:s,...i}=this.options;if(!t)return;if(void 0!==e)return void t.set(e);const o=new Ru({...i,autoplay:!1}),a=Math.max(10,id.now()-this.startTime),l=bc(0,10,a-10);t.setWithVelocity(o.sample(Math.max(0,a-l)).value,o.sample(a).value,l),o.stop()}}const bh=(e,t)=>"zIndex"!==t&&(!("number"!=typeof e&&!Array.isArray(e))||!("string"!=typeof e||!Bd.test(e)&&"0"!==e||e.startsWith("url(")));function wh(e){e.duration=0,e.type="keyframes"}const kh=new Set(["opacity","clipPath","filter","transform"]),jh=Cc(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class Nh extends Iu{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i="loop",keyframes:o,name:a,motionValue:l,element:c,...d}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=id.now();const u={autoplay:e,delay:t,type:n,repeat:r,repeatDelay:s,repeatType:i,name:a,motionValue:l,element:c,...d},h=c?.KeyframeResolver||oh;this.keyframeResolver=new h(o,(e,t,n)=>this.onKeyframesResolved(e,t,u,!n),a,l,c),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:s,type:i,velocity:o,delay:a,isHandoff:l,onUpdate:c}=n;this.resolvedAt=id.now(),function(e,t,n,r){const s=e[0];if(null===s)return!1;if("display"===t||"visibility"===t)return!0;const i=e[e.length-1],o=bh(s,t),a=bh(i,t);return!(!o||!a)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||fh(n))&&r)}(e,s,i,o)||(!wc.instantAnimations&&a||c?.(Ou(e,n,t)),e[0]=e[e.length-1],wh(n),n.repeat=0);const d={startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},u=!l&&function(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=e,a=t?.owner?.current;if(!(a instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return jh()&&n&&kh.has(n)&&("transform"!==n||!c)&&!l&&!r&&"mirror"!==s&&0!==i&&"inertia"!==o}(d),h=d.motionValue?.owner?.current,p=u?new vh({...d,element:h}):new Ru(d);p.finished.then(()=>{this.notifyFinished()}).catch(Sc),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),rh=!0,ih(),sh(),rh=!1),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function Ch(e,t,n,r=0,s=1){const i=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),o=e.size,a=(o-1)*r;return"function"==typeof n?n(i,o):1===s?i*r:a-i*r}const Sh=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Eh(e,t,n=1){const[r,s]=function(e){const t=Sh.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const e=i.trim();return kc(e)?parseFloat(e):e}return cd(s)?Eh(s,t,n+1):s}const Th={type:"spring",stiffness:500,damping:25,restSpeed:10},Ah={type:"keyframes",duration:.8},Mh={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Dh=(e,{keyframes:t})=>t.length>2?Ah:Ju.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:Th:Mh,Oh=e=>null!==e;function Ph(e,t){if(e?.inherit&&t){const{inherit:n,...r}=e;return{...t,...r}}return e}function _h(e,t){const n=e?.[t]??e?.default??e;return n!==e?Ph(n,e):n}const Ih=(e,t,n,r={},s,i)=>o=>{const a=_h(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c-=Dc(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:e=>{t.set(e),a.onUpdate&&a.onUpdate(e)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};(function({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length})(a)||Object.assign(d,Dh(e,d)),d.duration&&(d.duration=Dc(d.duration)),d.repeatDelay&&(d.repeatDelay=Dc(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let u=!1;if((!1===d.type||0===d.duration&&!d.repeatDelay)&&(wh(d),0===d.delay&&(u=!0)),(wc.instantAnimations||wc.skipAnimations||s?.shouldSkipAnimations)&&(u=!0,wh(d),d.delay=0),d.allowFlatten=!a.type&&!a.ease,u&&!i&&void 0!==t.get()){const e=function(e,{repeat:t,repeatType:n="loop"}){const r=e.filter(Oh);return r[t&&"loop"!==n&&t%2==1?0:r.length-1]}(d.keyframes,a);if(void 0!==e)return void Qc.update(()=>{d.onUpdate(e),d.onComplete()})}return a.isSync?new Ru(d):new Nh(d)};function Lh(e){const t=[{},{}];return e?.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function Rh(e,t,n,r){if("function"==typeof t){const[s,i]=Lh(r);t=t(void 0!==n?n:e.custom,s,i)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){const[s,i]=Lh(r);t=t(void 0!==n?n:e.custom,s,i)}return t}function zh(e,t,n){const r=e.getProps();return Rh(r,t,void 0!==n?n:r.custom,e)}const Fh=new Set(["width","height","top","left","right","bottom",...Ku]);class Bh{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{const t=id.now();if(this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const n of this.dependents)n.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=id.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Mc);const n=this.events[e].add(t);return"change"===e?()=>{n(),Qc.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=id.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Pc(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $h(e,t){return new Bh(e,t)}const Vh=e=>Array.isArray(e);function qh(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,$h(n))}function Hh(e){return Vh(e)?e[e.length-1]||0:e}const Uh=e=>Boolean(e&&e.getVelocity);function Wh(e,t){const n=e.getValue("willChange");if(r=n,Boolean(Uh(r)&&r.add))return n.add(t);if(!n&&wc.WillChange){const n=new wc.WillChange("auto");e.addValue("willChange",n),n.add(t)}var r}function Gh(e){return e.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const Kh="data-"+Gh("framerAppearId");function Jh(e){return e.props[Kh]}function Yh({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&!0!==t[n];return t[n]=!1,r}function Xh(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i,transitionEnd:o,...a}=t;const l=e.getDefaultTransition();i=i?Ph(i,l):l;const c=i?.reduceMotion;r&&(i=r);const d=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const h in a){const t=e.getValue(h,e.latestValues[h]??null),r=a[h];if(void 0===r||u&&Yh(u,h))continue;const s={delay:n,..._h(i||{},h)},o=t.get();if(void 0!==o&&!t.isAnimating&&!Array.isArray(r)&&r===o&&!s.velocity)continue;let l=!1;if(window.MotionHandoffAnimation){const t=Jh(e);if(t){const e=window.MotionHandoffAnimation(t,h,Qc);null!==e&&(s.startTime=e,l=!0)}}Wh(e,h);const p=c??e.shouldReduceMotion;t.start(Ih(h,t,r,p&&Fh.has(h)?{type:!1}:s,e,l));const m=t.animation;m&&d.push(m)}if(o){const t=()=>Qc.update(()=>{o&&function(e,t){const n=zh(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i)qh(e,o,Hh(i[o]))}(e,o)});d.length?Promise.all(d).then(t):t()}return d}function Zh(e,t,n={}){const r=zh(e,t,"exit"===n.type?e.presenceContext?.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(Xh(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(r=0)=>{const{delayChildren:i=0,staggerChildren:o,staggerDirection:a}=s;return function(e,t,n=0,r=0,s=0,i=1,o){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(Zh(l,t,{...o,delay:n+("function"==typeof r?0:r)+Ch(e.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}(e,t,r,i,o,a,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[e,t]="beforeChildren"===a?[i,o]:[o,i];return e().then(()=>t())}return Promise.all([i(),o(n.delay)])}const Qh=e=>t=>t.test(e),ep=[hd,Sd,Cd,Nd,Td,Ed,{test:e=>"auto"===e,parse:e=>e}],tp=e=>ep.find(Qh(e));function np(e){return"number"==typeof e?0===e:null===e||("none"===e||"0"===e||Nc(e))}const rp=new Set(["brightness","contrast","saturate","opacity"]);function sp(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(gd)||[];if(!r)return e;const s=n.replace(r,"");let i=rp.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const ip=/\b([a-z-]*)\(.*?\)/gu,op={...Bd,getAnimatableNone:e=>{const t=e.match(ip);return t?t.map(sp).join(" "):e}},ap={...Bd,getAnimatableNone:e=>{const t=Bd.parse(e);return Bd.createTransformer(e)(t.map(e=>"number"==typeof e?0:"object"==typeof e?{...e,alpha:1}:e))}},lp={...hd,transform:Math.round},cp={borderWidth:Sd,borderTopWidth:Sd,borderRightWidth:Sd,borderBottomWidth:Sd,borderLeftWidth:Sd,borderRadius:Sd,borderTopLeftRadius:Sd,borderTopRightRadius:Sd,borderBottomRightRadius:Sd,borderBottomLeftRadius:Sd,width:Sd,maxWidth:Sd,height:Sd,maxHeight:Sd,top:Sd,right:Sd,bottom:Sd,left:Sd,inset:Sd,insetBlock:Sd,insetBlockStart:Sd,insetBlockEnd:Sd,insetInline:Sd,insetInlineStart:Sd,insetInlineEnd:Sd,padding:Sd,paddingTop:Sd,paddingRight:Sd,paddingBottom:Sd,paddingLeft:Sd,paddingBlock:Sd,paddingBlockStart:Sd,paddingBlockEnd:Sd,paddingInline:Sd,paddingInlineStart:Sd,paddingInlineEnd:Sd,margin:Sd,marginTop:Sd,marginRight:Sd,marginBottom:Sd,marginLeft:Sd,marginBlock:Sd,marginBlockStart:Sd,marginBlockEnd:Sd,marginInline:Sd,marginInlineStart:Sd,marginInlineEnd:Sd,fontSize:Sd,backgroundPositionX:Sd,backgroundPositionY:Sd,...{rotate:Nd,rotateX:Nd,rotateY:Nd,rotateZ:Nd,scale:md,scaleX:md,scaleY:md,scaleZ:md,skew:Nd,skewX:Nd,skewY:Nd,distance:Sd,translateX:Sd,translateY:Sd,translateZ:Sd,x:Sd,y:Sd,z:Sd,perspective:Sd,transformPerspective:Sd,opacity:pd,originX:Ad,originY:Ad,originZ:Sd},zIndex:lp,fillOpacity:pd,strokeOpacity:pd,numOctaves:lp},dp={...cp,color:Dd,backgroundColor:Dd,outlineColor:Dd,fill:Dd,stroke:Dd,borderColor:Dd,borderTopColor:Dd,borderRightColor:Dd,borderBottomColor:Dd,borderLeftColor:Dd,filter:op,WebkitFilter:op,mask:ap,WebkitMask:ap},up=e=>dp[e],hp=new Set([op,ap]);function pp(e,t){let n=up(e);return hp.has(n)||(n=Bd),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const mp=new Set(["auto","none","0"]);class fp extends oh{constructor(e,t,n,r,s){super(e,t,n,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let a=0;a<e.length;a++){let n=e[a];if("string"==typeof n&&(n=n.trim(),cd(n))){const r=Eh(n,t.current);void 0!==r&&(e[a]=r),a===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!Fh.has(n)||2!==e.length)return;const[r,s]=e,i=tp(r),o=tp(s);if(ud(r)!==ud(s)&&Qu[n])this.needsMeasurement=!0;else if(i!==o)if(Yu(i)&&Yu(o))for(let a=0;a<e.length;a++){const t=e[a];"string"==typeof t&&(e[a]=parseFloat(t))}else Qu[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)(null===e[r]||np(e[r]))&&n.push(r);n.length&&function(e,t,n){let r,s=0;for(;s<e.length&&!r;){const t=e[s];"string"==typeof t&&!mp.has(t)&&Ld(t).values.length&&(r=e[s]),s++}if(r&&n)for(const i of t)e[i]=pp(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Qu[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const s=n.length-1,i=n[s];n[s]=Qu[t](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==i&&void 0===this.finalKeyframe&&(this.finalKeyframe=i),this.removedTransforms?.length&&this.removedTransforms.forEach(([t,n])=>{e.getValue(t).set(n)}),this.resolveNoneKeyframes()}}const gp=new Set(["opacity","clipPath","filter","transform"]);function xp(e,t,n){if(null==e)return[];if(e instanceof EventTarget)return[e];if("string"==typeof e){let t=document;const r=n?.[e]??t.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e).filter(e=>null!=e)}const yp=(e,t)=>t&&"number"==typeof e?t.transform(e):e;function vp(e){return jc(e)&&"offsetHeight"in e}const{schedule:bp}=Zc(queueMicrotask,!1),wp={x:!1,y:!1};function kp(){return wp.x||wp.y}function jp(e,t){const n=xp(e),r=new AbortController;return[n,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function Np(e,t,n={}){const[r,s,i]=jp(e,n);return r.forEach(e=>{let n,r=!1,i=!1;const o=t=>{n&&(n(t),n=void 0),e.removeEventListener("pointerleave",l)},a=e=>{r=!1,window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",a),i&&(i=!1,o(e))},l=e=>{"touch"!==e.pointerType&&(r?i=!0:o(e))};e.addEventListener("pointerenter",r=>{if("touch"===r.pointerType||kp())return;i=!1;const o=t(e,r);"function"==typeof o&&(n=o,e.addEventListener("pointerleave",l,s))},s),e.addEventListener("pointerdown",()=>{r=!0,window.addEventListener("pointerup",a,s),window.addEventListener("pointercancel",a,s)},s)}),i}const Cp=(e,t)=>!!t&&(e===t||Cp(e,t.parentElement)),Sp=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary,Ep=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const Tp=new Set(["INPUT","SELECT","TEXTAREA"]);const Ap=new WeakSet;function Mp(e){return t=>{"Enter"===t.key&&e(t)}}function Dp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function Op(e){return Sp(e)&&!kp()}const Pp=new WeakSet;function _p(e,t,n={}){const[r,s,i]=jp(e,n),o=e=>{const r=e.currentTarget;if(!Op(e))return;if(Pp.has(e))return;Ap.add(r),n.stopPropagation&&Pp.add(e);const i=t(r,e),o=(e,t)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",l),Ap.has(r)&&Ap.delete(r),Op(e)&&"function"==typeof i&&i(e,{success:t})},a=e=>{o(e,r===window||r===document||n.useGlobalTarget||Cp(r,e.target))},l=e=>{o(e,!1)};window.addEventListener("pointerup",a,s),window.addEventListener("pointercancel",l,s)};return r.forEach(e=>{(n.useGlobalTarget?window:e).addEventListener("pointerdown",o,s),vp(e)&&(e.addEventListener("focus",e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=Mp(()=>{if(Ap.has(n))return;Dp(n,"down");const e=Mp(()=>{Dp(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>Dp(n,"cancel"),t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)})(e,s)),function(e){return Ep.has(e.tagName)||!0===e.isContentEditable}(e)||e.hasAttribute("tabindex")||(e.tabIndex=0))}),i}function Ip(e){return jc(e)&&"ownerSVGElement"in e}const Lp=new WeakMap;let Rp;const zp=(e,t,n)=>(r,s)=>s&&s[0]?s[0][e+"Size"]:Ip(r)&&"getBBox"in r?r.getBBox()[t]:r[n],Fp=zp("inline","width","offsetWidth"),Bp=zp("block","height","offsetHeight");function $p({target:e,borderBoxSize:t}){Lp.get(e)?.forEach(n=>{n(e,{get width(){return Fp(e,t)},get height(){return Bp(e,t)}})})}function Vp(e){e.forEach($p)}function qp(e,t){Rp||"undefined"!=typeof ResizeObserver&&(Rp=new ResizeObserver(Vp));const n=xp(e);return n.forEach(e=>{let n=Lp.get(e);n||(n=new Set,Lp.set(e,n)),n.add(t),Rp?.observe(e)}),()=>{n.forEach(e=>{const n=Lp.get(e);n?.delete(t),n?.size||Rp?.unobserve(e)})}}const Hp=new Set;let Up;function Wp(e){return Hp.add(e),Up||(Up=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};Hp.forEach(t=>t(e))},window.addEventListener("resize",Up)),()=>{Hp.delete(e),Hp.size||"function"!=typeof Up||(window.removeEventListener("resize",Up),Up=void 0)}}function Gp(e,t){return"function"==typeof e?Wp(e):qp(e,t)}const Kp=[...ep,Dd,Bd],Jp=()=>({x:{min:0,max:0},y:{min:0,max:0}}),Yp=new WeakMap;function Xp(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function Zp(e){return"string"==typeof e||Array.isArray(e)}const Qp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],em=["initial",...Qp];function tm(e){return Xp(e.animate)||em.some(t=>Zp(e[t]))}function nm(e){return Boolean(tm(e)||e.variants)}const rm={current:null},sm={current:!1},im="undefined"!=typeof window;const om=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let am={};function lm(e){am=e}class cm{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,skipAnimations:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=oh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=id.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Qc.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.skipAnimationsConfig=s,this.options=a,this.blockInitialAnimation=Boolean(i),this.isControllingVariants=tm(t),this.isVariantNode=nm(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:d,...u}=this.scrapeMotionValuesFromProps(t,{},this);for(const h in u){const e=u[h];void 0!==l[h]&&Uh(e)&&e.set(l[h])}}mount(e){if(this.hasBeenMounted)for(const t in this.initialValues)this.values.get(t)?.jump(this.initialValues[t]),this.latestValues[t]=this.initialValues[t];this.current=e,Yp.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),"never"===this.reducedMotionConfig?this.shouldReduceMotion=!1:"always"===this.reducedMotionConfig?this.shouldReduceMotion=!0:(sm.current||function(){if(sm.current=!0,im)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>rm.current=e.matches;e.addEventListener("change",t),t()}else rm.current=!1}(),this.shouldReduceMotion=rm.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),ed(this.notifyUpdate),ed(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),t.accelerate&&gp.has(e)&&this.current instanceof HTMLElement){const{factory:n,keyframes:r,times:s,ease:i,duration:o}=t.accelerate,a=new gh({element:this.current,name:e,keyframes:r,times:s,ease:i,duration:Dc(o)}),l=n(a);return void this.valueSubscriptions.set(e,()=>{l(),a.cancel()})}const n=Ju.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&Qc.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;"undefined"!=typeof window&&window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),s&&s(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in am){const t=am[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<om.length;n++){const t=om[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const s=t[r],i=n[r];if(Uh(s))e.addValue(r,s);else if(Uh(i))e.addValue(r,$h(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(s):t.hasAnimated||t.set(s)}else{const t=e.getStaticValue(r);e.addValue(r,$h(void 0!==t?t:s,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=$h(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var r;return null!=n&&("string"==typeof n&&(kc(n)||Nc(n))?n=parseFloat(n):(r=n,!Kp.find(Qh(r))&&Bd.test(t)&&(n=pp(e,t))),this.setBaseTarget(e,Uh(n)?n.get():n)),Uh(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"==typeof t||"object"==typeof t){const r=Rh(this.props,t,this.presenceContext?.custom);r&&(n=r[e])}if(t&&void 0!==n)return n;const r=this.getBaseTargetFromProps(this.props,e);return void 0===r||Uh(r)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:r}on(e,t){return this.events[e]||(this.events[e]=new Mc),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){bp.render(this.render)}}class dm extends cm{constructor(){super(...arguments),this.KeyframeResolver=fp}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){const n=e.style;return n?n[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Uh(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class um{constructor(e){this.isMounted=!1,this.node=e}update(){}}function hm({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function pm(e){return void 0===e||1===e}function mm({scale:e,scaleX:t,scaleY:n}){return!pm(e)||!pm(t)||!pm(n)}function fm(e){return mm(e)||gm(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function gm(e){return xm(e.x)||xm(e.y)}function xm(e){return e&&"0%"!==e}function ym(e,t,n){return n+t*(e-n)}function vm(e,t,n,r,s){return void 0!==s&&(e=ym(e,s,r)),ym(e,n,r)+t}function bm(e,t=0,n=1,r,s){e.min=vm(e.min,t,n,r,s),e.max=vm(e.max,t,n,r,s)}function wm(e,{x:t,y:n}){bm(e.x,t.translate,t.scale,t.originPoint),bm(e.y,n.translate,n.scale,n.originPoint)}const km=.999999999999,jm=1.0000000000001;function Nm(e,t){e.min=e.min+t,e.max=e.max+t}function Cm(e,t,n,r,s=.5){bm(e,t,n,qd(e.min,e.max,s),r)}function Sm(e,t){Cm(e.x,t.x,t.scaleX,t.scale,t.originX),Cm(e.y,t.y,t.scaleY,t.scale,t.originY)}function Em(e,t){return hm(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const Tm={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Am=Ku.length;function Mm(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const e=t[l];if(Ju.has(l))o=!0;else if(ad(l))s[l]=e;else{const t=yp(e,cp[l]);l.startsWith("origin")?(a=!0,i[l]=t):r[l]=t}}if(t.transform||(o||n?r.transform=function(e,t,n){let r="",s=!0;for(let i=0;i<Am;i++){const o=Ku[i],a=e[o];if(void 0===a)continue;let l=!0;if("number"==typeof a)l=a===(o.startsWith("scale")?1:0);else{const e=parseFloat(a);l=o.startsWith("scale")?1===e:0===e}if(!l||n){const e=yp(a,cp[o]);l||(s=!1,r+=`${Tm[o]||o}(${e}) `),n&&(t[o]=e)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:e="50%",originY:t="50%",originZ:n=0}=i;r.transformOrigin=`${e} ${t} ${n}`}}function Dm(e,{style:t,vars:n},r,s){const i=e.style;let o;for(o in t)i[o]=t[o];for(o in s?.applyProjectionStyles(i,r),n)i.setProperty(o,n[o])}function Om(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Pm={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!Sd.test(e))return e;e=parseFloat(e)}return`${Om(e,t.target.x)}% ${Om(e,t.target.y)}%`}},_m={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Bd.parse(e);if(s.length>5)return r;const i=Bd.createTransformer(e),o="number"!=typeof s[0]?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const c=qd(a,l,.5);return"number"==typeof s[2+o]&&(s[2+o]/=c),"number"==typeof s[3+o]&&(s[3+o]/=c),i(s)}},Im={borderRadius:{...Pm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Pm,borderTopRightRadius:Pm,borderBottomLeftRadius:Pm,borderBottomRightRadius:Pm,boxShadow:_m};function Lm(e,{layout:t,layoutId:n}){return Ju.has(e)||e.startsWith("origin")||(t||void 0!==n)&&(!!Im[e]||"opacity"===e)}function Rm(e,t,n){const r=e.style,s=t?.style,i={};if(!r)return i;for(const o in r)(Uh(r[o])||s&&Uh(s[o])||Lm(o,e)||void 0!==n?.getValue(o)?.liveStyle)&&(i[o]=r[o]);return i}class zm extends dm{constructor(){super(...arguments),this.type="html",this.renderInstance=Dm}readValueFromInstance(e,t){if(Ju.has(t))return this.projection?.isProjecting?Uu(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Wu(n,t)})(e,t);{const n=function(e){return window.getComputedStyle(e)}(e),r=(ad(t)?n.getPropertyValue(t):n[t])||0;return"string"==typeof r?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return Em(e,t)}build(e,t,n){Mm(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return Rm(e,t,n)}}const Fm={offset:"stroke-dashoffset",array:"stroke-dasharray"},Bm={offset:"strokeDashoffset",array:"strokeDasharray"};const $m=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Vm(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,d){if(Mm(e,a,c),l)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:u,style:h}=e;u.transform&&(h.transform=u.transform,delete u.transform),(h.transform||u.transformOrigin)&&(h.transformOrigin=u.transformOrigin??"50% 50%",delete u.transformOrigin),h.transform&&(h.transformBox=d?.transformBox??"fill-box",delete u.transformBox);for(const p of $m)void 0!==u[p]&&(h[p]=u[p],delete u[p]);void 0!==t&&(u.x=t),void 0!==n&&(u.y=n),void 0!==r&&(u.scale=r),void 0!==s&&function(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?Fm:Bm;e[i.offset]=""+-r,e[i.array]=`${t} ${n}`}(u,s,i,o,!1)}const qm=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Hm=e=>"string"==typeof e&&"svg"===e.toLowerCase();function Um(e,t,n){const r=Rm(e,t,n);for(const s in e)if(Uh(e[s])||Uh(t[s])){r[-1!==Ku.indexOf(s)?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s]=e[s]}return r}class Wm extends dm{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Jp}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ju.has(t)){const e=up(t);return e&&e.default||0}return t=qm.has(t)?t:Gh(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return Um(e,t,n)}build(e,t,n){Vm(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){!function(e,t,n,r){Dm(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(qm.has(s)?s:Gh(s),t.attrs[s])}(e,t,0,r)}mount(e){this.isSVGTag=Hm(e.tagName),super.mount(e)}}const Gm=em.length;function Km(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&Km(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<Gm;n++){const r=em[n],s=e.props[r];(Zp(s)||!1===s)&&(t[r]=s)}return t}function Jm(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const Ym=[...Qp].reverse(),Xm=Qp.length;function Zm(e){return t=>Promise.all(t.map(({animation:t,options:n})=>function(e,t,n={}){let r;if(e.notify("AnimationStart",t),Array.isArray(t)){const s=t.map(t=>Zh(e,t,n));r=Promise.all(s)}else if("string"==typeof t)r=Zh(e,t,n);else{const s="function"==typeof t?zh(e,t,n.custom):t;r=Promise.all(Xh(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}(e,t,n)))}function Qm(e){let t=Zm(e),n=nf(),r=!0;const s=t=>(n,r)=>{const s=zh(e,r,"exit"===t?e.presenceContext?.custom:void 0);if(s){const{transition:e,transitionEnd:t,...r}=s;n={...n,...r,...t}}return n};function i(i){const{props:o}=e,a=Km(e.parent)||{},l=[],c=new Set;let d={},u=1/0;for(let t=0;t<Xm;t++){const h=Ym[t],p=n[h],m=void 0!==o[h]?o[h]:a[h],f=Zp(m),g=h===i?p.isActive:null;!1===g&&(u=t);let x=m===a[h]&&m!==o[h]&&f;if(x&&r&&e.manuallyAnimateOnMount&&(x=!1),p.protectedKeys={...d},!p.isActive&&null===g||!m&&!p.prevProp||Xp(m)||"boolean"==typeof m)continue;if("exit"===h&&p.isActive&&!0!==g){p.prevResolvedValues&&(d={...d,...p.prevResolvedValues});continue}const y=ef(p.prevProp,m);let v=y||h===i&&p.isActive&&!x&&f||t>u&&f,b=!1;const w=Array.isArray(m)?m:[m];let k=w.reduce(s(h),{});!1===g&&(k={});const{prevResolvedValues:j={}}=p,N={...j,...k},C=t=>{v=!0,c.has(t)&&(b=!0,c.delete(t)),p.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in N){const t=k[e],n=j[e];if(d.hasOwnProperty(e))continue;let r=!1;r=Vh(t)&&Vh(n)?!Jm(t,n):t!==n,r?null!=t?C(e):c.add(e):void 0!==t&&c.has(e)?C(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=k,p.isActive&&(d={...d,...k}),r&&e.blockInitialAnimation&&(v=!1);const S=x&&y;v&&(!S||b)&&l.push(...w.map(t=>{const n={type:h};if("string"==typeof t&&r&&!S&&e.manuallyAnimateOnMount&&e.parent){const{parent:r}=e,s=zh(r,t);if(r.enteringChildren&&s){const{delayChildren:t}=s.transition||{};n.delay=Ch(r.enteringChildren,e,t)}}return{animation:t,options:n}}))}if(c.size){const t={};if("boolean"!=typeof o.initial){const n=zh(e,Array.isArray(o.initial)?o.initial[0]:o.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach(n=>{const r=e.getBaseTarget(n),s=e.getValue(n);s&&(s.liveStyle=!0),t[n]=r??null}),l.push({animation:t})}let h=Boolean(l.length);return!r||!1!==o.initial&&o.initial!==o.animate||e.manuallyAnimateOnMount||(h=!1),r=!1,h?t(l):Promise.resolve()}return{animateChanges:i,setActive:function(t,r){if(n[t].isActive===r)return Promise.resolve();e.variantChildren?.forEach(e=>e.animationState?.setActive(t,r)),n[t].isActive=r;const s=i(t);for(const e in n)n[e].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=nf()}}}function ef(e,t){return"string"==typeof t?t!==e:!!Array.isArray(t)&&!Jm(t,e)}function tf(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nf(){return{animate:tf(!0),whileInView:tf(),whileHover:tf(),whileTap:tf(),whileDrag:tf(),whileFocus:tf(),exit:tf()}}function rf(e,t){e.min=t.min,e.max=t.max}function sf(e,t){rf(e.x,t.x),rf(e.y,t.y)}function of(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function af(e){return e.max-e.min}function lf(e,t,n,r=.5){e.origin=r,e.originPoint=qd(t.min,t.max,e.origin),e.scale=af(n)/af(t),e.translate=qd(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function cf(e,t,n,r){lf(e.x,t.x,n.x,r?r.originX:void 0),lf(e.y,t.y,n.y,r?r.originY:void 0)}function df(e,t,n){e.min=n.min+t.min,e.max=e.min+af(t)}function uf(e,t,n){e.min=t.min-n.min,e.max=e.min+af(t)}function hf(e,t,n){uf(e.x,t.x,n.x),uf(e.y,t.y,n.y)}function pf(e,t,n,r,s){return e=ym(e-=t,1/n,r),void 0!==s&&(e=ym(e,1/s,r)),e}function mf(e,t,[n,r,s],i,o){!function(e,t=0,n=1,r=.5,s,i=e,o=e){Cd.test(t)&&(t=parseFloat(t),t=qd(o.min,o.max,t/100)-o.min);if("number"!=typeof t)return;let a=qd(i.min,i.max,r);e===i&&(a-=t),e.min=pf(e.min,t,n,a,s),e.max=pf(e.max,t,n,a,s)}(e,t[n],t[r],t[s],t.scale,i,o)}const ff=["x","scaleX","originX"],gf=["y","scaleY","originY"];function xf(e,t,n,r){mf(e.x,t,ff,n?n.x:void 0,r?r.x:void 0),mf(e.y,t,gf,n?n.y:void 0,r?r.y:void 0)}function yf(e){return 0===e.translate&&1===e.scale}function vf(e){return yf(e.x)&&yf(e.y)}function bf(e,t){return e.min===t.min&&e.max===t.max}function wf(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function kf(e,t){return wf(e.x,t.x)&&wf(e.y,t.y)}function jf(e){return af(e.x)/af(e.y)}function Nf(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function Cf(e){return[e("x"),e("y")]}const Sf=["TopLeft","TopRight","BottomLeft","BottomRight"],Ef=Sf.length,Tf=e=>"string"==typeof e?parseFloat(e):e,Af=e=>"number"==typeof e||Sd.test(e);function Mf(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Df=Pf(0,.5,qc),Of=Pf(.5,.95,Sc);function Pf(e,t,n){return r=>r<e?0:r>t?1:n(Ac(e,t,r))}function _f(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const If=(e,t)=>e.depth-t.depth;class Lf{constructor(){this.children=[],this.isDirty=!1}add(e){yc(this.children,e),this.isDirty=!0}remove(e){vc(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(If),this.isDirty=!1,this.children.forEach(e)}}function Rf(e){return Uh(e)?e.get():e}class zf{constructor(){this.members=[]}add(e){yc(this.members,e);for(let t=this.members.length-1;t>=0;t--){const n=this.members[t];if(n===e||n===this.lead||n===this.prevLead)continue;const r=n.instance;r&&!1===r.isConnected&&!1!==n.isPresent&&!n.snapshot&&vc(this.members,n)}e.scheduleRender()}remove(e){if(vc(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r],t=e.instance;if(!1!==e.isPresent&&(!t||!1!==t.isConnected)){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender();const r=n.options.layoutDependency,s=e.options.layoutDependency;if(!(void 0!==r&&void 0!==s&&r===s)){const r=n.instance;r&&!1===r.isConnected&&!n.snapshot||(e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:i}=e.options;!1===i&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Ff={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Bf=["","X","Y","Z"];let $f=0;function Vf(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function qf(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Jh(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Qc,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&qf(r)}function Hf({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(e={},n=t?.()){this.id=$f++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Gf),this.nodes.forEach(eg),this.nodes.forEach(tg),this.nodes.forEach(Kf)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new Lf)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Mc),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){const n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;this.isSVG=Ip(t)&&!function(e){return Ip(e)&&"svg"===e.tagName}(t),this.instance=t;const{layoutId:n,layout:r,visualElement:s}=this.options;if(s&&!s.current&&s.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(r||n)&&(this.isLayoutDirty=!0),e){let n,r=0;const s=()=>this.root.updateBlockedByResize=!1;Qc.read(()=>{r=window.innerWidth}),e(t,()=>{const e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=id.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(ed(r),e(i-t))};return Qc.setup(r,!0),()=>ed(r)}(s,250),Ff.hasAnimatedSinceResize&&(Ff.hasAnimatedSinceResize=!1,this.nodes.forEach(Qf)))})}n&&this.root.registerSharedNode(n,this),!1!==this.options.animate&&s&&(n||r)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:n,layout:r})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const i=this.options.transition||s.getDefaultTransition()||ag,{onLayoutAnimationStart:o,onLayoutAnimationComplete:a}=s.getProps(),l=!this.targetLayout||!kf(this.targetLayout,r),c=!t&&n;if(this.options.layoutRoot||this.resumeFrom||c||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const t={..._h(i,"layout"),onPlay:o,onComplete:a};(s.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,c)}else t||Qf(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ed(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ng),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&qf(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let s=0;s<this.path.length;s++){const e=this.path[s];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Yf);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(Xf);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Zf),this.nodes.forEach(Uf),this.nodes.forEach(Wf)):this.nodes.forEach(Xf),this.clearAllSnapshots();const e=id.now();td.delta=bc(0,1e3/60,e-td.timestamp),td.timestamp=e,td.isProcessing=!0,nd.update.process(td),nd.preRender.process(td),nd.render.process(td),td.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,bp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Jf),this.sharedNodes.forEach(rg)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qc.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qc.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||af(this.snapshot.measuredBox.x)||af(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=r(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!s)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!vf(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||fm(this.latestValues)||i)&&(s(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),dg((r=n).x),dg(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(hg))){const{scroll:e}=this.root;e&&(Nm(t.x,e.offset.x),Nm(t.y,e.offset.y))}return t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};if(sf(t,e),this.scroll?.wasRoot)return t;for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:s,options:i}=r;r!==this.root&&s&&i.layoutScroll&&(s.wasRoot&&sf(t,e),Nm(t.x,s.offset.x),Nm(t.y,s.offset.y))}return t}applyTransform(e,t=!1){const n={x:{min:0,max:0},y:{min:0,max:0}};sf(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Sm(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),fm(e.latestValues)&&Sm(n,e.latestValues)}return fm(this.latestValues)&&Sm(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};sf(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!fm(e.latestValues))continue;mm(e.latestValues)&&e.updateSnapshot();const r=Jp();sf(r,e.measurePageBox()),xf(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return fm(this.latestValues)&&xf(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==td.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){const t=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=t.isSharedProjectionDirty);const n=Boolean(this.resumingFrom)||this!==t;if(!(e||n&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:r,layoutId:s}=this.options;if(!this.layout||!r&&!s)return;this.resolvedRelativeTargetAt=td.timestamp;const i=this.getClosestProjectingParent();var o,a,l;(i&&this.linkedParentVersion!==i.layoutVersion&&!i.options.layoutRoot&&this.removeRelativeTarget(),this.targetDelta||this.relativeTarget||(i&&i.layout?this.createRelativeTarget(i,this.layout.layoutBox,i.layout.layoutBox):this.removeRelativeTarget()),this.relativeTarget||this.targetDelta)&&(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o=this.target,a=this.relativeTarget,l=this.relativeParent.target,df(o.x,a.x,l.x),df(o.y,a.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):sf(this.target,this.layout.layoutBox),wm(this.target,this.targetDelta)):sf(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,i&&Boolean(i.resumingFrom)===Boolean(this.resumingFrom)&&!i.options.layoutScroll&&i.target&&1!==this.animationProgress?this.createRelativeTarget(i,this.target,i.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(this.parent&&!mm(this.parent.latestValues)&&!gm(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(e,t,n){this.relativeParent=e,this.linkedParentVersion=e.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},hf(this.relativeTargetOrigin,t,n),sf(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const e=this.getLead(),t=Boolean(this.resumingFrom)||this!==e;let n=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(n=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===td.timestamp&&(n=!1),n)return;const{layout:r,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!r&&!s)return;sf(this.layoutCorrected,this.layout.layoutBox);const i=this.treeScale.x,o=this.treeScale.y;!function(e,t,n,r=!1){const s=n.length;if(!s)return;let i,o;t.x=t.y=1;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:s}=i.options;s&&s.props.style&&"contents"===s.props.style.display||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Sm(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,wm(e,o)),r&&fm(i.latestValues)&&Sm(e,i.latestValues))}t.x<jm&&t.x>km&&(t.x=1),t.y<jm&&t.y>km&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,t),!e.layout||e.target||1===this.treeScale.x&&1===this.treeScale.y||(e.target=e.layout.layoutBox,e.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:a}=e;a?(this.projectionDelta&&this.prevProjectionDelta?(of(this.prevProjectionDelta.x,this.projectionDelta.x),of(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),cf(this.projectionDelta,this.layoutCorrected,a,this.latestValues),this.treeScale.x===i&&this.treeScale.y===o&&Nf(this.projectionDelta.x,this.prevProjectionDelta.x)&&Nf(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",a))):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.visualElement?.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e,t=!1){const n=this.snapshot,r=n?n.latestValues:{},s={...this.latestValues},i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const o={x:{min:0,max:0},y:{min:0,max:0}},a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,d=Boolean(a&&!c&&!0===this.options.crossfade&&!this.path.some(og));let u;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,h,p,m,f,g;sg(i.x,e.x,n),sg(i.y,e.y,n),this.setTargetDelta(i),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hf(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p=this.relativeTarget,m=this.relativeTargetOrigin,f=o,g=n,ig(p.x,m.x,f.x,g),ig(p.y,m.y,f.y,g),u&&(l=this.relativeTarget,h=u,bf(l.x,h.x)&&bf(l.y,h.y))&&(this.isProjectionDirty=!1),u||(u={x:{min:0,max:0},y:{min:0,max:0}}),sf(u,this.relativeTarget)),a&&(this.animationValues=s,function(e,t,n,r,s,i){s?(e.opacity=qd(0,n.opacity??1,Df(r)),e.opacityExit=qd(t.opacity??1,0,Of(r))):i&&(e.opacity=qd(t.opacity??1,n.opacity??1,r));for(let o=0;o<Ef;o++){const s=`border${Sf[o]}Radius`;let i=Mf(t,s),a=Mf(n,s);void 0===i&&void 0===a||(i||(i=0),a||(a=0),0===i||0===a||Af(i)===Af(a)?(e[s]=Math.max(qd(Tf(i),Tf(a),r),0),(Cd.test(a)||Cd.test(i))&&(e[s]+="%")):e[s]=a)}(t.rotate||n.rotate)&&(e.rotate=qd(t.rotate||0,n.rotate||0,r))}(s,r,this.latestValues,n,d,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ed(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qc.update(()=>{Ff.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=$h(0)),this.motionValue.jump(0,!1),this.currentAnimation=function(e,t,n){const r=Uh(e)?e:$h(e);return r.start(Ih("",r,t,n)),r.animation}(this.motionValue,[0,1e3],{...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:s}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&ug(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=af(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=af(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}sf(t,n),Sm(t,s),cf(this.projectionDeltaWithTransform,this.layoutCorrected,t,s)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new zf);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){const{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){const{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&Vf("z",e,r,this.animationValues);for(let s=0;s<Bf.length;s++)Vf(`rotate${Bf[s]}`,e,r,this.animationValues),Vf(`skew${Bf[s]}`,e,r,this.animationValues);e.render();for(const s in r)e.setStaticValue(s,r[s]),this.animationValues&&(this.animationValues[s]=r[s]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=Rf(t?.pointerEvents)||"",void(e.transform=n?n(this.latestValues,""):"none");const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=Rf(t?.pointerEvents)||""),void(this.hasProjected&&!fm(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1));e.visibility="";const s=r.animationValues||r.latestValues;this.applyTransformsToTarget();let i=function(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=n?.z||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:e,rotate:t,rotateX:s,rotateY:i,skewX:o,skewY:a}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),s&&(r+=`rotateX(${s}deg) `),i&&(r+=`rotateY(${i}deg) `),o&&(r+=`skewX(${o}deg) `),a&&(r+=`skewY(${a}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return 1===a&&1===l||(r+=`scale(${a}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,s);n&&(i=n(s,i)),e.transform=i;const{x:o,y:a}=this.projectionDelta;e.transformOrigin=`${100*o.origin}% ${100*a.origin}% 0`,r.animationValues?e.opacity=r===this?s.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:e.opacity=r===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0;for(const l in Im){if(void 0===s[l])continue;const{correct:t,applyTo:n,isCSSVariable:o}=Im[l],a="none"===i?s[l]:t(s[l],r);if(n){const t=n.length;for(let r=0;r<t;r++)e[n[r]]=a}else o?this.options.visualElement.renderState.vars[l]=a:e[l]=a}this.options.layoutId&&(e.pointerEvents=r===this?Rf(t?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>e.currentAnimation?.stop()),this.root.nodes.forEach(Yf),this.root.sharedNodes.clear()}}}function Uf(e){e.updateLayout()}function Wf(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:s}=e.options,i=t.source!==e.layout.source;"size"===s?Cf(e=>{const r=i?t.measuredBox[e]:t.layoutBox[e],s=af(r);r.min=n[e].min,r.max=r.min+s}):ug(s,t.layoutBox,n)&&Cf(r=>{const s=i?t.measuredBox[r]:t.layoutBox[r],o=af(n[r]);s.max=s.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+o)});const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};cf(o,n,t.layoutBox);const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};i?cf(a,e.applyTransform(r,!0),t.measuredBox):cf(a,n,t.layoutBox);const l=!vf(o);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:s,layout:i}=r;if(s&&i){const o={x:{min:0,max:0},y:{min:0,max:0}};hf(o,t.layoutBox,s.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};hf(a,n,i.layoutBox),kf(o,a)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=o,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Gf(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Kf(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Jf(e){e.clearSnapshot()}function Yf(e){e.clearMeasurements()}function Xf(e){e.isLayoutDirty=!1}function Zf(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Qf(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function eg(e){e.resolveTargetDelta()}function tg(e){e.calcProjection()}function ng(e){e.resetSkewAndRotation()}function rg(e){e.removeLeadSnapshot()}function sg(e,t,n){e.translate=qd(t.translate,0,n),e.scale=qd(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function ig(e,t,n,r){e.min=qd(t.min,n.min,r),e.max=qd(t.max,n.max,r)}function og(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const ag={duration:.45,ease:[.4,0,.1,1]},lg=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),cg=lg("applewebkit/")&&!lg("chrome/")?Math.round:Sc;function dg(e){e.min=cg(e.min),e.max=cg(e.max)}function ug(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=jf(t),s=jf(n),i=.2,!(Math.abs(r-s)<=i));var r,s,i}function hg(e){return e!==e.root&&e.scroll?.wasRoot}const pg=Hf({attachResizeListener:(e,t)=>_f(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),mg={current:void 0},fg=Hf({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!mg.current){const e=new pg({});e.mount(window),e.setOptions({layoutScroll:!0}),mg.current=e}return mg.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),gg=r.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function xg(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function yg(...e){return r.useCallback(function(...e){return t=>{let n=!1;const r=e.map(e=>{const r=xg(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){const n=r[t];"function"==typeof n?n():xg(e[t],null)}}}}(...e),e)}class vg extends r.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent&&!1!==this.props.pop){const e=t.offsetParent,n=vp(e)&&e.offsetWidth||0,r=vp(e)&&e.offsetHeight||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=n-s.width-s.left,s.bottom=r-s.height-s.top}return null}componentDidUpdate(){}render(){return this.props.children}}function bg({children:e,isPresent:t,anchorX:n,anchorY:s,root:i,pop:o}){const a=r.useId(),l=r.useRef(null),c=r.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:d}=r.useContext(gg),u=e.props?.ref??e?.ref,h=yg(l,u);return r.useInsertionEffect(()=>{const{width:e,height:r,top:u,left:h,right:p,bottom:m}=c.current;if(t||!1===o||!l.current||!e||!r)return;const f="left"===n?`left: ${h}`:`right: ${p}`,g="bottom"===s?`bottom: ${m}`:`top: ${u}`;l.current.dataset.motionPopId=a;const x=document.createElement("style");d&&(x.nonce=d);const y=i??document.head;return y.appendChild(x),x.sheet&&x.sheet.insertRule(`\n          [data-motion-pop-id="${a}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${r}px !important;\n            ${f}px !important;\n            ${g}px !important;\n          }\n        `),()=>{y.contains(x)&&y.removeChild(x)}},[t]),ct.jsx(vg,{isPresent:t,childRef:l,sizeRef:c,pop:o,children:!1===o?e:r.cloneElement(e,{ref:h})})}const wg=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:o,mode:a,anchorX:l,anchorY:c,root:d})=>{const u=mc(kg),h=r.useId();let p=!0,m=r.useMemo(()=>(p=!1,{id:h,initial:t,isPresent:n,custom:i,onExitComplete:e=>{u.set(e,!0);for(const t of u.values())if(!t)return;s&&s()},register:e=>(u.set(e,!1),()=>u.delete(e))}),[n,u,s]);return o&&p&&(m={...m}),r.useMemo(()=>{u.forEach((e,t)=>u.set(t,!1))},[n]),r.useEffect(()=>{!n&&!u.size&&s&&s()},[n]),e=ct.jsx(bg,{pop:"popLayout"===a,isPresent:n,anchorX:l,anchorY:c,root:d,children:e}),ct.jsx(xc.Provider,{value:m,children:e})};function kg(){return new Map}function jg(e=!0){const t=r.useContext(xc);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=t,o=r.useId();r.useEffect(()=>{if(e)return i(o)},[e]);const a=r.useCallback(()=>e&&s&&s(o),[o,s,e]);return!n&&s?[!1,a]:[!0]}const Ng=e=>e.key||"";function Cg(e){const t=[];return r.Children.forEach(e,e=>{r.isValidElement(e)&&t.push(e)}),t}const Sg=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:o="sync",propagate:a=!1,anchorX:l="left",anchorY:c="top",root:d})=>{const[u,h]=jg(a),p=r.useMemo(()=>Cg(e),[e]),m=a&&!u?[]:p.map(Ng),f=r.useRef(!0),g=r.useRef(p),x=mc(()=>new Map),y=r.useRef(new Set),[v,b]=r.useState(p),[w,k]=r.useState(p);gc(()=>{f.current=!1,g.current=p;for(let e=0;e<w.length;e++){const t=Ng(w[e]);m.includes(t)?(x.delete(t),y.current.delete(t)):!0!==x.get(t)&&x.set(t,!1)}},[w,m.length,m.join("-")]);const j=[];if(p!==v){let e=[...p];for(let t=0;t<w.length;t++){const n=w[t],r=Ng(n);m.includes(r)||(e.splice(t,0,n),j.push(n))}return"wait"===o&&j.length&&(e=j),k(Cg(e)),b(p),null}const{forceRender:N}=r.useContext(pc);return ct.jsx(ct.Fragment,{children:w.map(e=>{const r=Ng(e),v=!(a&&!u)&&(p===w||m.includes(r));return ct.jsx(wg,{isPresent:v,initial:!(f.current&&!n)&&void 0,custom:t,presenceAffectsLayout:i,mode:o,root:d,onExitComplete:v?void 0:()=>{if(y.current.has(r))return;if(y.current.add(r),!x.has(r))return;x.set(r,!0);let e=!0;x.forEach(t=>{t||(e=!1)}),e&&(N?.(),k(g.current),a&&h?.(),s&&s())},anchorX:l,anchorY:c,children:e},r)})})},Eg=r.createContext({strict:!1}),Tg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Ag=!1;function Mg(){return function(){if(Ag)return;const e={};for(const t in Tg)e[t]={isEnabled:e=>Tg[t].some(t=>!!e[t])};lm(e),Ag=!0}(),am}const Dg=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Og(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Dg.has(e)}let Pg=e=>!Og(e);try{"function"==typeof(_g=require("@emotion/is-prop-valid").default)&&(Pg=e=>e.startsWith("on")?!Og(e):_g(e))}catch{}var _g;const Ig=r.createContext({});function Lg(e){const{initial:t,animate:n}=function(e,t){if(tm(e)){const{initial:t,animate:n}=e;return{initial:!1===t||Zp(t)?t:void 0,animate:Zp(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,r.useContext(Ig));return r.useMemo(()=>({initial:t,animate:n}),[Rg(t),Rg(n)])}function Rg(e){return Array.isArray(e)?e.join(" "):e}const zg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Fg(e,t,n){for(const r in t)Uh(t[r])||Lm(r,n)||(e[r]=t[r])}function Bg(e,t){const n={};return Fg(n,e.style||{},e),Object.assign(n,function({transformTemplate:e},t){return r.useMemo(()=>{const n={style:{},transform:{},transformOrigin:{},vars:{}};return Mm(n,t,e),Object.assign({},n.vars,n.style)},[t])}(e,t)),n}function $g(e,t){const n={},r=Bg(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const Vg=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}});function qg(e,t,n,s){const i=r.useMemo(()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return Vm(n,t,Hm(s),e.transformTemplate,e.style),{...n.attrs,style:{...n.style}}},[t]);if(e.style){const t={};Fg(t,e.style,e),i.style={...t,...i.style}}return i}const Hg=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ug(e){return"string"==typeof e&&!e.includes("-")&&!!(Hg.indexOf(e)>-1||/[A-Z]/u.test(e))}function Wg(e,t,n,{latestValues:s},i,o=!1,a){const l=(a??Ug(e)?qg:$g)(t,s,i,e),c=function(e,t,n){const r={};for(const s in e)"values"===s&&"object"==typeof e.values||(Pg(s)||!0===n&&Og(s)||!t&&!Og(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}(t,"string"==typeof e,o),d=e!==r.Fragment?{...c,...l,ref:n}:{},{children:u}=t,h=r.useMemo(()=>Uh(u)?u.get():u,[u]);return r.createElement(e,{...d,children:h})}function Gg(e,t,n,r){const s={},i=r(e,{});for(const h in i)s[h]=Rf(i[h]);let{initial:o,animate:a}=e;const l=tm(e),c=nm(e);t&&c&&!l&&!1!==e.inherit&&(void 0===o&&(o=t.initial),void 0===a&&(a=t.animate));let d=!!n&&!1===n.initial;d=d||!1===o;const u=d?a:o;if(u&&"boolean"!=typeof u&&!Xp(u)){const t=Array.isArray(u)?u:[u];for(let n=0;n<t.length;n++){const r=Rh(e,t[n]);if(r){const{transitionEnd:e,transition:t,...n}=r;for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[d?e.length-1:0]}null!==e&&(s[r]=e)}for(const r in e)s[r]=e[r]}}}return s}const Kg=e=>(t,n)=>{const s=r.useContext(Ig),i=r.useContext(xc),o=()=>function({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:Gg(n,r,s,e),renderState:t()}}(e,t,s,i);return n?o():mc(o)},Jg=Kg({scrapeMotionValuesFromProps:Rm,createRenderState:zg}),Yg=Kg({scrapeMotionValuesFromProps:Um,createRenderState:Vg}),Xg=Symbol.for("motionComponentSymbol");function Zg(e,t,n){const s=r.useRef(n);r.useInsertionEffect(()=>{s.current=n});const i=r.useRef(null);return r.useCallback(n=>{n&&e.onMount?.(n),t&&(n?t.mount(n):t.unmount());const r=s.current;if("function"==typeof r)if(n){const e=r(n);"function"==typeof e&&(i.current=e)}else i.current?(i.current(),i.current=null):r(n);else r&&(r.current=n)},[t])}const Qg=r.createContext({});function ex(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function tx(e,t,n,s,i,o){const{visualElement:a}=r.useContext(Ig),l=r.useContext(Eg),c=r.useContext(xc),d=r.useContext(gg),u=d.reducedMotion,h=d.skipAnimations,p=r.useRef(null),m=r.useRef(!1);s=s||l.renderer,!p.current&&s&&(p.current=s(e,{visualState:t,parent:a,props:n,presenceContext:c,blockInitialAnimation:!!c&&!1===c.initial,reducedMotionConfig:u,skipAnimations:h,isSVG:o}),m.current&&p.current&&(p.current.manuallyAnimateOnMount=!0));const f=p.current,g=r.useContext(Qg);!f||f.projection||!i||"html"!==f.type&&"svg"!==f.type||function(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:nx(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:Boolean(o)||a&&ex(a),visualElement:e,animationType:"string"==typeof i?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}(p.current,n,i,g);const x=r.useRef(!1);r.useInsertionEffect(()=>{f&&x.current&&f.update(n,c)});const y=n[Kh],v=r.useRef(Boolean(y)&&!window.MotionHandoffIsComplete?.(y)&&window.MotionHasOptimisedAnimation?.(y));return gc(()=>{m.current=!0,f&&(x.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),v.current&&f.animationState&&f.animationState.animateChanges())}),r.useEffect(()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(y)}),v.current=!1),f.enteringChildren=void 0)}),f}function nx(e){if(e)return!1!==e.options.allowProjection?e.projection:nx(e.parent)}function rx(e,{forwardMotionProps:t=!1,type:n}={},s,i){s&&function(e){const t=Mg();for(const n in e)t[n]={...t[n],...e[n]};lm(t)}(s);const o=n?"svg"===n:Ug(e),a=o?Yg:Jg;function l(n,s){let l;const c={...r.useContext(gg),...n,layoutId:sx(n)},{isStatic:d}=c,u=Lg(n),h=a(n,d);if(!d&&fc){r.useContext(Eg).strict;const t=function(e){const t=Mg(),{drag:n,layout:r}=t;if(!n&&!r)return{};const s={...n,...r};return{MeasureLayout:n?.isEnabled(e)||r?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}(c);l=t.MeasureLayout,u.visualElement=tx(e,h,c,i,t.ProjectionNode,o)}return ct.jsxs(Ig.Provider,{value:u,children:[l&&u.visualElement?ct.jsx(l,{visualElement:u.visualElement,...c}):null,Wg(e,n,Zg(h,u.visualElement,s),h,d,t,o)]})}l.displayName=`motion.${"string"==typeof e?e:`create(${e.displayName??e.name??""})`}`;const c=r.forwardRef(l);return c[Xg]=e,c}function sx({layoutId:e}){const t=r.useContext(pc).id;return t&&void 0!==e?t+"-"+e:e}function ix(e,t){if("undefined"==typeof Proxy)return rx;const n=new Map,r=(n,r)=>rx(n,r,e,t);return new Proxy((e,t)=>r(e,t),{get:(s,i)=>"create"===i?r:(n.has(i)||n.set(i,rx(i,void 0,e,t)),n.get(i))})}const ox=(e,t)=>t.isSVG??Ug(e)?new Wm(t):new zm(t,{allowProjection:e!==r.Fragment});let ax=0;const lx={animation:{Feature:class extends um{constructor(e){super(e),e.animationState||(e.animationState=Qm(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Xp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends um{constructor(){super(...arguments),this.id=ax++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}};function cx(e){return{point:{x:e.pageX,y:e.pageY}}}function dx(e,t,n,r){return _f(e,t,(e=>t=>Sp(t)&&e(t,cx(t)))(n),r)}const ux=({current:e})=>e?e.ownerDocument.defaultView:null,hx=(e,t)=>Math.abs(e-t);const px=new Set(["auto","scroll"]);class mx{constructor(e,t,{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:s=!1,distanceThreshold:i=3,element:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=e=>{this.handleScroll(e.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=xx(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=hx(e.x,t.x),r=hx(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;const{point:r}=e,{timestamp:s}=td;this.history.push({...r,timestamp:s});const{onStart:i,onMove:o}=this.handlers;t||(i&&i(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=fx(t,this.transformPagePoint),Qc.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:s}=this.handlers;if(!this.dragSnapToOrigin&&this.startEvent||s&&s(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const i=xx("pointercancel"===e.type?this.lastMoveEventInfo:fx(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,i),r&&r(e,i)},!Sp(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=i,this.contextWindow=r||window;const a=fx(cx(e),this.transformPagePoint),{point:l}=a,{timestamp:c}=td;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=t;d&&d(e,xx(a,this.history)),this.removeListeners=Tc(dx(this.contextWindow,"pointermove",this.handlePointerMove),dx(this.contextWindow,"pointerup",this.handlePointerUp),dx(this.contextWindow,"pointercancel",this.handlePointerUp)),o&&this.startScrollTracking(o)}startScrollTracking(e){let t=e.parentElement;for(;t;){const e=getComputedStyle(t);(px.has(e.overflowX)||px.has(e.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const t=this.scrollPositions.get(e);if(!t)return;const n=e===window,r=n?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},s=r.x-t.x,i=r.y-t.y;0===s&&0===i||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=s,this.lastMoveEventInfo.point.y+=i):this.history.length>0&&(this.history[0].x-=s,this.history[0].y-=i),this.scrollPositions.set(e,r),Qc.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ed(this.updatePoint)}}function fx(e,t){return t?{point:t(e.point)}:e}function gx(e,t){return{x:e.x-t.x,y:e.y-t.y}}function xx({point:e},t){return{point:e,delta:gx(e,vx(t)),offset:gx(e,yx(t)),velocity:bx(t,.1)}}function yx(e){return e[0]}function vx(e){return e[e.length-1]}function bx(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=vx(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Dc(t)));)n--;if(!r)return{x:0,y:0};r===e[0]&&e.length>2&&s.timestamp-r.timestamp>2*Dc(t)&&(r=e[1]);const i=Oc(s.timestamp-r.timestamp);if(0===i)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function wx(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function kx(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const jx=.35;function Nx(e,t,n){return{min:Cx(e,t),max:Cx(e,n)}}function Cx(e,t){return"number"==typeof e?e:e[t]||0}const Sx=new WeakMap;class Ex{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:n}={}){const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:s}=this.getProps();this.panSession=new mx(e,{onSessionStart:e=>{t&&this.snapToCursor(cx(e).point),this.stopAnimation()},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:s}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(i=n)||"y"===i?wp[i]?null:(wp[i]=!0,()=>{wp[i]=!1}):wp.x||wp.y?null:(wp.x=wp.y=!0,()=>{wp.x=wp.y=!1}),!this.openDragLock))return;var i;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Cf(e=>{let t=this.getAxisMotionValue(e).get()||0;if(Cd.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=af(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),s&&Qc.update(()=>s(e,t),!1,!0),Wh(this.visualElement,"transform");const{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:s,onDrag:i}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:o}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e,t=10){let n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(o),void(null!==this.currentDirection&&s&&s(this.currentDirection));this.updateAxis("x",t.point,o),this.updateAxis("y",t.point,o),this.visualElement.render(),i&&Qc.update(()=>i(e,t),!1,!0)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>{const{dragSnapToOrigin:e}=this.getProps();(e||this.constraints)&&this.startAnimation({x:0,y:0})}},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:s,distanceThreshold:n,contextWindow:ux(this.visualElement),element:this.visualElement.current})}stop(e,t){const n=e||this.latestPointerEvent,r=t||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!r||!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Qc.postRender(()=>o(n,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!Ax(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let i=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(i=function(e,{min:t,max:n},r){return void 0!==t&&e<t?e=r?qd(t,e,r.min):Math.max(e,t):void 0!==n&&e>n&&(e=r?qd(n,e,r.max):Math.min(e,n)),e}(i,this.constraints[e],this.elastic[e])),s.set(i)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&ex(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!e||!n)&&function(e,{top:t,left:n,bottom:r,right:s}){return{x:wx(e.x,n,s),y:wx(e.y,t,r)}}(n.layoutBox,e),this.elastic=function(e=jx){return!1===e?e=0:!0===e&&(e=jx),{x:Nx(e,"left","right"),y:Nx(e,"top","bottom")}}(t),r!==this.constraints&&!ex(e)&&n&&this.constraints&&!this.hasMutatedConstraints&&Cf(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(n.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!ex(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=function(e,t,n){const r=Em(e,n),{scroll:s}=t;return s&&(Nm(r.x,s.offset.x),Nm(r.y,s.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let i=function(e,t){return{x:kx(e.x,t.x),y:kx(e.y,t.y)}}(r.layout.layoutBox,s);if(t){const e=t(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(i));this.hasMutatedConstraints=!!e,e&&(i=hm(e))}return i}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:s,dragSnapToOrigin:i,onDragTransitionEnd:o}=this.getProps(),a=this.constraints||{},l=Cf(o=>{if(!Ax(o,t,this.currentDirection))return;let l=a&&a[o]||{};i&&(l={min:0,max:0});const c=r?200:1e6,d=r?40:1e7,u={type:"inertia",velocity:n?e[o]:0,bounceStiffness:c,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...s,...l};return this.startAxisValueAnimation(o,u)});return Promise.all(l).then(o)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return Wh(this.visualElement,e),n.start(Ih(e,n,0,t,this.visualElement,!1))}stopAnimation(){Cf(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Cf(t=>{const{drag:n}=this.getProps();if(!Ax(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:i}=r.layout.layoutBox[t],o=s.get()||0;s.set(e[t]-qd(n,i,.5)+o)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!ex(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Cf(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=af(e),s=af(t);return s>r?n=Ac(t.min,t.max-r,e.min):r>s&&(n=Ac(e.min,e.max-s,t.min)),bc(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.constraints=!1,this.resolveConstraints(),Cf(t=>{if(!Ax(t,e,null))return;const n=this.getAxisMotionValue(t),{min:s,max:i}=this.constraints[t];n.set(qd(s,i,r[t]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;Sx.set(this.visualElement,this);const e=this.visualElement.current,t=dx(e,"pointerdown",t=>{const{drag:n,dragListener:r=!0}=this.getProps(),s=t.target,i=s!==e&&function(e){return Tp.has(e.tagName)||!0===e.isContentEditable}(s);n&&r&&!i&&this.start(t)});let n;const r=()=>{const{dragConstraints:t}=this.getProps();ex(t)&&t.current&&(this.constraints=this.resolveRefConstraints(),n||(n=function(e,t,n){const r=Gp(e,Tx(n)),s=Gp(t,Tx(n));return()=>{r(),s()}}(e,t.current,()=>this.scalePositionWithinConstraints())))},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Qc.read(r);const o=_f(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(Cf(t=>{const n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))}),this.visualElement.render())});return()=>{o(),t(),i(),a&&a(),n&&n()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:i=jx,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:s,dragElastic:i,dragMomentum:o}}}function Tx(e){let t=!0;return()=>{t?t=!1:e()}}function Ax(e,t,n){return!(!0!==t&&t!==e||null!==n&&n!==e)}const Mx=e=>(t,n)=>{e&&Qc.update(()=>e(t,n),!1,!0)};let Dx=!1;class Ox extends r.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:s}=e;s&&(t.group&&t.group.add(s),n&&n.register&&r&&n.register(s),Dx&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Ff.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:s}=this.props,{projection:i}=n;return i?(i.isPresent=s,e.layoutDependency!==t&&i.setOptions({...i.options,layoutDependency:t}),Dx=!0,r||e.layoutDependency!==t||void 0===t||e.isPresent!==s?i.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?i.promote():i.relegate()||Qc.postRender(()=>{const e=i.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),bp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;Dx=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Px(e){const[t,n]=jg(),s=r.useContext(pc);return ct.jsx(Ox,{...e,layoutGroup:s,switchLayoutGroup:r.useContext(Qg),isPresent:t,safeToRemove:n})}const _x={pan:{Feature:class extends um{constructor(){super(...arguments),this.removePointerDownListener=Sc}onPointerDown(e){this.session=new mx(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ux(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Mx(e),onStart:Mx(t),onMove:Mx(n),onEnd:(e,t)=>{delete this.session,r&&Qc.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=dx(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends um{constructor(e){super(e),this.removeGroupControls=Sc,this.removeListeners=Sc,this.controls=new Ex(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Sc}update(){const{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}},ProjectionNode:fg,MeasureLayout:Px}};function Ix(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const s=r["onHover"+n];s&&Qc.postRender(()=>s(t,cx(t)))}function Lx(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const s=r["onTap"+("End"===n?"":n)];s&&Qc.postRender(()=>s(t,cx(t)))}const Rx=new WeakMap,zx=new WeakMap,Fx=e=>{const t=Rx.get(e.target);t&&t(e)},Bx=e=>{e.forEach(Fx)};function $x(e,t,n){const r=function({root:e,...t}){const n=e||document;zx.has(n)||zx.set(n,{});const r=zx.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(Bx,{root:e,...t})),r[s]}(t);return Rx.set(e,n),r.observe(e),()=>{Rx.delete(e),r.unobserve(e)}}const Vx={some:0,all:1};const qx={inView:{Feature:class extends um{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:s}=e,i={root:t?t.current:void 0,rootMargin:n,threshold:"number"==typeof r?r:Vx[r]};return $x(this.node.current,i,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,s&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),i=t?n:r;i&&i(e)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends um{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:t,propagate:n}=this.node.props;this.unmount=_p(e,(e,t)=>(Lx(this.node,t,"Start"),(e,{success:t})=>Lx(this.node,e,t?"End":"Cancel")),{useGlobalTarget:t,stopPropagation:!1===n?.tap})}unmount(){}}},focus:{Feature:class extends um{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Tc(_f(this.node.current,"focus",()=>this.onFocus()),_f(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends um{mount(){const{current:e}=this.node;e&&(this.unmount=Np(e,(e,t)=>(Ix(this.node,t,"Start"),e=>Ix(this.node,e,"End"))))}unmount(){}}}},Hx=ix({...lx,...qx,..._x,...{layout:{ProjectionNode:fg,MeasureLayout:Px}}},ox);class Ux{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const Wx={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:(()=>{if("undefined"!=typeof localStorage)return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}})()},Gx=e=>e?"string"==typeof e?{publicKey:e}:"[object Object]"===e.toString()?e:{}:{},Kx=async(e,t,n={})=>{const r=await fetch(Wx.origin+e,{method:"POST",headers:n,body:t}),s=await r.text(),i=new Ux(r.status,s);if(r.ok)return i;throw i},Jx=(e,t,n)=>{if(!e||"string"!=typeof e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||"string"!=typeof t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||"string"!=typeof n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},Yx=e=>e.webdriver||!e.languages||0===e.languages.length,Xx=()=>new Ux(451,"Unavailable For Headless Browser"),Zx=(e,t)=>{if((e=>!e.list?.length||!e.watchVariable)(e))return!1;((e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if("string"!=typeof t)throw"The BlockList watchVariable has to be a string"})(e.list,e.watchVariable);const n=((e,t)=>e instanceof FormData?e.get(t):e[t])(t,e.watchVariable);return"string"==typeof n&&e.list.includes(n)},Qx=()=>new Ux(403,"Forbidden"),ey=async(e,t,n)=>{if(!t.throttle||!n)return!1;((e,t)=>{if("number"!=typeof e||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&"string"!=typeof t)throw"The LimitRate ID has to be a non-empty string"})(t.throttle,t.id);const r=t.id||e,s=await(async(e,t,n)=>{const r=Number(await n.get(e)||0);return t-Date.now()+r})(r,t.throttle,n);return s>0||(await n.set(r,Date.now().toString()),!1)},ty=()=>new Ux(429,"Too Many Requests"),ny=async(e,t,n,r)=>{const s=Gx(r),i=s.publicKey||Wx.publicKey,o=s.blockHeadless||Wx.blockHeadless,a=s.storageProvider||Wx.storageProvider,l={...Wx.blockList,...s.blockList},c={...Wx.limitRate,...s.limitRate};if(o&&Yx(navigator))return Promise.reject(Xx());if(Jx(i,e,t),(e=>{if(e&&"[object Object]"!==e.toString())throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"})(n),n&&Zx(l,n))return Promise.reject(Qx());if(await ey(location.pathname,c,a))return Promise.reject(ty());const d={lib_version:"4.4.1",user_id:i,service_id:e,template_id:t,template_params:n};return Kx("/api/v1.0/email/send",JSON.stringify(d),{"Content-type":"application/json"})},ry=()=>{const[e,t]=r.useState({from_name:"",reply_to:"",message:"",honeypot:""}),[n,s]=r.useState(!1),[i,o]=r.useState(!1),[a,l]=r.useState(0),c=1e3;r.useEffect(()=>{l(e.message.length)},[e.message]);const d=e=>{const{name:n,value:r}=e.target;t(e=>({...e,[n]:r}))};return ct.jsxs("div",{className:"bg-gray-100 min-h-screen py-6 md:py-10 px-4 sm:px-6 lg:px-8 font-sans",children:[ct.jsxs(hn,{children:[ct.jsx("title",{children:"Contato | Opine Agora SC"}),ct.jsx("meta",{name:"description",content:"Entre em contato com a equipe do Opine Agora SC. Envie suas dvidas, sugestes ou pautas."})]}),ct.jsxs("div",{className:"w-full max-w-7xl mx-auto",children:[ct.jsxs("div",{className:"text-center mb-6 md:mb-10",children:[ct.jsx("h1",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-navy mb-3 md:mb-4 font-montserrat tracking-tight",children:"Fale Conosco"}),ct.jsx("div",{className:"w-16 md:w-20 h-1.5 bg-teal-primary mx-auto mb-3 md:mb-4 rounded-full"}),ct.jsx("p",{className:"text-base md:text-lg text-text-secondary max-w-2xl mx-auto leading-relaxed px-2",children:"Envie suas dvidas, sugestes de pauta ou feedback."})]}),ct.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 lg:gap-8",children:[ct.jsx("div",{className:"lg:col-span-4 flex flex-col h-full",children:ct.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-lg border-t-4 border-teal-primary h-full flex flex-col justify-center",children:[ct.jsx("h3",{className:"text-lg md:text-xl font-bold text-navy mb-6 md:mb-8 font-montserrat",children:"Canais de Atendimento"}),ct.jsxs("div",{className:"space-y-6 md:space-y-8",children:[ct.jsxs("div",{className:"flex items-start space-x-4 group",children:[ct.jsx("div",{className:"bg-teal-50 p-3 rounded-xl text-teal-primary group-hover:bg-teal-primary group-hover:text-white transition-colors duration-300",children:ct.jsx(T,{size:20,className:"md:w-6 md:h-6"})}),ct.jsxs("div",{className:"flex-1",children:[ct.jsx("p",{className:"text-sm font-bold text-text-secondary uppercase tracking-wider mb-1",children:"E-mail"}),ct.jsx("a",{href:"mailto:contato@opineagora.com.br",className:"text-navy hover:text-orange-warm transition-colors font-semibold break-all text-sm md:text-base block",children:"contato@opineagora.com.br"})]})]}),ct.jsxs("div",{className:"flex items-start space-x-4 group",children:[ct.jsx("div",{className:"bg-teal-50 p-3 rounded-xl text-teal-primary group-hover:bg-teal-primary group-hover:text-white transition-colors duration-300",children:ct.jsx(G,{size:20,className:"md:w-6 md:h-6"})}),ct.jsxs("div",{className:"flex-1",children:[ct.jsx("p",{className:"text-sm font-bold text-text-secondary uppercase tracking-wider mb-1",children:"WhatsApp"}),ct.jsx("a",{href:"https://wa.me/554899999999",target:"_blank",rel:"noopener noreferrer",className:"text-navy hover:text-orange-warm transition-colors font-semibold text-sm md:text-base block",children:"(48) 99999-9999"})]})]}),ct.jsxs("div",{className:"flex items-start space-x-4 group",children:[ct.jsx("div",{className:"bg-teal-50 p-3 rounded-xl text-teal-primary group-hover:bg-teal-primary group-hover:text-white transition-colors duration-300",children:ct.jsx(B,{size:20,className:"md:w-6 md:h-6"})}),ct.jsxs("div",{className:"flex-1",children:[ct.jsx("p",{className:"text-sm font-bold text-text-secondary uppercase tracking-wider mb-1",children:"Localizao"}),ct.jsx("p",{className:"text-navy font-semibold text-sm md:text-base block",children:"Concrdia, SC"})]})]})]})]})}),ct.jsx("div",{className:"lg:col-span-8",children:ct.jsxs("div",{className:"bg-white p-5 md:p-10 rounded-xl shadow-lg border border-gray-100 relative overflow-hidden h-full",children:[ct.jsx(Sg,{children:i&&ct.jsxs(Hx.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"absolute inset-0 bg-white/98 z-10 flex flex-col items-center justify-center text-center p-8 backdrop-blur-sm",children:[ct.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-green-100 rounded-full flex items-center justify-center mb-4 md:mb-6 text-green-600 shadow-md",children:ct.jsx(O,{size:32,className:"md:w-10 md:h-10",strokeWidth:3})}),ct.jsx("h3",{className:"text-xl md:text-2xl font-bold text-navy mb-2 md:mb-3 font-montserrat",children:"Mensagem Enviada!"}),ct.jsx("p",{className:"text-text-secondary text-base md:text-lg",children:"Obrigado! Responderemos o mais breve possvel."})]})}),ct.jsxs("form",{onSubmit:async n=>{n.preventDefault();const r=(()=>{const e=new Date,t=localStorage.getItem("contact_form_usage");if(t){const{count:n,date:r}=JSON.parse(t),s=new Date(r);if(s.getDate()===e.getDate()&&s.getMonth()===e.getMonth()&&s.getFullYear()===e.getFullYear())return!(n>=10)&&{count:n,date:r}}return{count:0,date:e.toISOString()}})();if(!1!==r)if(e.honeypot)console.log("Spam detectado!");else if(e.from_name&&e.reply_to&&e.message)if(i=e.reply_to,/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i)){var i;s(!0);try{const n="service_5bmfxc8",s="template_inummwa",i="ZQ3uNjmMwVrQ1IeW2";await ny(n,s,{from_name:e.from_name,reply_to:e.reply_to,message:e.message},i),(e=>{const t={count:e.count+1,date:e.date};localStorage.setItem("contact_form_usage",JSON.stringify(t))})(r),o(!0),A.success("Mensagem enviada com sucesso!"),t({from_name:"",reply_to:"",message:"",honeypot:""}),setTimeout(()=>{o(!1)},5e3)}catch(cR){console.error("Erro ao enviar e-mail:",cR),A.error("Falha ao enviar mensagem. Tente novamente mais tarde.")}finally{s(!1)}}else A.error("Por favor, insira um e-mail vlido.");else A.error("Por favor, preencha todos os campos obrigatrios.");else A.error("A caixa de mensagens est cheia, tente novamente em 24h",{duration:5e3,icon:""})},className:"space-y-4 md:space-y-6",children:[ct.jsxs("div",{className:"hidden",children:[ct.jsx("label",{htmlFor:"honeypot",children:"No preencha este campo"}),ct.jsx("input",{type:"text",id:"honeypot",name:"honeypot",value:e.honeypot,onChange:d,tabIndex:"-1",autoComplete:"off"})]}),ct.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[ct.jsxs("div",{className:"col-span-1",children:[ct.jsx("label",{htmlFor:"from_name",className:"block text-sm font-bold text-navy mb-1.5 md:mb-2 uppercase tracking-wide",children:"Nome Completo"}),ct.jsx("input",{type:"text",id:"from_name",name:"from_name",value:e.from_name,onChange:d,required:!0,className:"w-full px-4 py-3 md:px-5 md:py-4 rounded-lg border border-gray-300 focus:ring-2 focus:ring-teal-primary focus:border-transparent transition-all outline-none bg-gray-50 focus:bg-white text-text-primary text-sm md:text-base",placeholder:"Seu nome"})]}),ct.jsxs("div",{className:"col-span-1",children:[ct.jsx("label",{htmlFor:"reply_to",className:"block text-sm font-bold text-navy mb-1.5 md:mb-2 uppercase tracking-wide",children:"E-mail"}),ct.jsx("input",{type:"email",id:"reply_to",name:"reply_to",value:e.reply_to,onChange:d,required:!0,className:"w-full px-4 py-3 md:px-5 md:py-4 rounded-lg border border-gray-300 focus:ring-2 focus:ring-teal-primary focus:border-transparent transition-all outline-none bg-gray-50 focus:bg-white text-text-primary text-sm md:text-base",placeholder:"seu@email.com"})]})]}),ct.jsxs("div",{children:[ct.jsx("label",{htmlFor:"message",className:"block text-sm font-bold text-navy mb-1.5 md:mb-2 uppercase tracking-wide",children:"Mensagem"}),ct.jsx("textarea",{id:"message",name:"message",value:e.message,onChange:d,required:!0,maxLength:c,rows:"6",className:"w-full px-4 py-3 md:px-5 md:py-4 rounded-lg border border-gray-300 focus:ring-2 focus:ring-teal-primary focus:border-transparent transition-all outline-none bg-gray-50 focus:bg-white resize-none text-text-primary text-sm md:text-base",placeholder:"Escreva sua mensagem aqui..."}),ct.jsx("div",{className:"flex justify-end mt-1 md:mt-2",children:ct.jsxs("span",{className:"text-[10px] md:text-xs font-semibold "+(a>900?"text-red-500":"text-text-secondary"),children:[a,"/",c]})})]}),ct.jsx("div",{className:"pt-2",children:ct.jsx("button",{type:"submit",disabled:n,className:"w-full bg-teal-primary hover:bg-teal-900 text-white font-bold py-3 px-6 md:py-4 md:px-8 rounded-lg transition-all duration-300 transform hover:-translate-y-1 shadow-md hover:shadow-lg disabled:opacity-70 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center space-x-2 md:space-x-3 uppercase tracking-wide text-sm md:text-base",children:n?ct.jsxs(ct.Fragment,{children:[ct.jsx("div",{className:"animate-spin rounded-full h-4 w-4 md:h-5 md:w-5 border-b-2 border-white"}),ct.jsx("span",{children:"Enviando..."})]}):ct.jsxs(ct.Fragment,{children:[ct.jsx("span",{children:"Enviar Mensagem"}),ct.jsx(P,{size:18,className:"md:w-5 md:h-5"})]})})})]})]})})]})]})]})},sy=()=>{const{posts:e,loading:t,error:n}=is(),{categories:s,loading:i,error:a}=(()=>{const[e,t]=r.useState([]),[n,s]=r.useState(!0),[i,o]=r.useState(null);return r.useEffect(()=>{(async()=>{try{s(!0),o(null);const{data:e,error:n}=await rs.from("posts").select("category").eq("status","published").not("category","is",null);if(n)throw n;const r=[...new Set(e?.map(e=>e.category).filter(Boolean))];t(r)}catch(i){console.error("Error fetching categories:",i),o(i.message)}finally{s(!1)}})()},[]),{categories:e,loading:n,error:i}})(),[l,c]=r.useState(null),[d,u]=r.useState("latest"),h=r.useRef(null),p=e=>{c(e),window.innerWidth<1024&&setTimeout(()=>{h.current?.scrollIntoView({behavior:"smooth",block:"start"})},100)},m=l?e?.filter(e=>e.category===l)||[]:e||[],f=m?[...m].sort((e,t)=>{switch(d){case"latest":return new Date(t.date)-new Date(e.date);case"oldest":return new Date(e.date)-new Date(t.date);case"title":return e.title.localeCompare(t.title);default:return 0}}):[],g=t=>e?.filter(e=>e.category===t).length||0;return t||i?ct.jsx("div",{className:"min-h-screen flex items-center justify-center",children:ct.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-primary"})}):n||a?ct.jsx("div",{className:"min-h-screen flex items-center justify-center",children:ct.jsxs("div",{className:"text-center",children:[ct.jsx("h1",{className:"text-2xl font-bold text-navy mb-4",children:"Erro ao carregar"}),ct.jsx("p",{className:"text-gray-600 mb-6",children:n||a}),ct.jsx(o,{to:"/",className:"btn-primary",children:"Voltar para a pgina inicial"})]})}):ct.jsxs(ct.Fragment,{children:[ct.jsxs(hn,{children:[ct.jsx("title",{children:"Categorias - Opine Agora SC"}),ct.jsx("meta",{name:"description",content:"Explore todas as categorias de notcias do Opine Agora SC. Poltica, Economia, Sociedade, Esportes, Cultura e mais."})]}),ct.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[ct.jsxs("div",{className:"bg-gradient-to-r from-teal-primary to-navy text-white rounded-xl p-8 mb-8",children:[ct.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[ct.jsx(j,{className:"w-8 h-8"}),ct.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:"Todas as Categorias"})]}),ct.jsx("p",{className:"text-lg text-gray-100",children:"Explore todas as categorias de notcias e encontre os assuntos que mais interessam voc"})]}),ct.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[ct.jsx("div",{className:"lg:col-span-1",children:ct.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 lg:p-6 sticky top-4",children:[ct.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[ct.jsx(z,{className:"w-5 h-5 text-teal-primary"}),ct.jsx("h2",{className:"text-lg font-bold text-navy",children:"Categorias"})]}),ct.jsxs("div",{className:"flex flex-col gap-2",children:[ct.jsx("button",{onClick:()=>p(null),className:"w-full text-left px-4 py-3 rounded-lg font-medium transition-colors mb-0 border-transparent "+(l?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-teal-primary text-white"),children:ct.jsxs("div",{className:"flex items-center justify-between",children:[ct.jsx("span",{children:"Todas as Notcias"}),ct.jsx("span",{className:"text-sm font-bold text-white bg-teal-600 px-2 py-1 rounded-full",children:e?.length||0})]})}),s?.map(e=>ct.jsx("button",{onClick:()=>p(e),className:"w-full text-left px-4 py-3 rounded-lg font-medium transition-colors mb-0 border-transparent "+(l===e?"bg-teal-primary text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:ct.jsxs("div",{className:"flex items-center justify-between",children:[ct.jsx("span",{children:e}),ct.jsx("span",{className:"text-sm font-bold px-2 py-1 rounded-full "+(l===e?"text-white bg-orange-500":"text-white bg-teal-600"),children:g(e)})]})},e))]}),ct.jsxs("div",{className:"hidden lg:block mt-6 pt-6 border-t border-gray-200",children:[ct.jsx("h3",{className:"text-lg font-semibold text-navy mb-4",children:"Links Rpidos"}),ct.jsxs("div",{className:"space-y-3",children:[ct.jsxs(o,{to:"/eleicoes",className:"flex items-center space-x-3 px-4 py-3 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors border border-blue-200",children:[ct.jsx("span",{className:"text-2xl",children:""}),ct.jsxs("div",{children:[ct.jsx("div",{className:"font-medium",children:"Eleies 2024"}),ct.jsx("div",{className:"text-sm text-blue-600",children:"Acompanhe as ltimas notcias"})]})]}),ct.jsxs(o,{to:"/sobre",className:"flex items-center space-x-3 px-4 py-3 bg-gray-50 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors border border-gray-200",children:[ct.jsx("span",{className:"text-2xl",children:""}),ct.jsxs("div",{children:[ct.jsx("div",{className:"font-medium",children:"Sobre o Portal"}),ct.jsx("div",{className:"text-sm text-gray-600",children:"Conhea nossa histria"})]})]})]})]})]})}),ct.jsx("div",{className:"lg:col-span-3 scroll-mt-24",ref:h,children:ct.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 fade-in scroll-mt-24",children:[ct.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-6 gap-4",children:[ct.jsxs("h2",{className:"text-xl font-bold text-navy",children:[l?`Notcias de ${l}`:"Todas as Notcias",ct.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:["(",f.length," matria",1!==f.length?"s":"",")"]})]}),ct.jsx("div",{className:"flex items-center gap-2 self-end md:self-auto w-full md:w-auto",children:ct.jsxs("select",{value:d,onChange:e=>u(e.target.value),className:"w-full md:w-auto px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent",children:[ct.jsx("option",{value:"latest",children:"Mais recentes"}),ct.jsx("option",{value:"oldest",children:"Mais antigas"}),ct.jsx("option",{value:"title",children:"Ordem alfabtica"})]})})]}),f.length>0?ct.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(e=>ct.jsx(ts,{post:e},e.id))}):ct.jsxs("div",{className:"text-center py-12",children:[ct.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:ct.jsx(j,{className:"w-10 h-10 text-gray-400"})}),ct.jsx("h3",{className:"text-xl font-semibold text-navy mb-2",children:l?`Nenhuma matria encontrada em "${l}"`:"Nenhuma matria encontrada"}),ct.jsx("p",{className:"text-text-secondary mb-6",children:l?"No h matrias publicadas nesta categoria ainda.":"No h matrias publicadas no momento."}),ct.jsx("button",{onClick:()=>c(null),className:"btn-primary",children:"Ver todas as categorias"})]})]},l||"all")})]})]})]})},iy=()=>{const[e]=l(),t=e.get("q")||"",[n,s]=r.useState([]),[i,a]=r.useState(!0),[c,d]=r.useState(null),[u,h]=r.useState("latest");r.useEffect(()=>{t?p():(s([]),a(!1))},[t,u]),r.useEffect(()=>{window.scrollTo(0,0)},[t]);const p=async()=>{try{a(!0),d(null);let e=rs.from("posts").select("*").eq("status","published");switch(t&&(e=e.or(`title.ilike.%${t}%,content.ilike.%${t}%,excerpt.ilike.%${t}%`)),u){case"latest":default:e=e.order("created_at",{ascending:!1});break;case"oldest":e=e.order("created_at",{ascending:!0});break;case"title":e=e.order("title",{ascending:!0})}const{data:n,error:r}=await e;if(r)throw r;s(n||[])}catch(e){console.error("Error searching posts:",e),d("Erro ao buscar notcias. Tente novamente.")}finally{a(!1)}};return i?ct.jsx("div",{className:"min-h-screen flex items-center justify-center",children:ct.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-primary"})}):c?ct.jsx("div",{className:"min-h-screen flex items-center justify-center",children:ct.jsxs("div",{className:"text-center",children:[ct.jsx("h1",{className:"text-2xl font-bold text-navy mb-4",children:"Erro na Busca"}),ct.jsx("p",{className:"text-gray-600 mb-6",children:c}),ct.jsx(o,{to:"/",className:"btn-primary",children:"Voltar para a pgina inicial"})]})}):ct.jsxs(ct.Fragment,{children:[ct.jsxs(hn,{children:[ct.jsx("title",{children:t?`Busca: "${t}" - Opine Agora SC | Notcias de Santa Catarina`:"Buscar Notcias - Opine Agora SC | Portal de Jornalismo SC"}),ct.jsx("meta",{name:"description",content:t?`Resultados da busca por "${t}" no Opine Agora SC. Encontre notcias sobre poltica, economia, sociedade, esportes e mais em Santa Catarina.`:"Busque notcias no Opine Agora SC. Encontre informaes sobre poltica, economia, sociedade, esportes, cultura e mais em Santa Catarina."}),ct.jsx("meta",{name:"keywords",content:t?`${t}, Opine Agora SC, notcias Santa Catarina, busca, jornalismo SC, ${t} em Santa Catarina, ${t} Concrdia`:"buscar notcias, Opine Agora SC, notcias Santa Catarina, jornalismo SC, busca de notcias, portal de notcias, Santa Catarina, SC"}),ct.jsx("meta",{name:"robots",content:t?"index, follow":"noindex, follow"}),ct.jsx("meta",{name:"language",content:"pt-BR"}),ct.jsx("link",{rel:"canonical",href:"https://opineagorasc.com.br/search"+(t?`?q=${encodeURIComponent(t)}`:"")}),ct.jsx("meta",{property:"og:type",content:"website"}),ct.jsx("meta",{property:"og:title",content:t?`Busca: "${t}" - Opine Agora SC`:"Buscar Notcias - Opine Agora SC"}),ct.jsx("meta",{property:"og:description",content:t?`Resultados da busca por "${t}" no Opine Agora SC`:"Busque notcias no Opine Agora SC"}),ct.jsx("meta",{property:"og:url",content:"https://opineagorasc.com.br/search"+(t?`?q=${encodeURIComponent(t)}`:"")}),ct.jsx("meta",{property:"og:site_name",content:"Opine Agora SC"}),ct.jsx("meta",{property:"og:image",content:"https://opineagorasc.com.br/ogimage-opineagorasc.png"}),ct.jsx("meta",{property:"og:locale",content:"pt_BR"}),ct.jsx("meta",{name:"twitter:card",content:"summary"}),ct.jsx("meta",{name:"twitter:title",content:t?`Busca: "${t}" - Opine Agora SC`:"Buscar Notcias - Opine Agora SC"}),ct.jsx("meta",{name:"twitter:description",content:t?`Resultados da busca por "${t}" no Opine Agora SC`:"Busque notcias no Opine Agora SC"}),ct.jsx("meta",{name:"twitter:image",content:"https://opineagorasc.com.br/ogimage-opineagorasc.png"})]}),ct.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[ct.jsxs("div",{className:"bg-gradient-to-r from-teal-primary to-navy text-white rounded-xl p-8 mb-8",children:[ct.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[ct.jsx(J,{className:"w-8 h-8"}),ct.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:"Resultados da Busca"})]}),t&&ct.jsxs("p",{className:"text-lg text-gray-100",children:["Buscando por:"," ",ct.jsxs("span",{className:"font-semibold",children:['"',t,'"']})]}),ct.jsxs("p",{className:"text-lg text-gray-100 mt-2",children:[n.length," notcia",1!==n.length?"s":""," ","encontrada",1!==n.length?"s":""]})]}),n.length>0&&ct.jsx("div",{className:"flex justify-end mb-6",children:ct.jsxs("div",{className:"flex items-center space-x-2",children:[ct.jsx("span",{className:"text-text-secondary",children:"Ordenar por:"}),ct.jsxs("select",{value:u,onChange:e=>h(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent",children:[ct.jsx("option",{value:"latest",children:"Mais recentes"}),ct.jsx("option",{value:"oldest",children:"Mais antigas"}),ct.jsx("option",{value:"title",children:"Ordem alfabtica"})]})]})}),n.length>0?ct.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(e=>ct.jsx(ts,{post:e},e.id))}):ct.jsxs("div",{className:"text-center py-12",children:[ct.jsx(J,{className:"w-20 h-20 text-gray-300 mx-auto mb-4"}),ct.jsx("h3",{className:"text-lg font-medium text-navy mb-2",children:t?"Nenhuma notcia encontrada":"Digite um termo para buscar"}),ct.jsx("p",{className:"text-text-secondary mb-6",children:t?"Tente usar outros termos ou palavras-chave.":"Use o campo de busca para encontrar notcias."}),t&&ct.jsx(o,{to:"/",className:"btn-primary",children:"Voltar para a pgina inicial"})]})]})]})},oy=()=>(r.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),ct.jsxs(ct.Fragment,{children:[ct.jsxs(hn,{children:[ct.jsx("title",{children:"Poltica de Privacidade e Termos de Uso - Opine Agora SC | Portal de Notcias SC"}),ct.jsx("meta",{name:"description",content:"Leia a Poltica de Privacidade e Termos de Uso do Opine Agora SC. Proteo de dados conforme LGPD, direitos dos usurios, condies de acesso e uso do portal de notcias de Santa Catarina."}),ct.jsx("meta",{name:"keywords",content:"Poltica de Privacidade, Termos de Uso, Opine Agora SC, LGPD, proteo de dados, direitos do usurio, portal de notcias, Santa Catarina, jornalismo SC, Concrdia SC, termos legais, privacidade online"}),ct.jsx("meta",{name:"robots",content:"index, follow, max-snippet:-1"}),ct.jsx("meta",{name:"language",content:"pt-BR"}),ct.jsx("link",{rel:"canonical",href:"https://opineagorasc.com.br/politica-privacidade"}),ct.jsx("meta",{property:"og:type",content:"article"}),ct.jsx("meta",{property:"og:title",content:"Poltica de Privacidade e Termos de Uso - Opine Agora SC"}),ct.jsx("meta",{property:"og:description",content:"Leia a Poltica de Privacidade e Termos de Uso do Opine Agora SC. Proteo de dados conforme LGPD, direitos dos usurios, condies de acesso e uso do portal de notcias de Santa Catarina."}),ct.jsx("meta",{property:"og:url",content:"https://opineagorasc.com.br/politica-privacidade"}),ct.jsx("meta",{property:"og:site_name",content:"Opine Agora SC"}),ct.jsx("meta",{property:"og:image",content:"https://opineagorasc.com.br/ogimage-opineagorasc.png"}),ct.jsx("meta",{property:"og:locale",content:"pt_BR"}),ct.jsx("meta",{name:"twitter:card",content:"summary"}),ct.jsx("meta",{name:"twitter:title",content:"Poltica de Privacidade e Termos de Uso - Opine Agora SC"}),ct.jsx("meta",{name:"twitter:description",content:"Leia a Poltica de Privacidade e Termos de Uso do Opine Agora SC. Proteo de dados conforme LGPD, direitos dos usurios, condies de acesso e uso."}),ct.jsx("meta",{name:"twitter:image",content:"https://opineagorasc.com.br/ogimage-opineagorasc.png"})]}),ct.jsx("div",{className:"min-h-screen bg-gray-50",children:ct.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[ct.jsxs("div",{className:"text-center mb-12",children:[ct.jsx("div",{className:"w-16 h-16 bg-teal-primary rounded-full flex items-center justify-center mx-auto mb-6",children:ct.jsx(Y,{className:"w-8 h-8 text-white"})}),ct.jsx("h1",{className:"text-4xl font-bold text-navy mb-4",children:"Poltica de Privacidade e Termos de Uso"}),ct.jsx("p",{className:"text-lg text-text-secondary max-w-2xl mx-auto",children:"ltima atualizao: 16 de fevereiro de 2026"})]}),ct.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 mb-8",children:[ct.jsxs("p",{className:"text-gray-700 leading-relaxed mb-4",children:["O ",ct.jsx("strong",{children:"Opine Agora SC"}),", disponvel em"," ",ct.jsx("a",{href:"https://opineagorasc.com.br",target:"_blank",rel:"noopener noreferrer",className:"text-teal-primary hover:text-teal-900 underline",children:"opineagorasc.com.br"}),", tem como compromisso a transparncia e a proteo dos dados dos seus usurios, em conformidade com a"," ",ct.jsx("strong",{children:"Lei Geral de Proteo de Dados (Lei n 13.709/2018  LGPD)"}),"."]}),ct.jsxs("p",{className:"text-gray-700 leading-relaxed",children:["Ao acessar o site ",ct.jsx("strong",{children:"Opine Agora SC"}),", o usurio concorda com os presentes Termos de Uso e Poltica de Privacidade."]})]}),ct.jsxs("div",{className:"bg-gradient-to-r from-teal-primary to-navy text-white rounded-xl p-8 mb-8",children:[ct.jsxs("h2",{className:"text-3xl font-bold mb-6 flex items-center",children:[ct.jsx(X,{className:"w-8 h-8 mr-3"}),"Poltica de Privacidade"]}),ct.jsx("p",{className:"text-lg text-gray-100",children:"Compromisso com a transparncia e proteo de dados dos usurios"})]}),ct.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 mb-8",children:[ct.jsxs("h3",{className:"text-2xl font-bold text-navy mb-6 flex items-center",children:[ct.jsx(T,{className:"w-6 h-6 mr-3 text-teal-primary"}),"1. Coleta de Informaes"]}),ct.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Atualmente, o Opine Agora SC:"}),ct.jsxs("div",{className:"space-y-3 mb-6",children:[ct.jsxs("div",{className:"flex items-start",children:[ct.jsx(k,{className:"w-5 h-5 text-red-500 mr-3 mt-0.5 flex-shrink-0"}),ct.jsx("p",{className:"text-gray-700",children:"No coleta dados pessoais automaticamente por meio de cookies prprios."})]}),ct.jsxs("div",{className:"flex items-start",children:[ct.jsx(k,{className:"w-5 h-5 text-red-500 mr-3 mt-0.5 flex-shrink-0"}),ct.jsx("p",{className:"text-gray-700",children:"No exige cadastro para leitura das notcias."})]}),ct.jsxs("div",{className:"flex items-start",children:[ct.jsx(Z,{className:"w-5 h-5 text-green-500 mr-3 mt-0.5 flex-shrink-0"}),ct.jsx("p",{className:"text-gray-700",children:"Pode coletar informaes fornecidas voluntariamente pelo usurio, como:"})]})]}),ct.jsx("div",{className:"bg-gray-50 rounded-lg p-6",children:ct.jsxs("ul",{className:"space-y-2",children:[ct.jsxs("li",{className:"flex items-center",children:[ct.jsx("div",{className:"w-2 h-2 bg-teal-primary rounded-full mr-3"}),ct.jsx("span",{children:"Nome"})]}),ct.jsxs("li",{className:"flex items-center",children:[ct.jsx("div",{className:"w-2 h-2 bg-teal-primary rounded-full mr-3"}),ct.jsx("span",{children:"Endereo de e-mail"})]}),ct.jsxs("li",{className:"flex items-center",children:[ct.jsx("div",{className:"w-2 h-2 bg-teal-primary rounded-full mr-3"}),ct.jsx("span",{children:"Mensagens enviadas via formulrio de contato ou newsletter"})]})]})}),ct.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Esses dados so utilizados exclusivamente para responder solicitaes, enviar newsletter e melhorar a comunicao."})]}),ct.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 mb-8",children:[ct.jsxs("h3",{className:"text-2xl font-bold text-navy mb-6 flex items-center",children:[ct.jsx(y,{className:"w-6 h-6 mr-3 text-teal-primary"}),"2. Cookies e Tecnologias de Terceiros"]}),ct.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Atualmente, o site no utiliza cookies prprios para rastreamento."}),ct.jsxs("p",{className:"text-gray-700 leading-relaxed mb-4",children:["Futuramente, poderemos utilizar servios como"," ",ct.jsx("strong",{children:"Google AdSense"}),", que podem coletar informaes por meio de cookies para exibio de anncios personalizados."]}),ct.jsx("a",{href:"https://policies.google.com/technologies/ads",target:"_blank",rel:"noopener noreferrer",className:"text-teal-primary hover:text-teal-900 underline inline-flex items-center",children:"https://policies.google.com/technologies/ads"})]}),ct.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 mb-8",children:[ct.jsxs("h3",{className:"text-2xl font-bold text-navy mb-6 flex items-center",children:[ct.jsx(X,{className:"w-6 h-6 mr-3 text-teal-primary"}),"3. Compartilhamento de Dados"]}),ct.jsxs("div",{className:"space-y-3",children:[ct.jsxs("div",{className:"flex items-start",children:[ct.jsx(k,{className:"w-5 h-5 text-red-500 mr-3 mt-0.5 flex-shrink-0"}),ct.jsx("p",{className:"text-gray-700",children:"No vende dados pessoais;"})]}),ct.jsxs("div",{className:"flex items-start",children:[ct.jsx(k,{className:"w-5 h-5 text-red-500 mr-3 mt-0.5 flex-shrink-0"}),ct.jsx("p",{className:"text-gray-700",children:"No compartilha dados com terceiros, exceto para cumprimento de obrigao legal ou prestadores de servio."})]})]})]}),ct.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 mb-8",children:[ct.jsxs("h3",{className:"text-2xl font-bold text-navy mb-6 flex items-center",children:[ct.jsx(Z,{className:"w-6 h-6 mr-3 text-teal-primary"}),"4. Direitos do Usurio (LGPD)"]}),ct.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[ct.jsxs("div",{className:"flex items-start bg-gray-50 rounded-lg p-4",children:[ct.jsx(y,{className:"w-5 h-5 text-teal-primary mr-3 mt-0.5 flex-shrink-0"}),ct.jsx("p",{className:"font-medium text-gray-800",children:"Confirmao e acesso aos dados;"})]}),ct.jsxs("div",{className:"flex items-start bg-gray-50 rounded-lg p-4",children:[ct.jsx(Q,{className:"w-5 h-5 text-teal-primary mr-3 mt-0.5 flex-shrink-0"}),ct.jsx("p",{className:"font-medium text-gray-800",children:"Correo de dados incompletos;"})]}),ct.jsxs("div",{className:"flex items-start bg-gray-50 rounded-lg p-4",children:[ct.jsx(ee,{className:"w-5 h-5 text-teal-primary mr-3 mt-0.5 flex-shrink-0"}),ct.jsx("p",{className:"font-medium text-gray-800",children:"Excluso de dados pessoais;"})]}),ct.jsxs("div",{className:"flex items-start bg-gray-50 rounded-lg p-4",children:[ct.jsx(k,{className:"w-5 h-5 text-teal-primary mr-3 mt-0.5 flex-shrink-0"}),ct.jsx("p",{className:"font-medium text-gray-800",children:"Revogao do consentimento."})]})]}),ct.jsxs("div",{className:"bg-teal-primary text-white rounded-lg p-6 text-center",children:[ct.jsx("p",{className:"text-lg font-medium mb-2",children:"Solicitaes podem ser feitas pelo e-mail:"}),ct.jsxs("a",{href:"mailto:contato@opineagora.com.br",className:"inline-flex items-center text-xl font-bold hover:underline",children:[ct.jsx(T,{className:"w-6 h-6 mr-2"}),"contato@opineagora.com.br"]})]})]}),ct.jsxs("div",{className:"bg-gradient-to-r from-navy to-teal-primary text-white rounded-xl p-8 mb-8",children:[ct.jsxs("h2",{className:"text-3xl font-bold mb-6 flex items-center",children:[ct.jsx(te,{className:"w-8 h-8 mr-3"}),"Termos de Uso"]}),ct.jsx("p",{className:"text-lg text-gray-100",children:"Condies de acesso e utilizao do portal de notcias"})]}),ct.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 mb-8",children:[ct.jsxs("h3",{className:"text-2xl font-bold text-navy mb-6 flex items-center",children:[ct.jsx(D,{className:"w-6 h-6 mr-3 text-teal-primary"}),"5. Objetivo do Site"]}),ct.jsxs("p",{className:"text-gray-700 leading-relaxed mb-4",children:["O ",ct.jsx("strong",{children:"Opine Agora SC"}),"  um portal de notcias com foco em informaes sobre Santa Catarina, abrangendo:"]}),ct.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6",children:[ct.jsx("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:ct.jsx("span",{className:"text-gray-700 text-sm",children:"Poltica"})}),ct.jsx("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:ct.jsx("span",{className:"text-gray-700 text-sm",children:"Economia"})}),ct.jsx("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:ct.jsx("span",{className:"text-gray-700 text-sm",children:"Sociedade"})}),ct.jsx("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:ct.jsx("span",{className:"text-gray-700 text-sm",children:"Tecnologia"})}),ct.jsx("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:ct.jsx("span",{className:"text-gray-700 text-sm",children:"Cultura"})}),ct.jsx("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:ct.jsx("span",{className:"text-gray-700 text-sm",children:"Esportes"})}),ct.jsx("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:ct.jsx("span",{className:"text-gray-700 text-sm",children:"Educao"})}),ct.jsx("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:ct.jsx("span",{className:"text-gray-700 text-sm",children:"Sade"})})]}),ct.jsx("div",{className:"bg-teal-primary text-white rounded-lg p-4 text-center",children:ct.jsx("p",{className:"font-medium",children:"O contedo publicado tem carter informativo e opinativo."})})]}),ct.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 mb-8",children:[ct.jsxs("h3",{className:"text-2xl font-bold text-navy mb-6 flex items-center",children:[ct.jsx(X,{className:"w-6 h-6 mr-3 text-teal-primary"}),"6. Uso do Contedo"]}),ct.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:"Todo o contedo  protegido por direitos autorais."}),ct.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[ct.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[ct.jsxs("div",{className:"flex items-center mb-4",children:[ct.jsx(Z,{className:"w-5 h-5 text-green-500 mr-2"}),ct.jsx("h4",{className:"font-semibold text-green-800",children:" permitido:"})]}),ct.jsxs("ul",{className:"space-y-2",children:[ct.jsxs("li",{className:"flex items-start",children:[ct.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-3 mt-2"}),ct.jsx("span",{children:"Compartilhar links das matrias;"})]}),ct.jsxs("li",{className:"flex items-start",children:[ct.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-3 mt-2"}),ct.jsx("span",{children:"Citar trechos com indicao da fonte."})]})]})]}),ct.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[ct.jsxs("div",{className:"flex items-center mb-4",children:[ct.jsx(k,{className:"w-5 h-5 text-red-500 mr-2"}),ct.jsx("h4",{className:"font-semibold text-red-800",children:" proibido:"})]}),ct.jsxs("ul",{className:"space-y-2",children:[ct.jsxs("li",{className:"flex items-start",children:[ct.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mr-3 mt-2"}),ct.jsx("span",{children:"Copiar integralmente matrias;"})]}),ct.jsxs("li",{className:"flex items-start",children:[ct.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mr-3 mt-2"}),ct.jsx("span",{children:"Reproduzir para fins comerciais."})]})]})]})]})]}),ct.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 mb-8",children:[ct.jsxs("h3",{className:"text-2xl font-bold text-navy mb-6 flex items-center",children:[ct.jsx(D,{className:"w-6 h-6 mr-3 text-teal-primary"}),"7. Responsabilidade"]}),ct.jsxs("div",{className:"space-y-3",children:[ct.jsxs("div",{className:"flex items-start bg-gray-50 rounded-lg p-4",children:[ct.jsx(k,{className:"w-5 h-5 text-red-500 mr-3 mt-0.5 flex-shrink-0"}),ct.jsx("p",{className:"text-gray-700",children:"No se responsabiliza por eventuais erros ou omisses;"})]}),ct.jsxs("div",{className:"flex items-start bg-gray-50 rounded-lg p-4",children:[ct.jsx(k,{className:"w-5 h-5 text-red-500 mr-3 mt-0.5 flex-shrink-0"}),ct.jsx("p",{className:"text-gray-700",children:"No garante disponibilidade ininterrupta do site;"})]}),ct.jsxs("div",{className:"flex items-start bg-gray-50 rounded-lg p-4",children:[ct.jsx(k,{className:"w-5 h-5 text-red-500 mr-3 mt-0.5 flex-shrink-0"}),ct.jsx("p",{className:"text-gray-700",children:"No se responsabiliza por decises tomadas com base nas informaes."})]})]})]}),ct.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 mb-8",children:[ct.jsxs("h3",{className:"text-2xl font-bold text-navy mb-6 flex items-center",children:[ct.jsx(S,{className:"w-6 h-6 mr-3 text-teal-primary"}),"8. Comentrios e Interaes"]}),ct.jsxs("div",{className:"space-y-4",children:[ct.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:ct.jsx("p",{className:"text-gray-700 font-medium",children:"O usurio ser responsvel pelo contedo publicado;"})}),ct.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:ct.jsx("p",{className:"text-gray-700 font-medium",children:"No sero permitidos contedos ofensivos, ilegais ou discriminatrios;"})}),ct.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:ct.jsx("p",{className:"text-gray-700 font-medium",children:"A administrao poder remover comentrios que violem estes termos."})})]})]}),ct.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 mb-8",children:[ct.jsxs("h3",{className:"text-2xl font-bold text-navy mb-6 flex items-center",children:[ct.jsx(F,{className:"w-6 h-6 mr-3 text-teal-primary"}),"9. Publicidade e Links Externos"]}),ct.jsxs("p",{className:"text-gray-700 leading-relaxed mb-4",children:["O site poder exibir anncios publicitrios, inclusive por meio de redes como o"," ",ct.jsx("strong",{children:"Google AdSense"}),"."]}),ct.jsxs("p",{className:"text-gray-700 leading-relaxed mb-4",children:["O ",ct.jsx("strong",{children:"Opine Agora SC"})," no se responsabiliza por produtos, servios ou ofertas divulgadas por terceiros."]}),ct.jsx("p",{className:"text-gray-700 leading-relaxed",children:"O site pode conter links para sites externos. No nos responsabilizamos pelas polticas de privacidade ou contedos desses sites."})]}),ct.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 mb-8",children:[ct.jsxs("h3",{className:"text-2xl font-bold text-navy mb-6 flex items-center",children:[ct.jsx(Y,{className:"w-6 h-6 mr-3 text-teal-primary"}),"10. Modificaes e Foro"]}),ct.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Os presentes Termos e Poltica podem ser alterados a qualquer momento, sendo responsabilidade do usurio consult-los periodicamente."}),ct.jsx("div",{className:"bg-teal-primary text-white rounded-lg p-6 text-center",children:ct.jsxs("p",{className:"text-lg font-medium",children:["Fica eleito o foro da Comarca de"," ",ct.jsx("strong",{children:"Concrdia SC"})," para dirimir quaisquer controvrsias."]})})]}),ct.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8 mb-8",children:[ct.jsxs("h3",{className:"text-2xl font-bold text-navy mb-6 flex items-center",children:[ct.jsx(T,{className:"w-6 h-6 mr-3 text-teal-primary"}),"Contato"]}),ct.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:"Em caso de dvidas sobre esta Poltica e Termos:"}),ct.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[ct.jsxs("div",{className:"flex items-center bg-gray-50 rounded-lg p-6",children:[ct.jsx(T,{className:"w-6 h-6 text-teal-primary mr-4 flex-shrink-0"}),ct.jsxs("div",{children:[ct.jsx("p",{className:"font-medium text-gray-800",children:"E-mail"}),ct.jsx("a",{href:"mailto:contato@opineagora.com.br",className:"text-teal-primary hover:text-teal-900",children:"contato@opineagora.com.br"})]})]}),ct.jsxs("div",{className:"flex items-center bg-gray-50 rounded-lg p-6",children:[ct.jsx(B,{className:"w-6 h-6 text-teal-primary mr-4 flex-shrink-0"}),ct.jsxs("div",{children:[ct.jsx("p",{className:"font-medium text-gray-800",children:"Localizao"}),ct.jsx("p",{className:"text-gray-700",children:"Concrdia SC"})]})]})]})]}),ct.jsx("div",{className:"mt-12 text-center",children:ct.jsx(o,{to:"/",className:"btn-primary inline-flex items-center",children:"Voltar para a pgina inicial"})})]})})]})),ay=()=>{const[e,t]=r.useState(""),[n,s]=r.useState(""),[a,l]=r.useState(!1),[d,u]=r.useState(!1),[h,p]=r.useState({}),[m,f]=r.useState({}),g=c(),x=i(),v=(e,t)=>Yl(e,t),b=(e,n)=>{"email"===e?t(n):"password"===e&&s(n),m[e]&&p(t=>({...t,[e]:v(e,n)}))},w=(e,t)=>{f(t=>({...t,[e]:!0})),p(n=>({...n,[e]:v(e,t)}))};r.useEffect(()=>{(async()=>{const{data:{session:e}}=await rs.auth.getSession();if(e?.user){const e=x.state?.from?.pathname||"/admin";g(e,{replace:!0})}})()},[g,x.state]);return ct.jsxs(ct.Fragment,{children:[ct.jsxs(hn,{children:[ct.jsx("title",{children:"Login - Opine Agora SC"}),ct.jsx("meta",{name:"description",content:"rea administrativa do portal Opine Agora SC"})]}),ct.jsx("div",{className:"min-h-screen bg-gradient-to-br from-navy to-teal-primary flex items-center justify-center px-4 fade-in",children:ct.jsxs("div",{className:"max-w-md w-full",children:[ct.jsxs("div",{className:"text-center mb-8",children:[ct.jsx("div",{className:"w-16 h-16 bg-white rounded-lg flex items-center justify-center mx-auto mb-4",children:ct.jsx("span",{className:"text-teal-primary font-bold text-2xl",children:"OA"})}),ct.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Opine Agora SC"}),ct.jsx("p",{className:"text-gray-200",children:"Painel Administrativo"})]}),ct.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-8",children:[ct.jsxs("div",{className:"text-center mb-6",children:[ct.jsx("div",{className:"w-12 h-12 bg-teal-primary rounded-full flex items-center justify-center mx-auto mb-3",children:ct.jsx(X,{className:"w-6 h-6 text-white"})}),ct.jsx("h2",{className:"text-2xl font-bold text-navy mb-2",children:"Acesso Restrito"}),ct.jsx("p",{className:"text-text-secondary text-sm",children:"Entre com suas credenciais para acessar o painel administrativo"})]}),ct.jsxs("form",{onSubmit:async t=>{t.preventDefault(),f({email:!0,password:!0});const r=v("email",e),s=v("password",n);if(p({email:r,password:s}),r||s)A.error("Por favor, corrija os erros no formulrio.");else{u(!0);try{const{data:t,error:r}=await rs.auth.signInWithPassword({email:e,password:n});if(r)throw r;A.success("Login realizado com sucesso!");const s=x.state?.from?.pathname||"/admin";g(s,{replace:!0})}catch(cR){console.error("Login error:",cR);const t=(e=>{const t=e?.message||e?.error_description||"";return t.includes("Invalid login credentials")?"Email ou senha incorretos. Verifique suas credenciais.":t.includes("Email not confirmed")?"Por favor, confirme seu email antes de fazer login.":t.includes("User not found")?"Usurio no encontrado. Verifique o email digitado.":t.includes("Too many requests")?"Muitas tentativas de login. Aguarde alguns minutos e tente novamente.":t.includes("Password should be at least")?"A senha deve ter pelo menos 6 caracteres.":t.includes("Unable to validate email address")?"Email invlido. Verifique o formato do email.":t.includes("invalid")||t.includes("Invalid")?"Dados invlidos. Verifique as informaes e tente novamente.":t.includes("network")||t.includes("Network")?"Erro de conexo. Verifique sua internet e tente novamente.":t.includes("timeout")||t.includes("Timeout")?"Tempo esgotado. Tente novamente.":t||"Ocorreu um erro inesperado. Tente novamente."})(cR);A.error(t)}finally{u(!1)}}},className:"space-y-6",children:[ct.jsxs("div",{children:[ct.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-text-primary mb-2",children:"E-mail"}),ct.jsx("input",{id:"email",type:"email",value:e,onChange:e=>b("email",e.target.value),onBlur:e=>w("email",e.target.value),className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent transition-colors "+(h.email&&m.email?"border-red-500 focus:ring-red-500":!h.email&&m.email?"border-green-500 focus:ring-green-500":"border-gray-300 focus:ring-teal-primary"),placeholder:"seu@email.com",required:!0}),h.email&&m.email&&ct.jsxs("div",{className:"flex items-center gap-1 mt-2 text-red-500 text-sm",children:[ct.jsx(D,{className:"w-4 h-4"}),ct.jsx("span",{children:h.email})]}),!h.email&&m.email&&e&&ct.jsxs("div",{className:"flex items-center gap-1 mt-2 text-green-500 text-sm",children:[ct.jsx(O,{className:"w-4 h-4"}),ct.jsx("span",{children:"Email vlido"})]})]}),ct.jsxs("div",{children:[ct.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-text-primary mb-2",children:"Senha"}),ct.jsxs("div",{className:"relative",children:[ct.jsx("input",{id:"password",type:a?"text":"password",value:n,onChange:e=>b("password",e.target.value),onBlur:e=>w("password",e.target.value),className:"w-full px-4 py-3 pr-12 border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent transition-all "+(h.password&&m.password?"border-red-500 focus:ring-red-500":!h.password&&m.password?"border-green-500 focus:ring-green-500":"border-gray-300 focus:ring-teal-primary"),placeholder:"",required:!0}),ct.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-text-secondary hover:text-text-primary z-20 p-1","aria-label":a?"Ocultar senha":"Mostrar senha",children:a?ct.jsx(ne,{className:"w-5 h-5"}):ct.jsx(y,{className:"w-5 h-5"})})]}),h.password&&m.password&&ct.jsxs("div",{className:"flex items-center gap-1 mt-2 text-red-500 text-sm",children:[ct.jsx(D,{className:"w-4 h-4"}),ct.jsx("span",{children:h.password})]}),!h.password&&m.password&&n&&n.length>=6&&ct.jsxs("div",{className:"flex items-center gap-1 mt-2 text-green-500 text-sm",children:[ct.jsx(O,{className:"w-4 h-4"}),ct.jsx("span",{children:"Senha vlida"})]})]}),ct.jsx("button",{type:"submit",disabled:d,className:"w-full btn-primary flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:d?ct.jsxs(ct.Fragment,{children:[ct.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),ct.jsx("span",{children:"Entrando..."})]}):ct.jsxs(ct.Fragment,{children:[ct.jsx(re,{className:"w-5 h-5"}),ct.jsx("span",{children:"Entrar"})]})})]}),ct.jsx("div",{className:"mt-6 text-center",children:ct.jsx(o,{to:"/",className:"text-teal-primary hover:text-teal-900 font-medium text-sm flex items-center justify-center space-x-1",children:ct.jsx("span",{children:"Voltar para o site"})})})]}),ct.jsx("div",{className:"mt-8 text-center",children:ct.jsx("p",{className:"text-gray-300 text-xs",children:"rea restrita a usurios autorizados. Todas as atividades so registradas."})})]})})]})},ly=()=>{const[e,t]=r.useState([]),[n,s]=r.useState(!0);return r.useEffect(()=>{(async()=>{try{const{data:e,error:n}=await rs.from("ads").select("*").eq("status","approved").order("created_at",{ascending:!1});if(n)throw n;t(e||[])}catch(cR){console.error("Error fetching ads:",cR)}finally{s(!1)}})()},[]),n?ct.jsx("div",{className:"min-h-screen flex items-center justify-center",children:ct.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-primary"})}):ct.jsxs(ct.Fragment,{children:[ct.jsxs(hn,{children:[ct.jsx("title",{children:"Parceiros e Anunciantes - Opine Agora SC"}),ct.jsx("meta",{name:"description",content:"Conhea os parceiros e anunciantes do Opine Agora SC. Empresas que apoiam o jornalismo independente."})]}),ct.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[ct.jsxs(o,{to:"/",className:"inline-flex items-center space-x-2 text-teal-primary hover:text-teal-900 mb-6 font-medium",children:[ct.jsx(I,{className:"w-4 h-4"}),ct.jsx("span",{children:"Voltar"})]}),ct.jsxs("div",{className:"section-header mb-8",children:[ct.jsxs("h1",{className:"text-3xl font-bold text-navy flex items-center space-x-3",children:[ct.jsx(E,{className:"w-8 h-8 text-teal-primary"}),ct.jsxs("span",{children:["Nossos"," ",ct.jsx("span",{className:"text-orange-warm",children:"Parceiros"})]})]}),ct.jsx("p",{className:"text-text-secondary mt-2 text-lg",children:"Empresas que apoiam o jornalismo srio e comprometido com a verdade."})]}),e.length>0?ct.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>ct.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[e.image_url?ct.jsx("a",{href:e.link_url,target:"_blank",rel:"noopener noreferrer",className:"aspect-video bg-gray-100 block",children:ct.jsx("img",{src:e.image_url,alt:e.title,className:"w-full h-full object-cover"})}):ct.jsx("div",{className:"aspect-video bg-gray-100 flex items-center justify-center",children:ct.jsx(E,{className:"w-12 h-12 text-gray-400"})}),ct.jsxs("div",{className:"p-4",children:[e.link_url?ct.jsx("a",{href:e.link_url,target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-navy mb-2 line-clamp-2 block hover:text-teal-primary transition-colors",children:e.title}):ct.jsx("h3",{className:"font-semibold text-navy mb-2 line-clamp-2",children:e.title}),ct.jsx("p",{className:"text-sm text-text-secondary line-clamp-3 mb-3",children:e.content}),e.link_url&&ct.jsx("a",{href:e.link_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-medium text-teal-primary hover:text-teal-900",children:"Saiba mais "})]})]},e.id))}):ct.jsxs("div",{className:"text-center py-16 bg-gray-50 rounded-xl",children:[ct.jsx(E,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),ct.jsx("h3",{className:"text-lg font-medium text-navy mb-2",children:"Nenhum anncio disponvel no momento"}),ct.jsx("p",{className:"text-text-secondary max-w-md mx-auto",children:"Estamos atualizando nossa lista de parceiros. Volte em breve para conferir as novidades."})]}),ct.jsxs("div",{className:"mt-12 bg-teal-primary text-white rounded-xl p-8 text-center",children:[ct.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Quer anunciar sua empresa aqui?"}),ct.jsx("p",{className:"text-lg mb-6 opacity-90",children:"Alcance milhares de leitores em Santa Catarina e fortalea sua marca com o Opine Agora SC."}),ct.jsx("button",{className:"bg-white text-teal-primary px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors shadow-lg",children:"Entre em contato"})]})]})]})},cy=()=>{const[e,t]=r.useState([]),[n,s]=r.useState(!0);return r.useEffect(()=>{const e=async()=>{try{const{data:e,error:n}=await rs.from("posts").select("*").eq("status","published").eq("urgent",!0).order("created_at",{ascending:!1});if(n)throw n;t(e||[]),console.log("Urgent posts fetched:",e?.length)}catch(cR){console.error("Error fetching urgent posts:",cR)}finally{s(!1)}};e();const n=rs.channel("public:urgent_news").on("postgres_changes",{event:"*",schema:"public",table:"posts"},t=>{console.log("Change received!",t),e()}).subscribe();return()=>{rs.removeChannel(n)}},[]),ct.jsxs("div",{className:"min-h-screen bg-gray-50 pb-12",children:[ct.jsxs(hn,{children:[ct.jsx("title",{children:"Notcias Urgentes | Opine Agora SC"}),ct.jsx("meta",{name:"description",content:"Acompanhe as notcias urgentes e de ltima hora de Concrdia e regio."})]}),ct.jsx("div",{className:"bg-[hsl(5,55%,48%)] text-white py-12 mb-8",children:ct.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[ct.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[ct.jsx("div",{className:"bg-white/20 p-3 rounded-full animate-pulse",children:ct.jsx(D,{className:"w-8 h-8 text-white"})}),ct.jsx("h1",{className:"text-3xl md:text-4xl font-bold uppercase tracking-wider",children:"Planto Urgente"})]}),ct.jsx("p",{className:"text-center mt-4 text-white/90 max-w-2xl mx-auto text-lg",children:"Cobertura em tempo real dos fatos mais importantes que esto acontecendo agora."})]})}),ct.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n?ct.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(e=>ct.jsx(ns,{type:"card"},e))}):e.length>0?ct.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>ct.jsx("div",{className:"h-full",children:ct.jsx(ts,{post:e})},e.id))}):ct.jsxs("div",{className:"text-center py-16 bg-white rounded-lg shadow-sm",children:[ct.jsx("div",{className:"bg-gray-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:ct.jsx(D,{className:"w-8 h-8 text-gray-400"})}),ct.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"Sem notcias urgentes no momento"}),ct.jsx("p",{className:"text-gray-500",children:"Fique tranquilo, informaremos assim que houver atualizaes importantes."})]})})]})},dy=()=>{const[e,t]=r.useState(null),[n,s]=r.useState(!0);r.useEffect(()=>{(async()=>{try{const{data:{session:e}}=await rs.auth.getSession();t(e?.user||null)}catch(cR){console.error(" Error getting session:",cR),t(null)}finally{s(!1)}})();const{data:{subscription:e}}=rs.auth.onAuthStateChange(async(e,n)=>{"SIGNED_IN"===e||"INITIAL_SESSION"===e?t(n?.user||null):"SIGNED_OUT"===e&&t(null),s(!1)});return()=>e.unsubscribe()},[]);return{user:e,loading:n,signOut:async()=>{try{await rs.auth.signOut(),t(null)}catch(cR){console.error("Error signing out:",cR)}},signIn:async(e,n)=>{try{const{data:r,error:s}=await rs.auth.signInWithPassword({email:e,password:n});if(s)throw s;return t(r.user),{success:!0}}catch(cR){return console.error("Error signing in:",cR),{success:!1,error:cR.message}}},signUp:async(e,n)=>{try{const{data:r,error:s}=await rs.auth.signUp({email:e,password:n});if(s)throw s;return t(r.user),{success:!0}}catch(cR){return console.error("Error signing up:",cR),{success:!1,error:cR.message}}}}},uy=()=>{const{user:e,signOut:t}=dy(),n=i(),{comments:s}=oc(),{stats:a,loading:l}=(()=>{const[e,t]=r.useState({totalViews:0,averageViews:0,mostViewedPost:null}),[n,s]=r.useState(!0),[i,o]=r.useState(null);return r.useEffect(()=>{(async()=>{try{const{data:e,error:n}=await rs.from("posts").select("view_count").eq("status","published");if(n)throw n;const r=e?.reduce((e,t)=>e+(t.view_count||0),0)||0,s=e?.length>0?Math.round(r/e.length):0,{data:i,error:o}=await rs.from("posts").select("id, title, slug, view_count").eq("status","published").order("view_count",{ascending:!1}).limit(1).single();if(o&&"PGRST116"!==o.code)throw o;t({totalViews:r,averageViews:s,mostViewedPost:i})}catch(e){console.error("Error fetching view stats:",e),o(e.message)}finally{s(!1)}})()},[]),{stats:e,loading:n,error:i}})(),[c,d]=r.useState({totalPosts:0,publishedPosts:0,pendingComments:0,totalComments:0,totalAds:0,totalViews:0,averageViews:0,totalNewsletters:0}),[u,h]=r.useState(!0);r.useEffect(()=>{l||(async()=>{try{const[e,t,n,r,i]=await Promise.all([rs.from("posts").select("id",{count:"exact"}),rs.from("posts").select("id",{count:"exact"}).eq("status","published"),rs.from("comments").select("id",{count:"exact"}),rs.from("ads").select("id",{count:"exact"}),rs.from("newsletter_subscriptions").select("id",{count:"exact"})]);d({totalPosts:e.count||0,publishedPosts:t.count||0,pendingComments:s?.filter(e=>"pending"===e.status).length||0,totalComments:n.count||0,totalAds:r.count||0,totalViews:a.totalViews||0,averageViews:a.averageViews||0,totalNewsletters:i.count||0})}catch(cR){console.error("Error fetching stats:",cR)}finally{h(!1)}})()},[s,a,l,n.key]);const p=[{title:"Total de Matrias",value:c.totalPosts,icon:Y,color:"bg-blue-500",link:"/admin/posts"},{title:"Matrias Publicadas",value:c.publishedPosts,icon:y,color:"bg-green-500",link:"/admin/posts"},{title:"Total de Visualizaes",value:c.totalViews.toLocaleString(),icon:C,color:"bg-teal-500",link:"#"},{title:"Gerenciar Anncios",value:c.totalAds,icon:E,color:"bg-indigo-500",link:"/admin/ads"},{title:"Comentrios Pendentes",value:c.pendingComments,icon:D,color:"bg-orange-500",link:"/admin/comments"},{title:"Inscritos na Newsletter",value:c.totalNewsletters,icon:M,color:"bg-pink-500",link:"/admin/newsletters"}],m=s?.slice(0,5).filter(e=>"pending"===e.status)||[];return u||l?ct.jsx("div",{className:"min-h-screen flex items-center justify-center",children:ct.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-primary"})}):ct.jsxs(ct.Fragment,{children:[ct.jsxs(hn,{children:[ct.jsx("title",{children:"Dashboard Admin - Opine Agora SC"}),ct.jsx("meta",{name:"description",content:"Painel administrativo do portal Opine Agora SC"})]}),ct.jsxs("div",{className:"bg-gray-50",children:[ct.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:ct.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:ct.jsxs("div",{className:"flex justify-between items-center py-4",children:[ct.jsxs("div",{children:[ct.jsx("h1",{className:"text-2xl font-bold text-navy",children:"Dashboard Administrativo"}),ct.jsx("p",{className:"text-sm text-text-secondary",children:"Bem-vindo de volta! Aqui est um resumo da sua aplicao."})]}),ct.jsxs("div",{className:"flex items-center space-x-4",children:[ct.jsx("span",{className:"text-sm text-text-secondary",children:e?.email}),ct.jsxs("button",{onClick:async()=>{try{await t()}catch(cR){console.error(" AdminDashboard - Logout error:",cR)}},className:"flex items-center space-x-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors text-sm font-medium",title:"Sair do sistema",children:[ct.jsx(se,{className:"w-4 h-4"}),ct.jsx("span",{children:"Sair"})]})]})]})})}),ct.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pb-0",children:[ct.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:p.map((e,t)=>{const n=e.icon;return ct.jsx(o,{to:e.link,className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:ct.jsxs("div",{className:"flex items-center justify-between",children:[ct.jsxs("div",{children:[ct.jsx("p",{className:"text-sm font-medium text-text-secondary",children:e.title}),ct.jsx("p",{className:"text-3xl font-bold text-navy mt-2",children:e.value})]}),ct.jsx("div",{className:`w-12 h-12 ${e.color} rounded-lg flex items-center justify-center`,children:ct.jsx(n,{className:"w-6 h-6 text-white"})})]})},t)})}),ct.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[ct.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[ct.jsx("h2",{className:"text-lg font-semibold text-navy mb-4",children:"Aes Rpidas"}),ct.jsxs("div",{className:"space-y-3",children:[ct.jsxs(o,{to:"/admin/posts/new",className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[ct.jsx("div",{className:"w-10 h-10 bg-teal-primary rounded-lg flex items-center justify-center",children:ct.jsx(Y,{className:"w-5 h-5 text-white"})}),ct.jsxs("div",{children:[ct.jsx("p",{className:"font-medium text-navy",children:"Nova Matria"}),ct.jsx("p",{className:"text-sm text-text-secondary",children:"Criar nova matria"})]})]}),ct.jsxs(o,{to:"/admin/ads/new",className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[ct.jsx("div",{className:"w-10 h-10 bg-pink-500 rounded-lg flex items-center justify-center",children:ct.jsx(E,{className:"w-5 h-5 text-white"})}),ct.jsxs("div",{children:[ct.jsx("p",{className:"font-medium text-navy",children:"Novo Anncio"}),ct.jsx("p",{className:"text-sm text-text-secondary",children:"Adicionar novo anncio"})]})]}),ct.jsxs(o,{to:"/admin/ads",className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[ct.jsx("div",{className:"w-10 h-10 bg-indigo-500 rounded-lg flex items-center justify-center",children:ct.jsx(E,{className:"w-5 h-5 text-white"})}),ct.jsxs("div",{children:[ct.jsx("p",{className:"font-medium text-navy",children:"Gerenciar Anncios"}),ct.jsx("p",{className:"text-sm text-text-secondary",children:"Ver e editar anncios"})]})]}),ct.jsxs(o,{to:"/admin/comments",className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[ct.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center",children:ct.jsx(M,{className:"w-5 h-5 text-white"})}),ct.jsxs("div",{children:[ct.jsx("p",{className:"font-medium text-navy",children:"Comentrios"}),ct.jsx("p",{className:"text-sm text-text-secondary",children:"Revisar comentrios"})]})]}),ct.jsxs(o,{to:"/admin/newsletters",className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[ct.jsx("div",{className:"w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center",children:ct.jsx(T,{className:"w-5 h-5 text-white"})}),ct.jsxs("div",{children:[ct.jsx("p",{className:"font-medium text-navy",children:"Newsletter"}),ct.jsx("p",{className:"text-sm text-text-secondary",children:"Gerenciar emails"})]})]})]})]}),ct.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[ct.jsxs("div",{className:"flex items-center justify-between mb-4",children:[ct.jsx("h2",{className:"text-lg font-semibold text-navy",children:"Comentrios Pendentes"}),ct.jsx(o,{to:"/admin/comments",className:"text-teal-primary hover:text-teal-900 text-sm font-medium",children:"Ver todos"})]}),m.length>0?ct.jsx("div",{className:"space-y-4",children:m.map(e=>ct.jsx("div",{className:"border-b border-gray-100 pb-4 last:border-0",children:ct.jsx("div",{className:"flex items-start justify-between",children:ct.jsxs("div",{className:"flex-1",children:[ct.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[ct.jsx("span",{className:"font-medium text-navy",children:e.name}),ct.jsx("span",{className:"text-xs text-text-secondary",children:new Date(e.created_at).toLocaleDateString("pt-BR")})]}),ct.jsx("p",{className:"text-sm text-text-primary line-clamp-2",children:e.content}),ct.jsxs("p",{className:"text-xs text-text-secondary mt-1",children:["Post:"," ",e.posts?.title]})]})})},e.id))}):ct.jsxs("div",{className:"text-center py-8",children:[ct.jsx(M,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),ct.jsx("p",{className:"text-text-secondary",children:"Nenhum comentrio pendente"})]})]})]}),ct.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow-md p-6 mb-0 text-center",children:[ct.jsx("h2",{className:"text-lg font-semibold text-navy mb-4",children:"Acesso Rpido"}),ct.jsxs("a",{href:"/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-2 px-6 py-3 bg-teal-primary hover:bg-teal-900 text-white rounded-lg transition-colors font-medium text-lg",children:[ct.jsx(se,{className:"w-5 h-5 rotate-180"}),ct.jsx("span",{children:"Ir para o Site"})]}),ct.jsx("p",{className:"text-sm text-text-secondary mt-4",children:"Acesse a pgina inicial do portal em uma nova aba"})]})]})]})]})},hy=({images:e})=>{const[t,n]=r.useState(0),s=e?.filter(e=>e.url)||[];if(0===s.length)return null;return ct.jsx("div",{className:"my-6",children:ct.jsxs("div",{className:"relative overflow-hidden rounded-lg shadow-md group",children:[ct.jsx("div",{className:"relative h-96",children:s.map((e,n)=>ct.jsx("div",{className:"absolute inset-0 transition-opacity duration-500 "+(n===t?"opacity-100":"opacity-0"),children:e.link?ct.jsx("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"block w-full h-full",children:ct.jsx("img",{src:e.url,alt:e.alt||"",className:"w-full h-full object-cover"})}):ct.jsx("img",{src:e.url,alt:e.alt||"",className:"w-full h-full object-cover"})},n))}),s.length>1&&ct.jsxs(ct.Fragment,{children:[ct.jsx("button",{onClick:()=>{n(e=>(e-1+s.length)%s.length)},className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 transition-colors opacity-0 group-hover:opacity-100 transition-opacity",children:ct.jsx(R,{className:"w-5 h-5"})}),ct.jsx("button",{onClick:()=>{n(e=>(e+1)%s.length)},className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 transition-colors opacity-0 group-hover:opacity-100 transition-opacity",children:ct.jsx(N,{className:"w-5 h-5"})})]}),s.length>1&&ct.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2",children:s.map((e,r)=>ct.jsx("button",{onClick:()=>n(r),className:"w-2 h-2 rounded-full transition-colors "+(r===t?"bg-white":"bg-white bg-opacity-50")},r))}),s[t]?.caption&&ct.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-4",children:ct.jsx("p",{className:"text-white text-sm",children:s[t].caption})})]})})},py=({currentPage:e,totalPages:t,onPageChange:n,totalItems:r,itemsPerPage:s,itemName:i="item",itemNamePlural:o="itens"})=>{if(t<=1)return null;const a=(e-1)*s+1,l=Math.min(e*s,r),c=(e-2)*s+1,d=(e-1)*s,u=l+1,h=Math.min((e+1)*s,r);return ct.jsxs("div",{className:"bg-gray-50 px-6 py-3 flex items-center justify-between border-t border-gray-200",children:[void 0!==r&&ct.jsx("div",{className:"flex-1",children:ct.jsxs("p",{className:"text-sm text-text-secondary",children:["Mostrando"," ",ct.jsx("span",{className:"font-medium",children:a})," a"," ",ct.jsx("span",{className:"font-medium",children:l})," de"," ",ct.jsx("span",{className:"font-medium",children:r})," ",1===r?i:o]})}),ct.jsxs("div",{className:"flex space-x-3",children:[ct.jsxs("button",{onClick:()=>n(Math.max(1,e-1)),disabled:1===e,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[ct.jsx(R,{className:"h-4 w-4 mr-1"}),e>1?`Anterior ${c}-${d}`:"Anterior"]}),ct.jsxs("button",{onClick:()=>n(Math.min(t,e+1)),disabled:e===t,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e<t?`Prxima ${u}-${h}`:"Prxima",ct.jsx(N,{className:"h-4 w-4 ml-1"})]})]})]})},my=()=>{const[e,t]=r.useState([]),[n,s]=r.useState(!0),[a,c]=r.useState(""),[d,u]=r.useState("all"),[h,p]=r.useState("latest"),[m,f]=l(),g=i(),[v,b]=r.useState(parseInt(m.get("page")||"1")),[w,j]=r.useState(0),[N,C]=r.useState(0),[S,E]=r.useState(null),[T,M]=r.useState({isOpen:!1,posts:[],ids:[],isBulk:!1}),[D,O]=r.useState(new Set),[P,_]=r.useState(null);r.useEffect(()=>{f({page:v.toString()})},[v]),r.useEffect(()=>{L()},[a,d,v,h,g.key,g.state?.refresh]);const L=async()=>{try{s(!0);let e=rs.from("posts").select("\n\t\t\t\tid,\n\t\t\t\ttitle,\n\t\t\t\texcerpt,\n\t\t\t\tcategory,\n\t\t\t\tauthor,\n\t\t\t\tcategory,\n\t\t\t\tauthor,\n\t\t\t\tcreated_at,\n\t\t\t\tdate,\n\t\t\t\tstatus,\n                urgent\n\t\t\t"),n=rs.from("posts").select("id",{count:"exact",head:!0});const r=e=>(a&&(e=e.or(`title.ilike.%${a}%,content.ilike.%${a}%`)),"all"!==d&&(e=e.eq("status",d)),e);switch(e=r(e),n=r(n),h){case"latest":default:e=e.order("created_at",{ascending:!1});break;case"oldest":e=e.order("created_at",{ascending:!0});break;case"title":e=e.order("title",{ascending:!0});break;case"status":e=e.order("status",{ascending:!0})}const i=10*(v-1),o=i+10-1;e=e.range(i,o);const[l,c]=await Promise.all([e,n]);if(l.error)throw l.error;if(c.error)throw c.error;t(l.data||[]),C(c.count||0),j(Math.ceil((c.count||0)/10))}catch(e){console.error("Error fetching posts:",e),_(e.message||"Erro desconhecido"),A.error("Erro ao carregar matrias")}finally{s(!1)}},R=()=>{M({isOpen:!1,posts:[],ids:[],isBulk:!1})},F=e=>{const t={published:"bg-green-100 text-green-800",draft:"bg-yellow-100 text-yellow-800",archived:"bg-gray-100 text-gray-800"};return ct.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${t[e]||t.draft}`,children:{published:"Publicado",draft:"Rascunho",archived:"Arquivado"}[e]||"Rascunho"})};return n&&0===e.length?ct.jsx("div",{className:"min-h-screen flex items-center justify-center",children:ct.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-primary"})}):ct.jsxs(ct.Fragment,{children:[ct.jsxs(hn,{children:[ct.jsx("title",{children:"Gerenciar Matrias - Opine Agora SC"}),ct.jsx("meta",{name:"description",content:"Gerenciamento de matrias do portal Opine Agora SC"})]}),ct.jsxs("div",{className:"min-h-screen bg-gray-50",children:[ct.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:ct.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:ct.jsxs("div",{className:"flex justify-between items-center py-4",children:[ct.jsxs("div",{children:[ct.jsx("h1",{className:"text-2xl font-bold text-navy",children:"Gerenciar Matrias"}),ct.jsxs("p",{className:"text-text-secondary",children:[N," matria",1!==N?"s":""," encontrada",1!==N?"s":""]})]}),ct.jsxs("div",{className:"flex items-center space-x-4",children:[D.size>0&&ct.jsxs("button",{onClick:async()=>{const t=Array.from(D),n=e.filter(e=>t.includes(e.id)).map(e=>e.title);M({isOpen:!0,posts:n,ids:t,isBulk:!0})},className:"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[ct.jsx(ee,{className:"w-4 h-4"}),ct.jsxs("span",{children:["Excluir (",D.size,")"]})]}),ct.jsxs(o,{to:"/admin",className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[ct.jsx(I,{className:"w-4 h-4"}),ct.jsx("span",{children:"Voltar"})]}),ct.jsxs(o,{to:"/admin/posts/new",className:"btn-primary flex items-center space-x-2",children:[ct.jsx(ie,{className:"w-4 h-4"}),ct.jsx("span",{children:"Nova Matria"})]})]})]})})}),ct.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[ct.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:ct.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[ct.jsx("div",{className:"flex-1",children:ct.jsxs("div",{className:"relative",children:[ct.jsx(J,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-text-secondary"}),ct.jsx("input",{type:"text",placeholder:"Buscar por ttulo ou contedo...",value:a,onChange:e=>{c(e.target.value),b(1)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent"})]})}),ct.jsxs("div",{className:"flex items-center space-x-4",children:[ct.jsxs("div",{className:"flex items-center space-x-2",children:[ct.jsx(z,{className:"w-4 h-4 text-text-secondary"}),ct.jsxs("select",{value:d,onChange:e=>{u(e.target.value),b(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent",children:[ct.jsx("option",{value:"all",children:"Todos os status"}),ct.jsx("option",{value:"published",children:"Publicado"}),ct.jsx("option",{value:"draft",children:"Rascunho"}),ct.jsx("option",{value:"archived",children:"Arquivado"})]})]}),ct.jsxs("div",{className:"flex items-center space-x-2",children:[ct.jsx(x,{className:"w-4 h-4 text-text-secondary"}),ct.jsxs("select",{value:h,onChange:e=>{p(e.target.value),b(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent",children:[ct.jsx("option",{value:"latest",children:"Mais recentes"}),ct.jsx("option",{value:"oldest",children:"Mais antigas"}),ct.jsx("option",{value:"title",children:"Ordem alfabtica"}),ct.jsx("option",{value:"status",children:"Por status"})]})]})]})]})}),ct.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden transition-opacity duration-300 "+(n?"opacity-50 pointer-events-none":"opacity-100"),children:e.length>0?ct.jsxs(ct.Fragment,{children:[ct.jsx("div",{className:"overflow-x-auto",children:ct.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[ct.jsx("thead",{className:"bg-gray-50",children:ct.jsxs("tr",{children:[ct.jsx("th",{className:"px-6 py-3 text-left",children:ct.jsxs("button",{onClick:()=>{D.size===e.length?O(new Set):O(new Set(e.map(e=>e.id)))},className:"flex items-center space-x-2 text-xs font-medium text-text-secondary uppercase tracking-wider hover:text-gray-700",children:[D.size===e.length&&e.length>0?ct.jsx(oe,{className:"w-4 h-4"}):ct.jsx(ae,{className:"w-4 h-4"}),ct.jsx("span",{children:"Selecionar"})]})}),ct.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider",children:"Matria"}),ct.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider",children:"Categoria"}),ct.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider",children:"Autor"}),ct.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider",children:"Data"}),ct.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider",children:"Status"}),ct.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-text-secondary uppercase tracking-wider",children:"Aes"})]})}),ct.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(n=>ct.jsxs("tr",{className:"hover:bg-gray-50",children:[ct.jsx("td",{className:"px-6 py-4",children:ct.jsx("button",{onClick:()=>(e=>{const t=new Set(D);t.has(e)?t.delete(e):t.add(e),O(t)})(n.id),className:"flex items-center",children:D.has(n.id)?ct.jsx(oe,{className:"w-4 h-4 text-teal-primary"}):ct.jsx(ae,{className:"w-4 h-4 text-gray-400"})})}),ct.jsx("td",{className:"px-6 py-4",children:ct.jsxs("div",{children:[ct.jsxs("div",{className:"text-sm font-medium text-navy line-clamp-1 flex items-center",children:[n.title,n.urgent&&ct.jsx("span",{className:"ml-2 inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800",children:"Urgente"})]}),n.excerpt&&ct.jsx("div",{className:"text-sm text-text-secondary line-clamp-2",children:n.excerpt})]})}),ct.jsx("td",{className:"px-6 py-4",children:ct.jsx("span",{className:"text-sm text-text-primary",children:n.category||"Sem categoria"})}),ct.jsx("td",{className:"px-6 py-4",children:ct.jsx("span",{className:"text-sm text-text-primary",children:n.author||"Sem autor"})}),ct.jsx("td",{className:"px-6 py-4",children:ct.jsx("div",{className:"text-sm text-text-primary",children:$e(new Date(n.date||n.created_at),"dd/MM/yyyy",{locale:Yr})})}),ct.jsx("td",{className:"px-6 py-4",children:F(n.status)}),ct.jsx("td",{className:"px-6 py-4 text-right",children:ct.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[ct.jsx("button",{onClick:()=>(async(e,t)=>{M({isOpen:!0,posts:[t],ids:[e],isBulk:!1})})(n.id,n.title),className:"p-2 rounded hover:bg-red-50 transition-colors",title:"Excluir",children:ct.jsx(ee,{className:"w-5 h-5 text-red-500"})}),ct.jsx("button",{onClick:()=>(async(n,r)=>{try{const s="published"===r?"draft":"published",{error:i}=await rs.from("posts").update({status:s}).eq("id",n);if(i)throw i;t(e.map(e=>e.id===n?{...e,status:s}:e)),A.success(`Matria ${"published"===s?"publicada":"despublicada"} com sucesso!`)}catch(s){console.error("Error toggling post status:",s),A.error("Erro ao alterar status da matria")}})(n.id,n.status),className:"p-1 rounded hover:bg-gray-100 transition-colors",title:"published"===n.status?"Despublicar":"Publicar",children:"published"===n.status?ct.jsx(le,{className:"w-5 h-5 text-green-500"}):ct.jsx(ce,{className:"w-5 h-5 text-gray-400"})}),ct.jsx("button",{onClick:async()=>{try{const{data:e,error:t}=await rs.from("posts").select("*").eq("id",n.id).single();e&&E(e)}catch(e){console.error("Error fetching preview:",e),A.error("Erro ao carregar prvia")}},className:"p-2 rounded hover:bg-gray-100 transition-colors",title:"Visualizar",children:ct.jsx(y,{className:"w-5 h-5 text-text-secondary"})}),ct.jsx(o,{to:`/admin/posts/edit/${n.id}`,state:{returnPage:v},className:"p-2 rounded hover:bg-gray-100 transition-colors",title:"Editar",children:ct.jsx(Q,{className:"w-5 h-5 text-text-secondary"})})]})})]},n.id))})]})}),ct.jsx(py,{currentPage:v,totalPages:w,onPageChange:b,totalItems:N,itemsPerPage:10,itemName:"matria",itemNamePlural:"matrias"})]}):ct.jsxs("div",{className:"text-center py-12",children:[ct.jsx(Y,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),ct.jsx("h3",{className:"text-lg font-medium text-navy mb-2",children:"Nenhuma matria encontrada"}),ct.jsx("p",{className:"text-text-secondary mb-6",children:a||"all"!==d?"Tente ajustar os filtros ou busca.":"Comece criando sua primeira matria."}),ct.jsxs(o,{to:"/admin/posts/new",className:"btn-primary",children:[ct.jsx(ie,{className:"w-4 h-4 inline mr-2"}),"Criar Matria"]})]})})]}),S&&ct.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:ct.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[ct.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[ct.jsxs("h2",{className:"text-xl font-semibold text-navy",children:["Preview: ",S.title]}),ct.jsx("button",{onClick:()=>E(null),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:ct.jsx(k,{className:"w-5 h-5 text-gray-500"})})]}),ct.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[ct.jsxs("div",{className:"mb-6",children:[ct.jsx("h1",{className:"text-3xl font-bold text-navy mb-4",children:S.title}),ct.jsxs("div",{className:"flex items-center space-x-4 text-sm text-text-secondary mb-6",children:[ct.jsx("span",{children:$e(new Date(S.created_at),"dd 'de' MMMM 'de' yyyy",{locale:Yr})}),S.author&&ct.jsxs("span",{children:["Por: ",S.author]}),S.category&&ct.jsx("span",{className:"px-2 py-1 bg-teal-primary text-white rounded-full text-xs",children:S.category})]})]}),S.image&&ct.jsx("div",{className:"mb-6",children:ct.jsx("img",{src:S.image,alt:S.title,className:"w-full h-64 object-cover rounded-lg"})}),S.excerpt&&ct.jsx("div",{className:"mb-6",children:ct.jsx("p",{className:"text-lg text-text-secondary leading-relaxed",children:S.excerpt})}),ct.jsx("div",{className:"prose prose-lg max-w-none",children:S.content&&(e=>{if(!e)return null;try{const t="string"==typeof e?JSON.parse(e):e;return Array.isArray(t)?t.map(e=>{switch(e.type){case"text":return ct.jsx("div",{className:"mb-6",children:ct.jsx("div",{className:"prose prose-lg max-w-none text-gray-800 leading-relaxed",children:ct.jsx(Gl,{children:e.data.content})})},e.id);case"image":case"fullImage":return e.data.imageUrl?ct.jsxs("div",{className:"mb-6",children:[ct.jsx("img",{src:e.data.imageUrl,alt:e.data.alt||"",className:"w-full h-auto rounded-lg shadow-md"}),e.data.caption&&ct.jsx("p",{className:"text-center text-sm text-gray-500 mt-2 italic",children:e.data.caption})]},e.id):null;case"imageText":return ct.jsxs("div",{className:"mb-6 clearfix",children:[ct.jsx("div",{className:"relative w-full lg:w-1/2 mb-4 "+("right"===e.data.align?"lg:float-right lg:ml-6":"lg:float-left lg:mr-6"),children:ct.jsx("img",{src:e.data.imageUrl,alt:e.data.alt||"",className:"w-full h-auto rounded-lg shadow-md"})}),ct.jsx("div",{className:"prose prose-lg max-w-none text-gray-800 leading-relaxed",children:ct.jsx(Gl,{children:e.data.text})})]},e.id);case"imagemComLink":return e.data.imageUrl&&e.data.linkUrl?ct.jsx("div",{className:"mb-6",children:ct.jsxs("a",{href:e.data.linkUrl,target:"_blank",rel:"noopener noreferrer",className:"block group",children:[ct.jsx("div",{className:"relative overflow-hidden rounded-lg shadow-md group-hover:shadow-lg transition-shadow",children:ct.jsx("img",{src:e.data.imageUrl,alt:e.data.alt||"",className:"w-full h-auto object-cover transition-transform group-hover:scale-105"})}),e.data.caption&&ct.jsx("p",{className:"text-sm text-gray-600 mt-2 text-center italic",children:e.data.caption})]})},e.id):null;case"button":return ct.jsx("div",{className:"mb-6 text-center",children:ct.jsx("a",{href:e.data.url,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-6 py-3 rounded-lg font-medium transition-colors "+("primary"===e.data.style?"bg-teal-primary text-white hover:bg-teal-900":"border border-gray-300 text-gray-700 hover:bg-gray-50"),children:e.data.text})},e.id);case"capa":return e.data.imageUrl&&!1!==e.data.showInBody?ct.jsxs("div",{className:"mb-6",children:[ct.jsx("img",{src:e.data.imageUrl,alt:e.data.alt||"",className:"w-full h-64 md:h-96 object-cover rounded-lg shadow-lg"}),e.data.title&&ct.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-navy mt-4 mb-2",children:e.data.title})]},e.id):null;case"carousel":const t=e.data.images?.filter(e=>e.url)||[];return 0===t.length?null:ct.jsx(hy,{images:t},e.id);case"video":if(!e.data.videoUrl)return null;const n=e.data.videoUrl.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/)?.[1];return n?ct.jsx("div",{className:"mb-6 aspect-video rounded-xl overflow-hidden shadow-lg",children:ct.jsx("iframe",{src:`https://www.youtube.com/embed/${n}`,className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})},e.id):null;case"ad":return e.data.code?ct.jsxs("div",{className:"mb-6 p-4 bg-gray-100 rounded-lg text-center",children:[ct.jsx("div",{className:"text-xs text-gray-400 mb-2 uppercase tracking-wider",children:"Publicidade"}),ct.jsx("div",{dangerouslySetInnerHTML:{__html:e.data.code}})]},e.id):null;default:return null}}):null}catch(t){return console.error("Error parsing content blocks:",t),ct.jsx("div",{className:"text-red-500",children:"Erro ao renderizar contedo"})}})(S.content)})]}),ct.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50",children:[ct.jsx("div",{className:"text-sm text-text-secondary",children:"Preview da matria - no publicado"}),ct.jsxs("div",{className:"flex items-center space-x-3",children:[ct.jsx("a",{href:`/post/${S.slug||S.id}`,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-teal-primary text-white rounded-lg hover:bg-teal-900 transition-colors",children:"Ver no Site"}),ct.jsx("button",{onClick:()=>E(null),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Fechar"})]})]})]})})]}),T.isOpen&&ct.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:ct.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full mx-4",children:[ct.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[ct.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirmar Excluso"}),ct.jsx("button",{onClick:R,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:ct.jsx(k,{className:"w-5 h-5 text-gray-500"})})]}),ct.jsxs("div",{className:"p-6",children:[ct.jsxs("div",{className:"flex items-center mb-4",children:[ct.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mr-4",children:ct.jsx(ee,{className:"w-6 h-6 text-red-600"})}),ct.jsxs("div",{children:[ct.jsx("p",{className:"text-gray-900 font-medium",children:T.isBulk?`Tem certeza que deseja remover ${T.posts.length} matrias?`:"Tem certeza que deseja remover esta matria?"}),ct.jsx("div",{className:"text-gray-600 text-sm mt-1",children:T.isBulk?ct.jsx("div",{className:"max-h-32 overflow-y-auto",children:T.posts.map((e,t)=>ct.jsxs("div",{children:[" ",e]},t))}):T.posts[0]})]})]}),ct.jsxs("div",{className:"flex justify-end space-x-3",children:[ct.jsx("button",{onClick:R,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),ct.jsx("button",{onClick:async()=>{try{for(const e of T.ids)await rs.from("posts").delete().eq("id",e);A.success(T.isBulk?`${T.ids.length} matrias removidas com sucesso!`:"Matria removida com sucesso!"),t(e=>e.filter(e=>!T.ids.includes(e.id))),C(e=>Math.max(0,e-T.ids.length)),M({isOpen:!1,posts:[],ids:[],isBulk:!1}),O(new Set)}catch(e){console.error("Error deleting posts:",e),A.error("Erro ao remover matrias")}},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Confirmar Excluso"})]})]})]})})]})},fy=()=>{const[e,t]=r.useState([]),[n,s]=r.useState(!0),[i,a]=r.useState(""),[l,c]=r.useState("all"),[d,u]=r.useState("all"),[h,p]=r.useState(""),[m,f]=r.useState("newest"),[g,x]=r.useState(1),[y,v]=r.useState(0),[b,w]=r.useState(new Set),[k,j]=r.useState({isOpen:!1,ads:[],ids:[],isBulk:!1});r.useEffect(()=>{N()},[i,l,d,h,m,g]);const N=async()=>{try{s(!0);let e=rs.from("ads").select("*",{count:"exact"});if(i&&(e=e.or(`title.ilike.%${i}%,content.ilike.%${i}%`)),"all"!==l&&(e=e.eq("status",l)),"all"!==d&&(e=e.eq("category",d)),"date"===m&&h){const t=new Date(h);t.setUTCHours(0,0,0,0);const n=new Date(h);n.setUTCHours(23,59,59,999),e=e.gte("created_at",t.toISOString()).lte("created_at",n.toISOString()).order("created_at",{ascending:!1})}else switch(m){case"oldest":e=e.order("created_at",{ascending:!0});break;case"a-z":e=e.order("title",{ascending:!0});break;default:e=e.order("created_at",{ascending:!1})}const n=10*(g-1),r=n+10-1;e=e.range(n,r);const{data:o,error:a,count:c}=await e;if(a)throw a;t(o||[]),v(Math.ceil((c||0)/10))}catch(cR){console.error("Error fetching ads:",cR),A.error("Erro ao carregar anncios")}finally{s(!1)}},C=async n=>{try{const r=Array.from(b),s={status:n};"approved"===n&&(s.created_at=(new Date).toISOString());for(const e of r){const{error:t}=await rs.from("ads").update(s).eq("id",e);if(t)throw t}t(e.map(e=>r.includes(e.id)?{...e,...s}:e)),A.success(`Status atualizado para ${S.length} anncios!`)}catch(cR){console.error("Error updating bulk status:",cR),A.error("Erro ao atualizar status em massa")}},S=e.filter(e=>{const t=!i||e.title?.toLowerCase().includes(i.toLowerCase())||e.content?.toLowerCase().includes(i.toLowerCase()),n="all"===l||e.status===l,r="all"===d||e.category===d,s="date"!==m||!h||new Date(e.created_at).toISOString().split("T")[0]===h;return t&&n&&r&&s});return ct.jsxs(ct.Fragment,{children:[ct.jsxs(hn,{children:[ct.jsx("title",{children:"Gerenciar Anncios - Admin"}),ct.jsx("meta",{name:"description",content:"Painel de gerenciamento de anncios"})]}),ct.jsxs("div",{className:"min-h-screen bg-gray-50",children:[ct.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:ct.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:ct.jsxs("div",{className:"flex justify-between items-center py-4",children:[ct.jsx("div",{children:ct.jsx("h1",{className:"text-2xl font-bold text-navy",children:"Gerenciar Anncios"})}),ct.jsxs("div",{className:"flex items-center space-x-4",children:[b.size>0&&ct.jsxs(ct.Fragment,{children:[Array.from(b).some(t=>"approved"!==e.find(e=>e.id===t)?.status)&&ct.jsxs("button",{onClick:()=>C("approved"),className:"flex items-center space-x-2 px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[ct.jsx(le,{className:"w-4 h-4"}),ct.jsxs("span",{children:["Ativar (",b.size,")"]})]}),Array.from(b).some(t=>"approved"===e.find(e=>e.id===t)?.status)&&ct.jsxs("button",{onClick:()=>C("draft"),className:"flex items-center space-x-2 px-3 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:[ct.jsx(ce,{className:"w-4 h-4"}),ct.jsxs("span",{children:["Inativar (",b.size,")"]})]}),ct.jsxs("button",{onClick:()=>{const t=Array.from(b),n=e.filter(e=>t.includes(e.id)).map(e=>e.title);j({isOpen:!0,ads:n,ids:t,isBulk:!0})},className:"flex items-center space-x-2 px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:[ct.jsx(ee,{className:"w-4 h-4"}),ct.jsxs("span",{children:["Excluir (",b.size,")"]})]})]}),ct.jsxs(o,{to:"/admin",className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[ct.jsx(I,{className:"w-4 h-4"}),ct.jsx("span",{children:"Voltar"})]}),ct.jsxs(o,{to:"/admin/ads/new",className:"btn-primary flex items-center space-x-2",children:[ct.jsx(ie,{className:"w-4 h-4"}),ct.jsx("span",{children:"Novo Anncio"})]})]})]})})}),ct.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[ct.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:ct.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[ct.jsx("div",{className:"flex-1",children:ct.jsxs("div",{className:"relative",children:[ct.jsx(J,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),ct.jsx("input",{type:"text",placeholder:"Buscar anncios...",value:i,onChange:e=>a(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-primary focus:border-transparent"})]})}),ct.jsxs("div",{className:"flex items-center space-x-2",children:[ct.jsx(z,{className:"w-5 h-5 text-gray-500"}),ct.jsxs("select",{value:m,onChange:e=>f(e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-primary focus:border-transparent",children:[ct.jsx("option",{value:"newest",children:"Mais recentes"}),ct.jsx("option",{value:"oldest",children:"Mais antigas"}),ct.jsx("option",{value:"a-z",children:"Ordem alfabtica"}),ct.jsx("option",{value:"date",children:"Por data especfica"})]}),"date"===m&&ct.jsx("input",{type:"date",value:h,onChange:e=>p(e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-primary focus:border-transparent text-gray-700"}),ct.jsxs("select",{value:d,onChange:e=>u(e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-primary focus:border-transparent",children:[ct.jsx("option",{value:"all",children:"Todas Categorias"}),ct.jsx("option",{value:"banner",children:"Banner"}),ct.jsx("option",{value:"sidebar",children:"Sidebar"}),ct.jsx("option",{value:"footer",children:"Footer"}),ct.jsx("option",{value:"popup",children:"Popup"})]}),ct.jsxs("select",{value:l,onChange:e=>c(e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-teal-primary focus:border-transparent",children:[ct.jsx("option",{value:"all",children:"Todos Status"}),ct.jsx("option",{value:"approved",children:"Ativos"}),ct.jsx("option",{value:"draft",children:"Inativos"})]})]})]})}),ct.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:n?ct.jsx("div",{className:"flex items-center justify-center py-12",children:ct.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-primary"})}):S.length>0?ct.jsxs(ct.Fragment,{children:[ct.jsx("div",{className:"overflow-x-auto",children:ct.jsxs("table",{className:"w-full",children:[ct.jsx("thead",{className:"bg-gray-50",children:ct.jsxs("tr",{children:[ct.jsx("th",{className:"px-6 py-3 text-left",children:ct.jsxs("button",{onClick:()=>{b.size===S.length?w(new Set):w(new Set(S.map(e=>e.id)))},className:"flex items-center space-x-2 text-xs font-medium text-text-secondary uppercase tracking-wider hover:text-gray-700",children:[b.size===S.length&&S.length>0?ct.jsx(oe,{className:"w-4 h-4"}):ct.jsx(ae,{className:"w-4 h-4"}),ct.jsx("span",{children:"Selecionar"})]})}),ct.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider",children:"Anncio"}),ct.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider",children:"Categoria"}),ct.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider",children:"Data"}),ct.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider",children:"Status"}),ct.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-text-secondary uppercase tracking-wider",children:"Aes"})]})}),ct.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.map(n=>ct.jsxs("tr",{className:"hover:bg-gray-50",children:[ct.jsx("td",{className:"px-6 py-4",children:ct.jsx("button",{onClick:()=>(e=>{const t=new Set(b);t.has(e)?t.delete(e):t.add(e),w(t)})(n.id),className:"flex items-center",children:b.has(n.id)?ct.jsx(oe,{className:"w-4 h-4 text-teal-primary"}):ct.jsx(ae,{className:"w-4 h-4 text-gray-400"})})}),ct.jsx("td",{className:"px-6 py-4",children:ct.jsxs("div",{className:"flex items-center space-x-4",children:[n.image_url?ct.jsx("img",{src:n.image_url,alt:n.title,className:"w-16 h-16 object-cover rounded-lg shadow-sm"}):ct.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center",children:ct.jsx(E,{className:"w-6 h-6 text-gray-400"})}),ct.jsx("div",{children:ct.jsx("div",{className:"text-sm font-medium text-navy line-clamp-2",children:n.title})})]})}),ct.jsx("td",{className:"px-6 py-4",children:ct.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full capitalize",children:n.category})}),ct.jsx("td",{className:"px-6 py-4",children:ct.jsx("div",{className:"text-sm text-text-primary",children:$e(new Date(n.created_at),"dd/MM/yyyy",{locale:Yr})})}),ct.jsx("td",{className:"px-6 py-4",children:ct.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full "+("approved"===n.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:"approved"===n.status?"Ativo":"Inativo"})}),ct.jsx("td",{className:"px-6 py-4 text-right",children:ct.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[ct.jsx("button",{onClick:()=>(async(e,t)=>{j({isOpen:!0,ads:[t],ids:[e],isBulk:!1})})(n.id),className:"p-2 rounded hover:bg-red-50 transition-colors",title:"Excluir",children:ct.jsx(ee,{className:"w-5 h-5 text-red-500"})}),ct.jsx("button",{onClick:()=>(async(n,r)=>{try{const s="approved"===r?"draft":"approved",i={status:s};"approved"===s&&(i.created_at=(new Date).toISOString());const{error:o}=await rs.from("ads").update(i).eq("id",n);if(o)throw o;t(e.map(e=>e.id===n?{...e,...i}:e)),A.success(`Anncio ${"approved"===s?"aprovado":"desativado"} com sucesso!`)}catch(cR){console.error("Error toggling ad status:",cR),A.error("Erro ao alterar status do anncio")}})(n.id,n.status),className:"p-1 rounded hover:bg-gray-100 transition-colors",title:"approved"===n.status?"Desativar":"Ativar",children:"approved"===n.status?ct.jsx(le,{className:"w-5 h-5 text-green-500"}):ct.jsx(ce,{className:"w-5 h-5 text-gray-400"})}),ct.jsx(o,{to:`/admin/ads/edit/${n.id}`,className:"p-2 rounded hover:bg-gray-100 transition-colors",title:"Editar",children:ct.jsx(Q,{className:"w-5 h-5 text-text-secondary"})})]})})]},n.id))})]})}),ct.jsx(py,{currentPage:g,totalPages:y,onPageChange:e=>{x(e)},totalItems:S.length,itemsPerPage:10,itemName:"anncio",itemNamePlural:"anncios"})]}):ct.jsxs("div",{className:"text-center py-12",children:[ct.jsx(E,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),ct.jsx("h3",{className:"text-lg font-medium text-navy mb-2",children:"Nenhum anncio encontrado"}),ct.jsx("p",{className:"text-text-secondary mb-6",children:i||"all"!==l?"Tente ajustar os filtros ou busca.":"Comece criando seu primeiro anncio."}),ct.jsxs(o,{to:"/admin/ads/new",className:"btn-primary",children:[ct.jsx(ie,{className:"w-4 h-4 inline mr-2"}),"Criar Anncio"]})]})})]})]})]})},gy=()=>{const[e,t]=r.useState(""),[n,s]=r.useState("pending"),[i,a]=r.useState(1),[l,c]=r.useState({isOpen:!1,comments:[],ids:[],isBulk:!1}),[d,u]=r.useState(new Set),{comments:h,loading:p,approveComment:m,rejectComment:f}=oc(),g=h?.filter(t=>{const r=!e||t.name.toLowerCase().includes(e.toLowerCase())||t.email.toLowerCase().includes(e.toLowerCase())||t.content.toLowerCase().includes(e.toLowerCase()),s="all"===n||t.status===n;return r&&s})||[],x=Math.ceil(g.length/10),y=10*(i-1),v=g.slice(y,y+10);r.useEffect(()=>{a(1)},[e,n]);const b=()=>{c({isOpen:!1,comments:[],ids:[],isBulk:!1})},w=e=>{const t={pending:D,approved:Z,rejected:k}[e];return ct.jsxs("span",{className:`inline-flex items-center space-x-1 px-2 py-1 text-xs font-medium rounded-full ${{pending:"bg-orange-100 text-orange-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"}[e]}`,children:[ct.jsx(t,{className:"w-3 h-3"}),ct.jsx("span",{children:{pending:"Pendente",approved:"Aprovado",rejected:"Rejeitado"}[e]})]})},j={pending:h?.filter(e=>"pending"===e.status).length||0,approved:h?.filter(e=>"approved"===e.status).length||0,rejected:h?.filter(e=>"rejected"===e.status).length||0};return p?ct.jsx("div",{className:"min-h-screen flex items-center justify-center",children:ct.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-primary"})}):ct.jsxs(ct.Fragment,{children:[ct.jsxs(hn,{children:[ct.jsx("title",{children:"Gerenciar Comentrios - Opine Agora SC"}),ct.jsx("meta",{name:"description",content:"Moderao de comentrios do portal Opine Agora SC"})]}),ct.jsxs("div",{className:"min-h-screen bg-gray-50",children:[ct.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:ct.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:ct.jsxs("div",{className:"flex justify-between items-center py-4",children:[ct.jsxs("div",{children:[ct.jsx("h1",{className:"text-2xl font-bold text-navy",children:"Gerenciar Comentrios"}),ct.jsxs("p",{className:"text-text-secondary",children:[g.length," comentrio",1!==g.length?"s":""," ","encontrados"]})]}),ct.jsxs("div",{className:"flex items-center space-x-4",children:[d.size>0&&ct.jsxs(ct.Fragment,{children:[ct.jsxs("button",{onClick:async()=>{const e=Array.from(d);try{let t=0;await Promise.all(e.map(async e=>{await m(e,!0)&&t++})),t>0&&A.success(`${t} comentrio${1!==t?"s":""} aprovado${1!==t?"s":""} com sucesso!`),u(new Set)}catch(cR){A.error("Erro ao aprovar comentrios")}},className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[ct.jsx(O,{className:"w-4 h-4"}),ct.jsxs("span",{children:["Aprovar (",d.size,")"]})]}),ct.jsxs("button",{onClick:async()=>{const e=Array.from(d),t=v.filter(t=>e.includes(t.id)).map(e=>`${e.name} - ${e.content.substring(0,50)}...`);c({isOpen:!0,comments:t,ids:e,isBulk:!0})},className:"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[ct.jsx(ee,{className:"w-4 h-4"}),ct.jsxs("span",{children:["Excluir (",d.size,")"]})]})]}),ct.jsxs(o,{to:"/admin",className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[ct.jsx(I,{className:"w-4 h-4"}),ct.jsx("span",{children:"Voltar"})]})]})]})})}),ct.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[ct.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[ct.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:ct.jsxs("div",{className:"flex items-center justify-between",children:[ct.jsxs("div",{children:[ct.jsx("p",{className:"text-sm font-medium text-text-secondary",children:"Pendentes"}),ct.jsx("p",{className:"text-3xl font-bold text-orange-500 mt-2",children:j.pending})]}),ct.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:ct.jsx(D,{className:"w-6 h-6 text-orange-500"})})]})}),ct.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:ct.jsxs("div",{className:"flex items-center justify-between",children:[ct.jsxs("div",{children:[ct.jsx("p",{className:"text-sm font-medium text-text-secondary",children:"Aprovados"}),ct.jsx("p",{className:"text-3xl font-bold text-green-500 mt-2",children:j.approved})]}),ct.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:ct.jsx(O,{className:"w-6 h-6 text-green-500"})})]})})]}),ct.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:ct.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[ct.jsx("div",{className:"flex-1",children:ct.jsxs("div",{className:"relative",children:[ct.jsx(J,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-text-secondary"}),ct.jsx("input",{type:"text",placeholder:"Buscar por nome, e-mail ou contedo...",value:e,onChange:e=>t(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent"})]})}),ct.jsxs("div",{className:"flex items-center space-x-2",children:[ct.jsx(z,{className:"w-4 h-4 text-text-secondary"}),ct.jsxs("select",{value:n,onChange:e=>s(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent",children:[ct.jsx("option",{value:"pending",children:"Pendentes"}),ct.jsx("option",{value:"approved",children:"Aprovados"}),ct.jsx("option",{value:"all",children:"Todos"})]})]})]})}),ct.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:v.length>0?ct.jsxs(ct.Fragment,{children:[ct.jsxs("div",{className:"divide-y divide-gray-200",children:[ct.jsx("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-200",children:ct.jsxs("button",{onClick:()=>{d.size===v.length?u(new Set):u(new Set(v.map(e=>e.id)))},className:"flex items-center space-x-2 text-sm font-medium text-gray-700 hover:text-gray-900",children:[d.size===v.length&&v.length>0?ct.jsx(oe,{className:"w-4 h-4"}):ct.jsx(ae,{className:"w-4 h-4"}),ct.jsx("span",{children:d.size===v.length&&v.length>0?"Deselecionar todos":"Selecionar todos"})]})}),v.map(e=>ct.jsx("div",{className:"p-6 hover:bg-gray-50",children:ct.jsxs("div",{className:"flex items-start justify-between mb-4",children:[ct.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[ct.jsx("button",{onClick:()=>(e=>{const t=new Set(d);t.has(e)?t.delete(e):t.add(e),u(t)})(e.id),className:"mt-1",children:d.has(e.id)?ct.jsx(oe,{className:"w-4 h-4 text-teal-primary"}):ct.jsx(ae,{className:"w-4 h-4 text-gray-400"})}),ct.jsxs("div",{className:"flex-1",children:[ct.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[ct.jsx("div",{className:"w-10 h-10 bg-teal-primary rounded-full flex items-center justify-center",children:ct.jsx("span",{className:"text-white font-semibold",children:e.name.charAt(0).toUpperCase()})}),ct.jsxs("div",{children:[ct.jsx("h3",{className:"font-semibold text-navy",children:e.name}),ct.jsx("p",{className:"text-sm text-text-secondary",children:e.email})]})]}),ct.jsxs("div",{className:"flex items-center space-x-4 mb-3",children:[ct.jsx("span",{className:"text-sm text-text-secondary",children:$e(new Date(e.created_at),"dd 'de' MMMM 'de' yyyy 's' HH:mm",{locale:Yr})}),w(e.status)]}),ct.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-3",children:ct.jsx("p",{className:"text-text-primary leading-relaxed whitespace-pre-wrap",children:e.content})}),e.posts&&ct.jsxs("div",{className:"flex items-center space-x-2 text-sm text-text-secondary",children:[ct.jsx(Y,{className:"w-4 h-4"}),ct.jsxs("span",{children:["Post:"," ",e.posts.title]})]})]})]}),ct.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[ct.jsx("button",{onClick:()=>(async(e,t)=>{c({isOpen:!0,comments:[t],ids:[e],isBulk:!1})})(e.id,`${e.name} - ${e.content.substring(0,50)}...`),className:"p-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors",title:"Excluir comentrio",children:ct.jsx(ee,{className:"w-4 h-4"})}),"pending"===e.status&&ct.jsx("button",{onClick:()=>(async e=>{await m(e)&&A.success("Comentrio aprovado com sucesso!")})(e.id),className:"p-2 bg-green-100 text-green-600 rounded-lg hover:bg-green-200 transition-colors",title:"Aprovar comentrio",children:ct.jsx(O,{className:"w-4 h-4"})})]})]})},e.id))]}),ct.jsx(py,{currentPage:i,totalPages:x,onPageChange:a,totalItems:g.length,itemsPerPage:10,itemName:"comentrio",itemNamePlural:"comentrios"})]}):ct.jsxs("div",{className:"text-center py-12",children:[ct.jsx(M,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),ct.jsx("h3",{className:"text-lg font-medium text-navy mb-2",children:"Nenhum comentrio encontrado"}),ct.jsx("p",{className:"text-text-secondary",children:e||"pending"!==n?"Tente ajustar os filtros ou busca.":"No h comentrios pendentes no momento."})]})})]}),l.isOpen&&ct.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:ct.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full mx-4",children:[ct.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[ct.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirmar Excluso"}),ct.jsx("button",{onClick:b,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:ct.jsx(k,{className:"w-5 h-5 text-gray-500"})})]}),ct.jsxs("div",{className:"p-6",children:[ct.jsxs("div",{className:"flex items-center mb-4",children:[ct.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mr-4",children:ct.jsx(ee,{className:"w-6 h-6 text-red-600"})}),ct.jsxs("div",{children:[ct.jsx("p",{className:"text-gray-900 font-medium",children:l.isBulk?`Tem certeza que deseja remover ${l.comments.length} comentrios?`:"Tem certeza que deseja remover este comentrio?"}),ct.jsx("div",{className:"text-gray-600 text-sm mt-1",children:l.isBulk?ct.jsx("div",{className:"max-h-32 overflow-y-auto",children:l.comments.map((e,t)=>ct.jsxs("div",{children:[" ",e]},t))}):l.comments[0]})]})]}),ct.jsxs("div",{className:"flex justify-end space-x-3",children:[ct.jsx("button",{onClick:b,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),ct.jsx("button",{onClick:async()=>{try{let e=0;await Promise.all(l.ids.map(async t=>{await f(t,!0)&&e++})),e>0&&A.success(l.isBulk?`${e} comentrio${1!==e?"s":""} removido${1!==e?"s":""} com sucesso!`:"Comentrio removido com sucesso!"),c({isOpen:!1,comments:[],ids:[],isBulk:!1}),u(new Set)}catch(cR){A.error("Erro ao remover comentrios")}},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Confirmar Excluso"})]})]})]})})]})]})},xy=()=>{const[e,t]=r.useState(""),[n,s]=r.useState(1),[i,a]=r.useState(0),[l,c]=r.useState(!1),[d,u]=r.useState({isOpen:!1,emails:[],ids:[],isBulk:!1}),[h,p]=r.useState(new Set),{newsletters:m,loading:f,addNewsletter:g,deleteNewsletter:x}=as(),y=m.filter(t=>t.email.toLowerCase().includes(e.toLowerCase()));r.useEffect(()=>{a(Math.ceil(y.length/10))},[y,10]);const v=y.slice(10*(n-1),10*n),b=()=>{u({isOpen:!1,emails:[],ids:[],isBulk:!1})};return f?ct.jsx("div",{className:"min-h-screen flex items-center justify-center",children:ct.jsxs("div",{className:"text-center",children:[ct.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-primary mx-auto mb-4"}),ct.jsx("p",{className:"text-gray-600",children:"Carregando inscritos..."})]})}):ct.jsxs(ct.Fragment,{children:[ct.jsxs(hn,{children:[ct.jsx("title",{children:"Gerenciar Newsletter - Opine Agora SC"}),ct.jsx("meta",{name:"description",content:"Gerenciamento de inscritos da newsletter do portal Opine Agora SC"})]}),ct.jsxs("div",{className:"min-h-screen bg-gray-50",children:[ct.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:ct.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:ct.jsxs("div",{className:"flex justify-between items-center py-4",children:[ct.jsxs("div",{children:[ct.jsx("h1",{className:"text-2xl font-bold text-navy",children:"Gerenciar Newsletter"}),ct.jsxs("p",{className:"text-text-secondary",children:[v.length," inscrito",1!==v.length?"s":""," ","encontrado",1!==v.length?"s":""]})]}),ct.jsxs("div",{className:"flex items-center space-x-4",children:[h.size>0&&ct.jsxs("button",{onClick:async()=>{const e=Array.from(h),t=m.filter(t=>e.includes(t.id)).map(e=>e.email);u({isOpen:!0,emails:t,ids:e,isBulk:!0})},className:"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[ct.jsx(ee,{className:"w-4 h-4"}),ct.jsxs("span",{children:["Excluir (",h.size,")"]})]}),ct.jsxs("button",{onClick:()=>{const e=m.map(e=>e.email).join("\n"),t=new Blob([e],{type:"text/plain"}),n=window.URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=`newsletter_emails_${$e(new Date,"dd-MM-yyyy")}.txt`,r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n),A.success("Emails exportados com sucesso!")},disabled:0===m.length,className:"flex items-center space-x-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[ct.jsx(de,{className:"w-4 h-4"}),ct.jsx("span",{children:"Exportar Emails"})]}),ct.jsxs(o,{to:"/admin",className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[ct.jsx(I,{className:"w-4 h-4"}),ct.jsx("span",{children:"Voltar"})]})]})]})})}),ct.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[ct.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[ct.jsx("h2",{className:"text-lg font-semibold text-navy mb-4",children:"Adicionar Email"}),ct.jsxs("form",{onSubmit:e=>{e.preventDefault(),(async e=>{if(!e||!e.trim())return void A.error("Email  obrigatrio");if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))try{c(!0),await g(e),A.success("Email adicionado com sucesso!")}catch(cR){A.error(cR.message)}finally{c(!1)}else A.error("Por favor, insira um email vlido")})(e.target.email.value)},className:"flex gap-4",children:[ct.jsx("div",{className:"flex-1",children:ct.jsx("input",{type:"email",name:"email",placeholder:"Digite o email para adicionar...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent",required:!0})}),ct.jsx("button",{type:"submit",disabled:l,className:"px-6 py-2 bg-teal-primary text-white rounded-lg hover:bg-teal-900 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:l?ct.jsxs(ct.Fragment,{children:[ct.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),ct.jsx("span",{children:"Adicionando..."})]}):ct.jsxs(ct.Fragment,{children:[ct.jsx(T,{className:"w-4 h-4"}),ct.jsx("span",{children:"Adicionar"})]})})]})]}),ct.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:ct.jsx("div",{className:"flex flex-col lg:flex-row gap-4",children:ct.jsx("div",{className:"flex-1",children:ct.jsxs("div",{className:"relative",children:[ct.jsx(J,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-text-secondary"}),ct.jsx("input",{type:"text",placeholder:"Buscar por email...",value:e,onChange:e=>{t(e.target.value),s(1)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent"})]})})})}),ct.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:v.length>0?ct.jsxs(ct.Fragment,{children:[ct.jsx("div",{className:"overflow-x-auto",children:ct.jsxs("table",{className:"w-full",children:[ct.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:ct.jsxs("tr",{children:[ct.jsx("th",{className:"px-6 py-3 text-left",children:ct.jsxs("button",{onClick:()=>{h.size===v.length?p(new Set):p(new Set(v.map(e=>e.id)))},className:"flex items-center space-x-2 text-xs font-medium text-gray-500 uppercase tracking-wider hover:text-gray-700",children:[h.size===v.length&&v.length>0?ct.jsx(oe,{className:"w-4 h-4"}):ct.jsx(ae,{className:"w-4 h-4"}),ct.jsx("span",{children:"Selecionar"})]})}),ct.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),ct.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data de Inscrio"}),ct.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),ct.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),ct.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map(e=>ct.jsxs("tr",{className:"hover:bg-gray-50",children:[ct.jsx("td",{className:"px-6 py-4",children:ct.jsx("button",{onClick:()=>(e=>{const t=new Set(h);t.has(e)?t.delete(e):t.add(e),p(t)})(e.id),className:"flex items-center",children:h.has(e.id)?ct.jsx(oe,{className:"w-4 h-4 text-teal-primary"}):ct.jsx(ae,{className:"w-4 h-4 text-gray-400"})})}),ct.jsx("td",{className:"px-6 py-4",children:ct.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.email})}),ct.jsx("td",{className:"px-6 py-4",children:ct.jsx("div",{className:"text-sm text-text-primary",children:$e(new Date(e.created_at),"dd 'de' MMMM 'de' yyyy",{locale:Yr})})}),ct.jsx("td",{className:"px-6 py-4",children:ct.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Ativo"})}),ct.jsx("td",{className:"px-6 py-4 text-right",children:ct.jsx("button",{onClick:()=>(async(e,t)=>{u({isOpen:!0,emails:[t],ids:[e],isBulk:!1})})(e.id,e.email),className:"text-red-600 hover:text-red-800 transition-colors",children:ct.jsx(ee,{className:"w-4 h-4"})})})]},e.id))})]})}),i>1&&ct.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[ct.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[ct.jsx("button",{onClick:()=>s(n-1),disabled:1===n,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Anterior"}),ct.jsx("button",{onClick:()=>s(Math.min(n+1,i)),disabled:n===i,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Prxima"})]}),ct.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[ct.jsxs("p",{className:"text-sm text-gray-700",children:["Pgina"," ",ct.jsx("span",{className:"font-medium",children:n})," ","de"," ",ct.jsx("span",{className:"font-medium",children:i})]}),ct.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[ct.jsx("button",{onClick:()=>s(n-1),disabled:1===n,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Anterior"}),Array.from({length:i},(e,t)=>t+1).map(e=>ct.jsx("button",{onClick:()=>s(e),className:"relative inline-flex items-center px-4 py-2 border text-sm font-medium "+(n===e?"z-10 bg-teal-primary border-teal-primary text-white":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"),children:e},e)),ct.jsx("button",{onClick:()=>s(Math.min(n+1,i)),disabled:n===i,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Prxima"})]})]})]})]}):ct.jsxs("div",{className:"text-center py-12",children:[ct.jsx(T,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),ct.jsx("h3",{className:"text-lg font-medium text-navy mb-2",children:"Nenhum inscrito encontrado"}),ct.jsx("p",{className:"text-text-secondary mb-6",children:e?"Tente ajustar os filtros ou busca.":"Nenhum email cadastrado na newsletter."})]})})]}),d.isOpen&&ct.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:ct.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full mx-4",children:[ct.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[ct.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirmar Excluso"}),ct.jsx("button",{onClick:b,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:ct.jsx(k,{className:"w-5 h-5 text-gray-500"})})]}),ct.jsxs("div",{className:"p-6",children:[ct.jsxs("div",{className:"flex items-center mb-4",children:[ct.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mr-4",children:ct.jsx(ue,{className:"w-6 h-6 text-red-600"})}),ct.jsxs("div",{children:[ct.jsx("p",{className:"text-gray-900 font-medium",children:d.isBulk?`Tem certeza que deseja remover ${d.emails.length} emails?`:"Tem certeza que deseja remover este email?"}),ct.jsx("div",{className:"text-gray-600 text-sm mt-1",children:d.isBulk?ct.jsx("div",{className:"max-h-32 overflow-y-auto",children:d.emails.map((e,t)=>ct.jsxs("div",{children:[" ",e]},t))}):d.emails[0]})]})]}),ct.jsxs("div",{className:"flex justify-end space-x-3",children:[ct.jsx("button",{onClick:b,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),ct.jsx("button",{onClick:async()=>{try{for(const e of d.ids)await x(e);A.success(d.isBulk?`${d.ids.length} emails removidos com sucesso!`:"Email removido com sucesso!"),u({isOpen:!1,emails:[],ids:[],isBulk:!1}),p(new Set)}catch(cR){A.error("Erro ao remover emails")}},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Confirmar Excluso"})]})]})]})})]})]})},yy=({value:e,onChange:t,placeholder:n="Clique para fazer upload da imagem",className:s="",maxSize:i=5242880,aspectRatio:o="free"})=>{const[a,l]=r.useState(!1),[c,d]=r.useState(!1),[u,h]=r.useState(!1),[p,m]=r.useState(""),f=r.useRef(null),g=async e=>{if(e)try{(e=>{if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(e.type))throw new Error("Tipo de arquivo no permitido. Use JPG, PNG, GIF ou WebP.");if(e.size>5242880)throw new Error("Arquivo muito grande. Tamanho mximo: 5MB.")})(e),l(!0);const n=new FormData;n.append("file",e),n.append("upload_preset","seu-upload-preset"),n.append("folder","opine-agora");const r=await fetch("https://api.cloudinary.com/v1_1/dhalhzqo7/image/upload",{method:"POST",body:n});if(!r.ok)throw new Error("Falha no upload da imagem");const s=await r.json();if(!s.secure_url)throw new Error("URL no retornada pelo Cloudinary");t(s.secure_url),A.success("Imagem enviada com sucesso!")}catch(cR){console.error("Upload error:",cR),A.error(cR.message||"Erro ao fazer upload da imagem")}finally{l(!1)}},x=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?d(!0):"dragleave"===e.type&&d(!1)};return ct.jsxs("div",{className:`space-y-2 ${s}`,children:[ct.jsx("input",{ref:f,type:"file",accept:"image/*",onChange:e=>{const t=e.target.files?.[0];t&&g(t)},className:"hidden"}),e?ct.jsxs("div",{className:"relative group",children:[ct.jsx("div",{className:"aspect-video bg-gray-100 rounded-lg overflow-hidden",children:ct.jsx("img",{src:e,alt:"Preview",className:"w-full h-full object-cover"})}),ct.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center space-x-2",children:[ct.jsx("button",{onClick:()=>f.current?.click(),className:"p-2 bg-white rounded-full hover:bg-gray-100 transition-colors",title:"Trocar imagem",children:ct.jsx(he,{className:"w-4 h-4 text-gray-700"})}),ct.jsx("button",{onClick:()=>{t(""),f.current&&(f.current.value="")},className:"p-2 bg-red-500 rounded-full hover:bg-red-600 transition-colors",title:"Remover imagem",children:ct.jsx(k,{className:"w-4 h-4 text-white"})})]})]}):ct.jsx("div",{className:`relative border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer\n            ${c?"border-teal-primary bg-teal-50":"border-gray-300 hover:border-teal-primary hover:bg-teal-50"}\n            ${a?"pointer-events-none opacity-50":""}\n          `,onDragEnter:x,onDragLeave:x,onDragOver:x,onDrop:e=>{e.preventDefault(),e.stopPropagation(),d(!1);const t=e.dataTransfer.files?.[0];t&&g(t)},onClick:()=>!a&&f.current?.click(),children:a?ct.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[ct.jsx(b,{className:"w-8 h-8 text-teal-primary animate-spin"}),ct.jsx("p",{className:"text-sm text-text-secondary",children:"Enviando imagem..."}),ct.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:ct.jsx("div",{className:"bg-teal-primary h-2 rounded-full transition-all duration-300",style:{width:"75%"}})})]}):ct.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[ct.jsx(he,{className:"w-8 h-8 text-gray-400"}),ct.jsxs("div",{children:[ct.jsx("p",{className:"text-sm font-medium text-navy",children:n}),ct.jsx("p",{className:"text-xs text-text-secondary mt-1",children:"ou arraste e solte uma imagem aqui"})]}),ct.jsxs("p",{className:"text-xs text-text-secondary",children:["Formatos: JPG, PNG, GIF, WebP (mx."," ",(e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]})(i),")"]})]})}),ct.jsxs("div",{className:"flex items-center space-x-2",children:[ct.jsxs("button",{type:"button",onClick:()=>h(!u),className:"flex items-center space-x-2 px-3 py-2 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[ct.jsx(pe,{className:"w-4 h-4"}),ct.jsx("span",{children:"Adicionar URL"})]}),!e&&ct.jsxs("button",{type:"button",onClick:()=>f.current?.click(),disabled:a,className:"flex items-center space-x-2 px-3 py-2 text-sm bg-teal-primary hover:bg-teal-900 text-white rounded-lg transition-colors disabled:opacity-50",children:[ct.jsx(he,{className:"w-4 h-4"}),ct.jsx("span",{children:"Upload"})]})]}),u&&!e&&ct.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-lg",children:[ct.jsx("input",{type:"url",value:p,onChange:e=>m(e.target.value),placeholder:"https://exemplo.com/imagem.jpg",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent"}),ct.jsx("button",{onClick:()=>{if(p.trim())try{new URL(p),t(p.trim()),m(""),h(!1),A.success("URL da imagem adicionada com sucesso!")}catch(cR){A.error("URL invlida. Por favor, insira uma URL completa.")}else A.error("Por favor, insira uma URL vlida")},className:"px-4 py-2 bg-teal-primary hover:bg-teal-900 text-white rounded-lg transition-colors",children:"Adicionar"}),ct.jsx("button",{onClick:()=>{h(!1),m("")},className:"px-4 py-2 bg-gray-300 hover:bg-gray-400 text-gray-700 rounded-lg transition-colors",children:"Cancelar"})]}),e&&ct.jsx("div",{className:"text-xs text-text-secondary",children:ct.jsxs("p",{children:["URL: ",e]})})]})},vy=({data:e,onChange:t,preview:n=!1})=>{const[s,i]=r.useState(!1!==e.showInBody),o=(e,n)=>{t&&t({[e]:n})};return n?e.imageUrl&&!1!==s?ct.jsxs("div",{className:"my-8",children:[ct.jsx("img",{src:e.imageUrl,alt:e.alt||"",className:"w-full rounded-xl shadow-lg"}),e.title&&ct.jsx("div",{className:"mt-4 text-center",children:ct.jsx("h2",{className:"text-3xl font-bold text-navy",children:e.title})})]}):null:ct.jsxs("div",{className:"space-y-4",children:[ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"Ttulo da Capa"}),ct.jsx("input",{type:"text",value:e.title||"",onChange:e=>o("title",e.target.value),placeholder:"Digite o ttulo principal...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent"})]}),ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"Imagem da Capa"}),ct.jsx(yy,{value:e.imageUrl||"",onChange:e=>o("imageUrl",e),placeholder:"Clique para fazer upload da imagem de capa",aspectRatio:"16:9"})]}),e.imageUrl&&ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"Texto Alternativo (Alt)"}),ct.jsx("input",{type:"text",value:e.alt||"",onChange:e=>o("alt",e.target.value),placeholder:"Descreva a imagem para acessibilidade...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent"})]}),ct.jsxs("div",{className:"flex items-center space-x-2",children:[ct.jsx("input",{type:"checkbox",id:"showInBody",checked:s,onChange:e=>{i(e.target.checked),o("showInBody",e.target.checked)},className:"w-4 h-4 text-teal-primary border-gray-300 rounded focus:ring-teal-primary"}),ct.jsx("label",{htmlFor:"showInBody",className:"text-sm text-navy",children:"Exibir imagem no corpo da matria"})]})]})};var by,wy,ky={exports:{}},jy={};function Ny(){return wy||(wy=1,ky.exports=function(){if(by)return jy;by=1;var t=e(),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=t.useState,s=t.useEffect,i=t.useLayoutEffect,o=t.useDebugValue;function a(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!n(e,r)}catch(cR){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),l=r({inst:{value:n,getSnapshot:t}}),c=l[0].inst,d=l[1];return i(function(){c.value=n,c.getSnapshot=t,a(c)&&d({inst:c})},[e,n,t]),s(function(){return a(c)&&d({inst:c}),e(function(){a(c)&&d({inst:c})})},[e]),o(n),n};return jy.useSyncExternalStore=void 0!==t.useSyncExternalStore?t.useSyncExternalStore:l,jy}()),ky.exports}var Cy=Ny();function Sy(e){this.content=e}function Ey(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let s=e.child(r),i=t.child(r);if(s!=i){if(!s.sameMarkup(i))return n;if(s.isText&&s.text!=i.text){for(let e=0;s.text[e]==i.text[e];e++)n++;return n}if(s.content.size||i.content.size){let e=Ey(s.content,i.content,n+1);if(null!=e)return e}n+=s.nodeSize}else n+=s.nodeSize}}function Ty(e,t,n,r){for(let s=e.childCount,i=t.childCount;;){if(0==s||0==i)return s==i?null:{a:n,b:r};let o=e.child(--s),a=t.child(--i),l=o.nodeSize;if(o!=a){if(!o.sameMarkup(a))return{a:n,b:r};if(o.isText&&o.text!=a.text){let e=0,t=Math.min(o.text.length,a.text.length);for(;e<t&&o.text[o.text.length-e-1]==a.text[a.text.length-e-1];)e++,n--,r--;return{a:n,b:r}}if(o.content.size||a.content.size){let e=Ty(o.content,a.content,n-1,r-1);if(e)return e}n-=l,r-=l}else n-=l,r-=l}}Sy.prototype={constructor:Sy,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,s=r.find(e),i=r.content.slice();return-1==s?i.push(n||e,t):(i[s+1]=t,n&&(i[s]=n)),new Sy(i)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new Sy(n)},addToStart:function(e,t){return new Sy([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new Sy(n)},addBefore:function(e,t,n){var r=this.remove(t),s=r.content.slice(),i=r.find(e);return s.splice(-1==i?s.length:i,0,t,n),new Sy(s)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=Sy.from(e)).size?new Sy(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=Sy.from(e)).size?new Sy(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Sy.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}},Sy.from=function(e){if(e instanceof Sy)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new Sy(t)};class Ay{constructor(e,t){if(this.content=e,this.size=t||0,null==t)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,t,n,r=0,s){for(let i=0,o=0;o<t;i++){let a=this.content[i],l=o+a.nodeSize;if(l>e&&!1!==n(a,r+o,s||null,i)&&a.content.size){let s=o+1;a.nodesBetween(Math.max(0,e-s),Math.min(a.content.size,t-s),n,r+s)}o=l}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,r){let s="",i=!0;return this.nodesBetween(e,t,(o,a)=>{let l=o.isText?o.text.slice(Math.max(e,a)-a,t-a):o.isLeaf?r?"function"==typeof r?r(o):r:o.type.spec.leafText?o.type.spec.leafText(o):"":"";o.isBlock&&(o.isLeaf&&l||o.isTextblock)&&n&&(i?i=!1:s+=n),s+=l},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,r=this.content.slice(),s=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),s=1);s<e.content.length;s++)r.push(e.content[s]);return new Ay(r,this.size+e.size)}cut(e,t=this.size){if(0==e&&t==this.size)return this;let n=[],r=0;if(t>e)for(let s=0,i=0;i<t;s++){let o=this.content[s],a=i+o.nodeSize;a>e&&((i<e||a>t)&&(o=o.isText?o.cut(Math.max(0,e-i),Math.min(o.text.length,t-i)):o.cut(Math.max(0,e-i-1),Math.min(o.content.size,t-i-1))),n.push(o),r+=o.nodeSize),i=a}return new Ay(n,r)}cutByIndex(e,t){return e==t?Ay.empty:0==e&&t==this.content.length?this:new Ay(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let r=this.content.slice(),s=this.size+t.nodeSize-n.nodeSize;return r[e]=t,new Ay(r,s)}addToStart(e){return new Ay([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Ay(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let r=this.content[t];e(r,n,t),n+=r.nodeSize}}findDiffStart(e,t=0){return Ey(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return Ty(this,e,t,n)}findIndex(e){if(0==e)return Dy(0,e);if(e==this.size)return Dy(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let t=0,n=0;;t++){let r=n+this.child(t).nodeSize;if(r>=e)return r==e?Dy(t+1,r):Dy(t,n);n=r}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return Ay.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new Ay(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Ay.empty;let t,n=0;for(let r=0;r<e.length;r++){let s=e[r];n+=s.nodeSize,r&&s.isText&&e[r-1].sameMarkup(s)?(t||(t=e.slice(0,r)),t[t.length-1]=s.withText(t[t.length-1].text+s.text)):t&&t.push(s)}return new Ay(t||e,n)}static from(e){if(!e)return Ay.empty;if(e instanceof Ay)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Ay([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Ay.empty=new Ay([],0);const My={index:0,offset:0};function Dy(e,t){return My.index=e,My.offset=t,My}function Oy(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!Oy(e[n],t[n]))return!1}else{for(let n in e)if(!(n in t)||!Oy(e[n],t[n]))return!1;for(let n in t)if(!(n in e))return!1}return!0}let Py=class e{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let r=0;r<e.length;r++){let s=e[r];if(this.eq(s))return e;if(this.type.excludes(s.type))t||(t=e.slice(0,r));else{if(s.type.excludes(this.type))return e;!n&&s.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(s)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Oy(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError(`There is no mark type ${t.type} in this schema`);let r=n.create(t.attrs);return n.checkAttrs(r.attrs),r}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&0==t.length)return e.none;if(t instanceof e)return[t];let n=t.slice();return n.sort((e,t)=>e.type.rank-t.type.rank),n}};Py.none=[];class _y extends Error{}class Iy{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=Ry(this.content,e+this.openStart,t);return n&&new Iy(n,this.openStart,this.openEnd)}removeBetween(e,t){return new Iy(Ly(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return Iy.empty;let n=t.openStart||0,r=t.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new Iy(Ay.fromJSON(e,t.content),n,r)}static maxOpen(e,t=!0){let n=0,r=0;for(let s=e.firstChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.firstChild)n++;for(let s=e.lastChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.lastChild)r++;return new Iy(e,n,r)}}function Ly(e,t,n){let{index:r,offset:s}=e.findIndex(t),i=e.maybeChild(r),{index:o,offset:a}=e.findIndex(n);if(s==t||i.isText){if(a!=n&&!e.child(o).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return e.replaceChild(r,i.copy(Ly(i.content,t-s-1,n-s-1)))}function Ry(e,t,n,r){let{index:s,offset:i}=e.findIndex(t),o=e.maybeChild(s);if(i==t||o.isText)return r&&!r.canReplace(s,s,n)?null:e.cut(0,t).append(n).append(e.cut(t));let a=Ry(o.content,t-i-1,n,o);return a&&e.replaceChild(s,o.copy(a))}function zy(e,t,n){if(n.openStart>e.depth)throw new _y("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new _y("Inconsistent open depths");return Fy(e,t,n,0)}function Fy(e,t,n,r){let s=e.index(r),i=e.node(r);if(s==t.index(r)&&r<e.depth-n.openStart){let o=Fy(e,t,n,r+1);return i.copy(i.content.replaceChild(s,o))}if(n.content.size){if(n.openStart||n.openEnd||e.depth!=r||t.depth!=r){let{start:s,end:o}=function(e,t){let n=t.depth-e.openStart,r=t.node(n).copy(e.content);for(let s=n-1;s>=0;s--)r=t.node(s).copy(Ay.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}(n,e);return Hy(i,Uy(e,s,o,t,r))}{let r=e.parent,s=r.content;return Hy(r,s.cut(0,e.parentOffset).append(n.content).append(s.cut(t.parentOffset)))}}return Hy(i,Wy(e,t,r))}function By(e,t){if(!t.type.compatibleContent(e.type))throw new _y("Cannot join "+t.type.name+" onto "+e.type.name)}function $y(e,t,n){let r=e.node(n);return By(r,t.node(n)),r}function Vy(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function qy(e,t,n,r){let s=(t||e).node(n),i=0,o=t?t.index(n):s.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(Vy(e.nodeAfter,r),i++));for(let a=i;a<o;a++)Vy(s.child(a),r);t&&t.depth==n&&t.textOffset&&Vy(t.nodeBefore,r)}function Hy(e,t){return e.type.checkContent(t),e.copy(t)}function Uy(e,t,n,r,s){let i=e.depth>s&&$y(e,t,s+1),o=r.depth>s&&$y(n,r,s+1),a=[];return qy(null,e,s,a),i&&o&&t.index(s)==n.index(s)?(By(i,o),Vy(Hy(i,Uy(e,t,n,r,s+1)),a)):(i&&Vy(Hy(i,Wy(e,t,s+1)),a),qy(t,n,s,a),o&&Vy(Hy(o,Wy(n,r,s+1)),a)),qy(r,null,s,a),new Ay(a)}function Wy(e,t,n){let r=[];if(qy(null,e,n,r),e.depth>n){Vy(Hy($y(e,t,n+1),Wy(e,t,n+1)),r)}return qy(t,null,n,r),new Ay(r)}Iy.empty=new Iy(Ay.empty,0,0);class Gy{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return null==e?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[3*this.resolveDepth(e)]}index(e){return this.path[3*this.resolveDepth(e)+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}start(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]}after(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[3*t],r=0==t?0:this.path[3*t-1]+1;for(let s=0;s<e;s++)r+=n.child(s).nodeSize;return r}marks(){let e=this.parent,t=this.index();if(0==e.content.size)return Py.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){let e=n;n=r,r=e}let s=n.marks;for(var i=0;i<s.length;i++)!1!==s[i].type.spec.inclusive||r&&s[i].isInSet(r.marks)||(s=s[i--].removeFromSet(s));return s}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,r=e.parent.maybeChild(e.index());for(var s=0;s<n.length;s++)!1!==n[s].type.spec.inclusive||r&&n[s].isInSet(r.marks)||(n=n[s--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new Xy(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],r=0,s=t;for(let i=e;;){let{index:e,offset:t}=i.content.findIndex(s),o=s-t;if(n.push(i,e,r+t),!o)break;if(i=i.child(e),i.isText)break;s=o-1,r+=t+1}return new Gy(t,n,s)}static resolveCached(e,t){let n=Yy.get(e);if(n)for(let s=0;s<n.elts.length;s++){let e=n.elts[s];if(e.pos==t)return e}else Yy.set(e,n=new Ky);let r=n.elts[n.i]=Gy.resolve(e,t);return n.i=(n.i+1)%Jy,r}}class Ky{constructor(){this.elts=[],this.i=0}}const Jy=12,Yy=new WeakMap;class Xy{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Zy=Object.create(null);let Qy=class e{constructor(e,t,n,r=Py.none){this.type=e,this.attrs=t,this.marks=r,this.content=n||Ay.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,r=0){this.content.nodesBetween(e,t,n,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,r){return this.content.textBetween(e,t,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&Oy(this.attrs,t||e.defaultAttrs||Zy)&&Py.sameSet(this.marks,n||Py.none)}copy(t=null){return t==this.content?this:new e(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new e(this.type,this.attrs,this.content,t)}cut(e,t=this.content.size){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){if(e==t)return Iy.empty;let r=this.resolve(e),s=this.resolve(t),i=n?0:r.sharedDepth(t),o=r.start(i),a=r.node(i).content.cut(r.pos-o,s.pos-o);return new Iy(a,r.depth-i,s.depth-i)}replace(e,t,n){return zy(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:r}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(r==e||t.isText)return t;e-=r+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(0==e)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let r=this.content.child(t-1);return{node:r,index:t-1,offset:n-r.nodeSize}}resolve(e){return Gy.resolveCached(this,e)}resolveNoCache(e){return Gy.resolve(this,e)}rangeHasMark(e,t,n){let r=!1;return t>e&&this.nodesBetween(e,t,e=>(n.isInSet(e.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),tv(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,n=Ay.empty,r=0,s=n.childCount){let i=this.contentMatchAt(e).matchFragment(n,r,s),o=i&&i.matchFragment(this.content,t);if(!o||!o.validEnd)return!1;for(let a=r;a<s;a++)if(!this.type.allowsMarks(n.child(a).marks))return!1;return!0}canReplaceWith(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;let s=this.contentMatchAt(e).matchType(n),i=s&&s.matchFragment(this.content,t);return!!i&&i.validEnd}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Py.none;for(let t=0;t<this.marks.length;t++){let n=this.marks[t];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!Py.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(e=>e.type.name)}`);this.content.forEach(e=>e.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(e=>e.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let r=Ay.fromJSON(e,t.content),s=e.nodeType(t.type).create(t.attrs,r,n);return s.type.checkAttrs(s.attrs),s}};Qy.prototype.text=void 0;class ev extends Qy{constructor(e,t,n,r){if(super(e,t,null,r),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):tv(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new ev(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new ev(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return 0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function tv(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class nv{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new rv(e,t);if(null==n.next)return nv.empty;let r=sv(n);n.next&&n.err("Unexpected trailing text");let s=function(e){let t=Object.create(null);return n(dv(e,0));function n(r){let s=[];r.forEach(t=>{e[t].forEach(({term:t,to:n})=>{if(!t)return;let r;for(let e=0;e<s.length;e++)s[e][0]==t&&(r=s[e][1]);dv(e,n).forEach(e=>{r||s.push([t,r=[]]),-1==r.indexOf(e)&&r.push(e)})})});let i=t[r.join(",")]=new nv(r.indexOf(e.length-1)>-1);for(let e=0;e<s.length;e++){let r=s[e][1].sort(cv);i.next.push({type:s[e][0],next:t[r.join(",")]||n(r)})}return i}}(function(e){let t=[[]];return s(i(e,0),n()),t;function n(){return t.push([])-1}function r(e,n,r){let s={term:r,to:n};return t[e].push(s),s}function s(e,t){e.forEach(e=>e.to=t)}function i(e,t){if("choice"==e.type)return e.exprs.reduce((e,n)=>e.concat(i(n,t)),[]);if("seq"!=e.type){if("star"==e.type){let o=n();return r(t,o),s(i(e.expr,o),o),[r(o)]}if("plus"==e.type){let o=n();return s(i(e.expr,t),o),s(i(e.expr,o),o),[r(o)]}if("opt"==e.type)return[r(t)].concat(i(e.expr,t));if("range"==e.type){let o=t;for(let t=0;t<e.min;t++){let t=n();s(i(e.expr,o),t),o=t}if(-1==e.max)s(i(e.expr,o),o);else for(let t=e.min;t<e.max;t++){let t=n();r(o,t),s(i(e.expr,o),t),o=t}return[r(o)]}if("name"==e.type)return[r(t,void 0,e.value)];throw new Error("Unknown expr type")}for(let r=0;;r++){let o=i(e.exprs[r],t);if(r==e.exprs.length-1)return o;s(o,t=n())}}}(r));return function(e,t){for(let n=0,r=[e];n<r.length;n++){let e=r[n],s=!e.validEnd,i=[];for(let t=0;t<e.next.length;t++){let{type:n,next:o}=e.next[t];i.push(n.name),!s||n.isText||n.hasRequiredAttrs()||(s=!1),-1==r.indexOf(o)&&r.push(o)}s&&t.err("Only non-generatable nodes ("+i.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(s,n),s}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,n=e.childCount){let r=this;for(let s=t;r&&s<n;s++)r=r.matchType(e.child(s).type);return r}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e,t=!1,n=0){let r=[this];return function s(i,o){let a=i.matchFragment(e,n);if(a&&(!t||a.validEnd))return Ay.from(o.map(e=>e.createAndFill()));for(let e=0;e<i.next.length;e++){let{type:t,next:n}=i.next[e];if(!t.isText&&!t.hasRequiredAttrs()&&-1==r.indexOf(n)){r.push(n);let e=s(n,o.concat(t));if(e)return e}}return null}(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let r=n.shift(),s=r.match;if(s.matchType(e)){let e=[];for(let t=r;t.type;t=t.via)e.push(t.type);return e.reverse()}for(let e=0;e<s.next.length;e++){let{type:i,next:o}=s.next[e];i.isLeaf||i.hasRequiredAttrs()||i.name in t||r.type&&!o.validEnd||(n.push({match:i.contentMatch,type:i,via:r}),t[i.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];return function t(n){e.push(n);for(let r=0;r<n.next.length;r++)-1==e.indexOf(n.next[r].next)&&t(n.next[r].next)}(this),e.map((t,n)=>{let r=n+(t.validEnd?"*":" ")+" ";for(let s=0;s<t.next.length;s++)r+=(s?", ":"")+t.next[s].type.name+"->"+e.indexOf(t.next[s].next);return r}).join("\n")}}nv.empty=new nv(!0);class rv{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function sv(e){let t=[];do{t.push(iv(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function iv(e){let t=[];do{t.push(ov(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function ov(e){let t=function(e){if(e.eat("(")){let t=sv(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){let t=function(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let s=[];for(let i in n){let e=n[i];e.isInGroup(t)&&s.push(e)}0==s.length&&e.err("No node type or group '"+t+"' found");return s}(e,e.next).map(t=>(null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t}));return e.pos++,1==t.length?t[0]:{type:"choice",exprs:t}}e.err("Unexpected token '"+e.next+"'")}(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=lv(e,t)}return t}function av(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function lv(e,t){let n=av(e),r=n;return e.eat(",")&&(r="}"!=e.next?av(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function cv(e,t){return t-e}function dv(e,t){let n=[];return function t(r){let s=e[r];if(1==s.length&&!s[0].term)return t(s[0].to);n.push(r);for(let e=0;e<s.length;e++){let{term:r,to:i}=s[e];r||-1!=n.indexOf(i)||t(i)}}(t),n.sort(cv)}function uv(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function hv(e,t){let n=Object.create(null);for(let r in e){let s=t&&t[r];if(void 0===s){let t=e[r];if(!t.hasDefault)throw new RangeError("No value supplied for attribute "+r);s=t.default}n[r]=s}return n}function pv(e,t,n,r){for(let s in t)if(!(s in e))throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);for(let s in e){let n=e[s];n.validate&&n.validate(t[s])}}function mv(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new gv(e,r,t[r]);return n}let fv=class e{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=mv(e,n.attrs),this.defaultAttrs=uv(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==nv.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:hv(this.attrs,e)}create(e=null,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Qy(this,this.computeAttrs(e),Ay.from(t),Py.setFrom(n))}createChecked(e=null,t,n){return t=Ay.from(t),this.checkContent(t),new Qy(this,this.computeAttrs(e),t,Py.setFrom(n))}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),(t=Ay.from(t)).size){let e=this.contentMatch.fillBefore(t);if(!e)return null;t=e.append(t)}let r=this.contentMatch.matchFragment(t),s=r&&r.fillBefore(Ay.empty,!0);return s?new Qy(this,e,t.append(s),Py.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){pv(this.attrs,e,"node",this.name)}allowsMarkType(e){return null==this.markSet||this.markSet.indexOf(e)>-1}allowsMarks(e){if(null==this.markSet)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(null==this.markSet)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:Py.none:e}static compile(t,n){let r=Object.create(null);t.forEach((t,s)=>r[t]=new e(t,n,s));let s=n.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let e in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};class gv{constructor(e,t,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate="string"==typeof n.validate?function(e,t,n){let r=n.split("|");return n=>{let s=null===n?"null":typeof n;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${s}`)}}(e,t,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class xv{constructor(e,t,n,r){this.name=e,this.rank=t,this.schema=n,this.spec=r,this.attrs=mv(e,r.attrs),this.excluded=null;let s=uv(this.attrs);this.instance=s?new Py(this,s):null}create(e=null){return!e&&this.instance?this.instance:new Py(this,hv(this.attrs,e))}static compile(e,t){let n=Object.create(null),r=0;return e.forEach((e,s)=>n[e]=new xv(e,r++,t,s)),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){pv(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class yv{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let r in e)t[r]=e[r];t.nodes=Sy.from(e.nodes),t.marks=Sy.from(e.marks||{}),this.nodes=fv.compile(this.spec.nodes,this),this.marks=xv.compile(this.spec.marks,this);let n=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let e=this.nodes[r],t=e.spec.content||"",s=e.spec.marks;if(e.contentMatch=n[t]||(n[t]=nv.parse(t,this.nodes)),e.inlineContent=e.contentMatch.inlineContent,e.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!e.isInline||!e.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=e}e.markSet="_"==s?null:s?vv(this,s.split(" ")):""!=s&&e.inlineContent?null:[]}for(let r in this.marks){let e=this.marks[r],t=e.spec.excludes;e.excluded=null==t?[e]:""==t?[]:vv(this,t.split(" "))}this.nodeFromJSON=e=>Qy.fromJSON(this,e),this.markFromJSON=e=>Py.fromJSON(this,e),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,r){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof fv))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,r)}text(e,t){let n=this.nodes.text;return new ev(n,n.defaultAttrs,e,Py.setFrom(t))}mark(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function vv(e,t){let n=[];for(let r=0;r<t.length;r++){let s=t[r],i=e.marks[s],o=i;if(i)n.push(i);else for(let t in e.marks){let r=e.marks[t];("_"==s||r.spec.group&&r.spec.group.split(" ").indexOf(s)>-1)&&n.push(o=r)}if(!o)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}class bv{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let n=this.matchedStyles=[];t.forEach(e=>{if(function(e){return null!=e.tag}(e))this.tags.push(e);else if(function(e){return null!=e.style}(e)){let t=/[^=]*/.exec(e.style)[0];n.indexOf(t)<0&&n.push(t),this.styles.push(e)}}),this.normalizeLists=!this.tags.some(t=>{if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;let n=e.nodes[t.node];return n.contentMatch.matchType(n)})}parse(e,t={}){let n=new Sv(this,t,!1);return n.addAll(e,Py.none,t.from,t.to),n.finish()}parseSlice(e,t={}){let n=new Sv(this,t,!0);return n.addAll(e,Py.none,t.from,t.to),Iy.maxOpen(n.finish())}matchTag(e,t,n){for(let r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){let n=this.tags[r];if(Ev(e,n.tag)&&(void 0===n.namespace||e.namespaceURI==n.namespace)&&(!n.context||t.matchesContext(n.context))){if(n.getAttrs){let t=n.getAttrs(e);if(!1===t)continue;n.attrs=t||void 0}return n}}}matchStyle(e,t,n,r){for(let s=r?this.styles.indexOf(r)+1:0;s<this.styles.length;s++){let r=this.styles[s],i=r.style;if(!(0!=i.indexOf(e)||r.context&&!n.matchesContext(r.context)||i.length>e.length&&(61!=i.charCodeAt(e.length)||i.slice(e.length+1)!=t))){if(r.getAttrs){let e=r.getAttrs(t);if(!1===e)continue;r.attrs=e||void 0}return r}}}static schemaRules(e){let t=[];function n(e){let n=null==e.priority?50:e.priority,r=0;for(;r<t.length;r++){let e=t[r];if((null==e.priority?50:e.priority)<n)break}t.splice(r,0,e)}for(let r in e.marks){let t=e.marks[r].spec.parseDOM;t&&t.forEach(e=>{n(e=Tv(e)),e.mark||e.ignore||e.clearMark||(e.mark=r)})}for(let r in e.nodes){let t=e.nodes[r].spec.parseDOM;t&&t.forEach(e=>{n(e=Tv(e)),e.node||e.ignore||e.mark||(e.node=r)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new bv(e,bv.schemaRules(e)))}}const wv={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},kv={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},jv={ol:!0,ul:!0};function Nv(e,t,n){return null!=t?(t?1:0)|("full"===t?2:0):e&&"pre"==e.whitespace?3:-5&n}class Cv{constructor(e,t,n,r,s,i){this.type=e,this.attrs=t,this.marks=n,this.solid=r,this.options=i,this.content=[],this.activeMarks=Py.none,this.match=s||(4&i?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(Ay.from(e));if(!t){let t,n=this.type.contentMatch;return(t=n.findWrapping(e.type))?(this.match=n,t):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)}finish(e){if(!(1&this.options)){let e,t=this.content[this.content.length-1];if(t&&t.isText&&(e=/[ \t\r\n\u000c]+$/.exec(t.text))){let n=t;t.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length))}}let t=Ay.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(Ay.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!wv.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Sv{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let r,s=t.topNode,i=Nv(null,t.preserveWhitespace,0)|(n?4:0);r=s?new Cv(s.type,s.attrs,Py.none,!0,t.topMatch||s.type.contentMatch,i):new Cv(n?null:e.schema.topNodeType,null,Py.none,!0,null,i),this.nodes=[r],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){3==e.nodeType?this.addTextNode(e,t):1==e.nodeType&&this.addElement(e,t)}addTextNode(e,t){let n=e.nodeValue,r=this.top,s=2&r.options?"full":this.localPreserveWS||(1&r.options)>0,{schema:i}=this.parser;if("full"===s||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(s)if("full"===s)n=n.replace(/\r\n?/g,"\n");else if(i.linebreakReplacement&&/[\r\n]/.test(n)&&this.top.findWrapping(i.linebreakReplacement.create())){let e=n.split(/\r?\n|\r/);for(let n=0;n<e.length;n++)n&&this.insertNode(i.linebreakReplacement.create(),t,!0),e[n]&&this.insertNode(i.text(e[n]),t,!/\S/.test(e[n]));n=""}else n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let t=r.content[r.content.length-1],s=e.previousSibling;(!t||s&&"BR"==s.nodeName||t.isText&&/[ \t\r\n\u000c]$/.test(t.text))&&(n=n.slice(1))}n&&this.insertNode(i.text(n),t,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,t,n){let r=this.localPreserveWS,s=this.top;("PRE"==e.tagName||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let i,o=e.nodeName.toLowerCase();jv.hasOwnProperty(o)&&this.parser.normalizeLists&&function(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let e=1==t.nodeType?t.nodeName.toLowerCase():null;e&&jv.hasOwnProperty(e)&&n?(n.appendChild(t),t=n):"li"==e?n=t:e&&(n=null)}}(e);let a=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,n));e:if(a?a.ignore:kv.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,t);else if(!a||a.skip||a.closeParent){a&&a.closeParent?this.open=Math.max(0,this.open-1):a&&a.skip.nodeType&&(e=a.skip);let n,r=this.needsBlock;if(wv.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),n=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let i=a&&a.skip?t:this.readStyles(e,t);i&&this.addAll(e,i),n&&this.sync(s),this.needsBlock=r}else{let n=this.readStyles(e,t);n&&this.addElementByRule(e,a,n,!1===a.consuming?i:void 0)}this.localPreserveWS=r}leafFallback(e,t){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"),t)}ignoreFallback(e,t){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let n=e.style;if(n&&n.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let e=this.parser.matchedStyles[r],s=n.getPropertyValue(e);if(s)for(let n;;){let r=this.parser.matchStyle(e,s,this,n);if(!r)break;if(r.ignore)return null;if(t=r.clearMark?t.filter(e=>!r.clearMark(e)):t.concat(this.parser.schema.marks[r.mark].create(r.attrs)),!1!==r.consuming)break;n=r}}return t}addElementByRule(e,t,n,r){let s,i;if(t.node)if(i=this.parser.schema.nodes[t.node],i.isLeaf)this.insertNode(i.create(t.attrs),n,"BR"==e.nodeName)||this.leafFallback(e,n);else{let e=this.enter(i,t.attrs||null,n,t.preserveWhitespace);e&&(s=!0,n=e)}else{let e=this.parser.schema.marks[t.mark];n=n.concat(e.create(t.attrs))}let o=this.top;if(i&&i.isLeaf)this.findInside(e);else if(r)this.addElement(e,n,r);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(e=>this.insertNode(e,n,!1));else{let r=e;"string"==typeof t.contentElement?r=e.querySelector(t.contentElement):"function"==typeof t.contentElement?r=t.contentElement(e):t.contentElement&&(r=t.contentElement),this.findAround(e,r,!0),this.addAll(r,n),this.findAround(e,r,!1)}s&&this.sync(o)&&this.open--}addAll(e,t,n,r){let s=n||0;for(let i=n?e.childNodes[n]:e.firstChild,o=null==r?null:e.childNodes[r];i!=o;i=i.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(i,t);this.findAtPoint(e,s)}findPlace(e,t,n){let r,s;for(let i=this.open,o=0;i>=0;i--){let t=this.nodes[i],a=t.findWrapping(e);if(a&&(!r||r.length>a.length+o)&&(r=a,s=t,!a.length))break;if(t.solid){if(n)break;o+=2}}if(!r)return null;this.sync(s);for(let i=0;i<r.length;i++)t=this.enterInner(r[i],null,t,!1);return t}insertNode(e,t,n){if(e.isInline&&this.needsBlock&&!this.top.type){let e=this.textblockFromContext();e&&(t=this.enterInner(e,null,t))}let r=this.findPlace(e,t,n);if(r){this.closeExtra();let t=this.top;t.match&&(t.match=t.match.matchType(e.type));let n=Py.none;for(let s of r.concat(e.marks))(t.type?t.type.allowsMarkType(s.type):Av(s.type,e.type))&&(n=s.addToSet(n));return t.content.push(e.mark(n)),!0}return!1}enter(e,t,n,r){let s=this.findPlace(e.create(t),n,!1);return s&&(s=this.enterInner(e,t,n,!0,r)),s}enterInner(e,t,n,r=!1,s){this.closeExtra();let i=this.top;i.match=i.match&&i.match.matchType(e);let o=Nv(e,s,i.options);4&i.options&&0==i.content.length&&(o|=4);let a=Py.none;return n=n.filter(t=>!(i.type?i.type.allowsMarkType(t.type):Av(t.type,e))||(a=t.addToSet(a),!1)),this.nodes.push(new Cv(e,t,a,r,null,o)),this.open++,n}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!(!this.isOpen&&!this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=1)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let t=n.length-1;t>=0;t--)e+=n[t].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let r=0;r<this.find.length;r++)if(null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node)){t.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,r=!(this.isOpen||n&&n.parent.type!=this.nodes[0].type),s=-(n?n.depth+1:0)+(r?0:1),i=(e,o)=>{for(;e>=0;e--){let a=t[e];if(""==a){if(e==t.length-1||0==e)continue;for(;o>=s;o--)if(i(e-1,o))return!0;return!1}{let e=o>0||0==o&&r?this.nodes[o].type:n&&o>=s?n.node(o-s).type:null;if(!e||e.name!=a&&!e.isInGroup(a))return!1;o--}}return!0};return i(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let t in this.parser.schema.nodes){let e=this.parser.schema.nodes[t];if(e.isTextblock&&e.defaultAttrs)return e}}}function Ev(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function Tv(e){let t={};for(let n in e)t[n]=e[n];return t}function Av(e,t){let n=t.schema.nodes;for(let r in n){let s=n[r];if(!s.allowsMarkType(e))continue;let i=[],o=e=>{i.push(e);for(let n=0;n<e.edgeCount;n++){let{type:r,next:s}=e.edge(n);if(r==t)return!0;if(i.indexOf(s)<0&&o(s))return!0}};if(o(s.contentMatch))return!0}}class Mv{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},n){n||(n=Ov(t).createDocumentFragment());let r=n,s=[];return e.forEach(e=>{if(s.length||e.marks.length){let n=0,i=0;for(;n<s.length&&i<e.marks.length;){let t=e.marks[i];if(this.marks[t.type.name]){if(!t.eq(s[n][0])||!1===t.type.spec.spanning)break;n++,i++}else i++}for(;n<s.length;)r=s.pop()[1];for(;i<e.marks.length;){let n=e.marks[i++],o=this.serializeMark(n,e.isInline,t);o&&(s.push([n,r]),r.appendChild(o.dom),r=o.contentDOM||o.dom)}}r.appendChild(this.serializeNodeInner(e,t))}),n}serializeNodeInner(e,t){let{dom:n,contentDOM:r}=Iv(Ov(t),this.nodes[e.type.name](e),null,e.attrs);if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,r)}return n}serializeNode(e,t={}){let n=this.serializeNodeInner(e,t);for(let r=e.marks.length-1;r>=0;r--){let s=this.serializeMark(e.marks[r],e.isInline,t);s&&((s.contentDOM||s.dom).appendChild(n),n=s.dom)}return n}serializeMark(e,t,n={}){let r=this.marks[e.type.name];return r&&Iv(Ov(n),r(e,t),null,e.attrs)}static renderSpec(e,t,n=null,r){return Iv(e,t,n,r)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Mv(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=Dv(e.nodes);return t.text||(t.text=e=>e.text),t}static marksFromSchema(e){return Dv(e.marks)}}function Dv(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function Ov(e){return e.document||window.document}const Pv=new WeakMap;function _v(e){let t=Pv.get(e);return void 0===t&&Pv.set(e,t=function(e){let t=null;function n(e){if(e&&"object"==typeof e)if(Array.isArray(e))if("string"==typeof e[0])t||(t=[]),t.push(e);else for(let t=0;t<e.length;t++)n(e[t]);else for(let t in e)n(e[t])}return n(e),t}(e)),t}function Iv(e,t,n,r){if("string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;let s,i=t[0];if("string"!=typeof i)throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=_v(r))&&s.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o,a=i.indexOf(" ");a>0&&(n=i.slice(0,a),i=i.slice(a+1));let l=n?e.createElementNS(n,i):e.createElement(i),c=t[1],d=1;if(c&&"object"==typeof c&&null==c.nodeType&&!Array.isArray(c)){d=2;for(let e in c)if(null!=c[e]){let t=e.indexOf(" ");t>0?l.setAttributeNS(e.slice(0,t),e.slice(t+1),c[e]):"style"==e&&l.style?l.style.cssText=c[e]:l.setAttribute(e,c[e])}}for(let u=d;u<t.length;u++){let s=t[u];if(0===s){if(u<t.length-1||u>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}{let{dom:t,contentDOM:i}=Iv(e,s,n,r);if(l.appendChild(t),i){if(o)throw new RangeError("Multiple content holes");o=i}}}return{dom:l,contentDOM:o}}const Lv=Math.pow(2,16);function Rv(e,t){return e+t*Lv}function zv(e){return 65535&e}class Fv{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class Bv{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Bv.empty)return Bv.empty}recover(e){let t=0,n=zv(e);if(!this.inverted)for(let r=0;r<n;r++)t+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+t+function(e){return(e-(65535&e))/Lv}(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let r=0,s=this.inverted?2:1,i=this.inverted?1:2;for(let o=0;o<this.ranges.length;o+=3){let a=this.ranges[o]-(this.inverted?r:0);if(a>e)break;let l=this.ranges[o+s],c=this.ranges[o+i],d=a+l;if(e<=d){let s=a+r+((l?e==a?-1:e==d?1:t:t)<0?0:c);if(n)return s;let i=e==(t<0?a:d)?null:Rv(o/3,e-a),u=e==a?2:e==d?1:4;return(t<0?e!=a:e!=d)&&(u|=8),new Fv(s,u,i)}r+=c-l}return n?e+r:new Fv(e+r,0,null)}touches(e,t){let n=0,r=zv(t),s=this.inverted?2:1,i=this.inverted?1:2;for(let o=0;o<this.ranges.length;o+=3){let t=this.ranges[o]-(this.inverted?n:0);if(t>e)break;let a=this.ranges[o+s];if(e<=t+a&&o==3*r)return!0;n+=this.ranges[o+i]-a}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,s=0;r<this.ranges.length;r+=3){let i=this.ranges[r],o=i-(this.inverted?s:0),a=i+(this.inverted?0:s),l=this.ranges[r+t],c=this.ranges[r+n];e(o,o+l,a,a+c),s+=c-l}}invert(){return new Bv(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return 0==e?Bv.empty:new Bv(e<0?[0,-e,0]:[0,0,e])}}Bv.empty=new Bv([]);class $v{constructor(e,t,n=0,r=(e?e.length:0)){this.mirror=t,this.from=n,this.to=r,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new $v(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),null!=t&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,n=this._maps.length;t<e._maps.length;t++){let r=e.getMirror(t);this.appendMap(e._maps[t],null!=r&&r<t?n+r:void 0)}}getMirror(e){if(this.mirror)for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this._maps.length+e._maps.length;t>=0;t--){let r=e.getMirror(t);this.appendMap(e._maps[t].invert(),null!=r&&r>t?n-r-1:void 0)}}invert(){let e=new $v;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let r=0;for(let s=this.from;s<this.to;s++){let n=this._maps[s].mapResult(e,t);if(null!=n.recover){let t=this.getMirror(s);if(null!=t&&t>s&&t<this.to){s=t,e=this._maps[t].recover(n.recover);continue}}r|=n.delInfo,e=n.pos}return n?e:new Fv(e,r,null)}}const Vv=Object.create(null);class qv{getMap(){return Bv.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=Vv[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in Vv)throw new RangeError("Duplicate use of step JSON ID "+e);return Vv[e]=t,t.prototype.jsonID=e,t}}class Hv{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Hv(e,null)}static fail(e){return new Hv(null,e)}static fromReplace(e,t,n,r){try{return Hv.ok(e.replace(t,n,r))}catch(s){if(s instanceof _y)return Hv.fail(s.message);throw s}}}function Uv(e,t,n){let r=[];for(let s=0;s<e.childCount;s++){let i=e.child(s);i.content.size&&(i=i.copy(Uv(i.content,t,i))),i.isInline&&(i=t(i,n,s)),r.push(i)}return Ay.fromArray(r)}class Wv extends qv{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),r=n.node(n.sharedDepth(this.to)),s=new Iy(Uv(t.content,(e,t)=>e.isAtom&&t.type.allowsMarkType(this.mark.type)?e.mark(this.mark.addToSet(e.marks)):e,r),t.openStart,t.openEnd);return Hv.fromReplace(e,this.from,this.to,s)}invert(){return new Gv(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new Wv(t.pos,n.pos,this.mark)}merge(e){return e instanceof Wv&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Wv(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Wv(t.from,t.to,e.markFromJSON(t.mark))}}qv.jsonID("addMark",Wv);class Gv extends qv{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new Iy(Uv(t.content,e=>e.mark(this.mark.removeFromSet(e.marks)),e),t.openStart,t.openEnd);return Hv.fromReplace(e,this.from,this.to,n)}invert(){return new Wv(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new Gv(t.pos,n.pos,this.mark)}merge(e){return e instanceof Gv&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Gv(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Gv(t.from,t.to,e.markFromJSON(t.mark))}}qv.jsonID("removeMark",Gv);class Kv extends qv{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Hv.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Hv.fromReplace(e,this.pos,this.pos+1,new Iy(Ay.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let e=this.mark.addToSet(t.marks);if(e.length==t.marks.length){for(let n=0;n<t.marks.length;n++)if(!t.marks[n].isInSet(e))return new Kv(this.pos,t.marks[n]);return new Kv(this.pos,this.mark)}}return new Jv(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Kv(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Kv(t.pos,e.markFromJSON(t.mark))}}qv.jsonID("addNodeMark",Kv);class Jv extends qv{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Hv.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Hv.fromReplace(e,this.pos,this.pos+1,new Iy(Ay.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return t&&this.mark.isInSet(t.marks)?new Kv(this.pos,this.mark):this}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Jv(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Jv(t.pos,e.markFromJSON(t.mark))}}qv.jsonID("removeNodeMark",Jv);class Yv extends qv{constructor(e,t,n,r=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=r}apply(e){return this.structure&&Zv(e,this.from,this.to)?Hv.fail("Structure replace would overwrite content"):Hv.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Bv([this.from,this.to-this.from,this.slice.size])}invert(e){return new Yv(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new Yv(t.pos,Math.max(t.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Yv)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;{let t=this.slice.size+e.slice.size==0?Iy.empty:new Iy(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Yv(e.from,this.to,t,this.structure)}}{let t=this.slice.size+e.slice.size==0?Iy.empty:new Iy(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Yv(this.from,this.to+(e.to-e.from),t,this.structure)}}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Yv(t.from,t.to,Iy.fromJSON(e,t.slice),!!t.structure)}}qv.jsonID("replace",Yv);class Xv extends qv{constructor(e,t,n,r,s,i,o=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=r,this.slice=s,this.insert=i,this.structure=o}apply(e){if(this.structure&&(Zv(e,this.from,this.gapFrom)||Zv(e,this.gapTo,this.to)))return Hv.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Hv.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?Hv.fromReplace(e,this.from,this.to,n):Hv.fail("Content does not fit in gap")}getMap(){return new Bv([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Xv(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),r=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||r<t.pos||s>n.pos?null:new Xv(t.pos,n.pos,r,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to||"number"!=typeof t.gapFrom||"number"!=typeof t.gapTo||"number"!=typeof t.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Xv(t.from,t.to,t.gapFrom,t.gapTo,Iy.fromJSON(e,t.slice),t.insert,!!t.structure)}}function Zv(e,t,n){let r=e.resolve(t),s=n-t,i=r.depth;for(;s>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,s--;if(s>0){let e=r.node(i).maybeChild(r.indexAfter(i));for(;s>0;){if(!e||e.isLeaf)return!0;e=e.firstChild,s--}}return!1}function Qv(e,t,n,r=n.contentMatch,s=!0){let i=e.doc.nodeAt(t),o=[],a=t+1;for(let l=0;l<i.childCount;l++){let t=i.child(l),c=a+t.nodeSize,d=r.matchType(t.type);if(d){r=d;for(let r=0;r<t.marks.length;r++)n.allowsMarkType(t.marks[r].type)||e.step(new Gv(a,c,t.marks[r]));if(s&&t.isText&&"pre"!=n.whitespace){let e,r,s=/\r?\n|\r/g;for(;e=s.exec(t.text);)r||(r=new Iy(Ay.from(n.schema.text(" ",n.allowedMarks(t.marks))),0,0)),o.push(new Yv(a+e.index,a+e.index+e[0].length,r))}}else o.push(new Yv(a,c,Iy.empty));a=c}if(!r.validEnd){let t=r.fillBefore(Ay.empty,!0);e.replace(a,a,new Iy(t,0,0))}for(let l=o.length-1;l>=0;l--)e.step(o[l])}function eb(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function tb(e){let t=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let n=e.depth,r=0,s=0;;--n){let i=e.$from.node(n),o=e.$from.index(n)+r,a=e.$to.indexAfter(n)-s;if(n<e.depth&&i.canReplace(o,a,t))return n;if(0==n||i.type.spec.isolating||!eb(i,o,a))break;o&&(r=1),a<i.childCount&&(s=1)}return null}function nb(e,t,n=null,r=e){let s=function(e,t){let{parent:n,startIndex:r,endIndex:s}=e,i=n.contentMatchAt(r).findWrapping(t);if(!i)return null;let o=i.length?i[0]:t;return n.canReplaceWith(r,s,o)?i:null}(e,t),i=s&&function(e,t){let{parent:n,startIndex:r,endIndex:s}=e,i=n.child(r),o=t.contentMatch.findWrapping(i.type);if(!o)return null;let a=(o.length?o[o.length-1]:t).contentMatch;for(let l=r;a&&l<s;l++)a=a.matchType(n.child(l).type);return a&&a.validEnd?o:null}(r,t);return i?s.map(rb).concat({type:t,attrs:n}).concat(i.map(rb)):null}function rb(e){return{type:e,attrs:null}}function sb(e,t,n,r){t.forEach((s,i)=>{if(s.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(s.text);){let s=e.mapping.slice(r).map(n+1+i+o.index);e.replaceWith(s,s+1,t.type.schema.linebreakReplacement.create())}}})}function ib(e,t,n,r){t.forEach((s,i)=>{if(s.type==s.type.schema.linebreakReplacement){let s=e.mapping.slice(r).map(n+1+i);e.replaceWith(s,s+1,t.type.schema.text("\n"))}})}function ob(e,t,n=1,r){let s=e.resolve(t),i=s.depth-n,o=r&&r[r.length-1]||s.parent;if(i<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!o.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let c=s.depth-1,d=n-2;c>i;c--,d--){let e=s.node(c),t=s.index(c);if(e.type.spec.isolating)return!1;let n=e.content.cutByIndex(t,e.childCount),i=r&&r[d+1];i&&(n=n.replaceChild(0,i.type.create(i.attrs)));let o=r&&r[d]||e;if(!e.canReplace(t+1,e.childCount)||!o.type.validContent(n))return!1}let a=s.indexAfter(i),l=r&&r[0];return s.node(i).canReplaceWith(a,a,l?l.type:s.node(i+1).type)}function ab(e,t){let n=e.resolve(t),r=n.index();return lb(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function lb(e,t){return!(!e||!t||e.isLeaf||!function(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let s=0;s<t.childCount;s++){let i=t.child(s),o=i.type==r?e.type.schema.nodes.text:i.type;if(n=n.matchType(o),!n)return!1;if(!e.type.allowsMarks(i.marks))return!1}return n.validEnd}(e,t))}function cb(e,t,n=-1){let r=e.resolve(t);for(let s=r.depth;;s--){let e,i,o=r.index(s);if(s==r.depth?(e=r.nodeBefore,i=r.nodeAfter):n>0?(e=r.node(s+1),o++,i=r.node(s).maybeChild(o)):(e=r.node(s).maybeChild(o-1),i=r.node(s+1)),e&&!e.isTextblock&&lb(e,i)&&r.node(s).canReplace(o,o+1))return t;if(0==s)break;t=n<0?r.before(s):r.after(s)}}function db(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let s=n.content;for(let i=0;i<n.openStart;i++)s=s.firstChild.content;for(let i=1;i<=(0==n.openStart&&n.size?2:1);i++)for(let e=r.depth;e>=0;e--){let t=e==r.depth?0:r.pos<=(r.start(e+1)+r.end(e+1))/2?-1:1,n=r.index(e)+(t>0?1:0),o=r.node(e),a=!1;if(1==i)a=o.canReplace(n,n,s);else{let e=o.contentMatchAt(n).findWrapping(s.firstChild.type);a=e&&o.canReplaceWith(n,n,e[0])}if(a)return 0==t?r.pos:t<0?r.before(e+1):r.after(e+1)}return null}function ub(e,t,n=t,r=Iy.empty){if(t==n&&!r.size)return null;let s=e.resolve(t),i=e.resolve(n);return hb(s,i,r)?new Yv(t,n,r):new pb(s,i,r).fit()}function hb(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}qv.jsonID("replaceAround",Xv);class pb{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=Ay.empty;for(let r=0;r<=e.depth;r++){let t=e.node(r);this.frontier.push({type:t.type,match:t.contentMatchAt(e.indexAfter(r))})}for(let r=e.depth;r>0;r--)this.placed=Ay.from(e.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,r=this.close(e<0?this.$to:n.doc.resolve(e));if(!r)return null;let s=this.placed,i=n.depth,o=r.depth;for(;i&&o&&1==s.childCount;)s=s.firstChild.content,i--,o--;let a=new Iy(s,i,o);return e>-1?new Xv(n.pos,e,this.$to.pos,this.$to.end(),a,t):a.size||n.pos!=this.$to.pos?new Yv(n.pos,r.pos,a):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,n=0,r=this.unplaced.openEnd;n<e;n++){let s=t.firstChild;if(t.childCount>1&&(r=0),s.type.spec.isolating&&r<=n){e=n;break}t=s.content}for(let t=1;t<=2;t++)for(let n=1==t?e:this.unplaced.openStart;n>=0;n--){let e,r=null;n?(r=gb(this.unplaced.content,n-1).firstChild,e=r.content):e=this.unplaced.content;let s=e.firstChild;for(let i=this.depth;i>=0;i--){let e,{type:o,match:a}=this.frontier[i],l=null;if(1==t&&(s?a.matchType(s.type)||(l=a.fillBefore(Ay.from(s),!1)):r&&o.compatibleContent(r.type)))return{sliceDepth:n,frontierDepth:i,parent:r,inject:l};if(2==t&&s&&(e=a.findWrapping(s.type)))return{sliceDepth:n,frontierDepth:i,parent:r,wrap:e};if(r&&a.matchType(r.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=gb(e,t);return!(!r.childCount||r.firstChild.isLeaf)&&(this.unplaced=new Iy(e,t+1,Math.max(n,r.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=gb(e,t);if(r.childCount<=1&&t>0){let s=e.size-t<=t+r.size;this.unplaced=new Iy(mb(e,t-1,1),t-1,s?t-1:n)}else this.unplaced=new Iy(mb(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:r,wrap:s}){for(;this.depth>t;)this.closeFrontierNode();if(s)for(let m=0;m<s.length;m++)this.openFrontierNode(s[m]);let i=this.unplaced,o=n?n.content:i.content,a=i.openStart-e,l=0,c=[],{match:d,type:u}=this.frontier[t];if(r){for(let e=0;e<r.childCount;e++)c.push(r.child(e));d=d.matchFragment(r)}let h=o.size+e-(i.content.size-i.openEnd);for(;l<o.childCount;){let e=o.child(l),t=d.matchType(e.type);if(!t)break;l++,(l>1||0==a||e.content.size)&&(d=t,c.push(xb(e.mark(u.allowedMarks(e.marks)),1==l?a:0,l==o.childCount?h:-1)))}let p=l==o.childCount;p||(h=-1),this.placed=fb(this.placed,t,Ay.from(c)),this.frontier[t].match=d,p&&h<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,f=o;m<h;m++){let e=f.lastChild;this.frontier.push({type:e.type,match:e.contentMatchAt(e.childCount)}),f=e.content}this.unplaced=p?0==e?Iy.empty:new Iy(mb(i.content,e-1,1),e-1,h<0?i.openEnd:e-1):new Iy(mb(i.content,e,l),i.openStart,i.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e,t=this.frontier[this.depth];if(!t.type.isTextblock||!yb(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:n}=this.$to,r=this.$to.after(n);for(;n>1&&r==this.$to.end(--n);)++r;return r}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:r}=this.frontier[t],s=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),i=yb(e,t,r,n,s);if(i){for(let n=t-1;n>=0;n--){let{match:t,type:r}=this.frontier[n],s=yb(e,n,r,t,!0);if(!s||s.childCount)continue e}return{depth:t,fit:i,move:s?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=fb(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let t=e.node(n),r=t.type.contentMatch.fillBefore(t.content,!0,e.index(n));this.openFrontierNode(t.type,t.attrs,r)}return e}openFrontierNode(e,t=null,n){let r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=fb(this.placed,this.depth,Ay.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(Ay.empty,!0);e.childCount&&(this.placed=fb(this.placed,this.frontier.length,e))}}function mb(e,t,n){return 0==t?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(mb(e.firstChild.content,t-1,n)))}function fb(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(fb(e.lastChild.content,t-1,n)))}function gb(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function xb(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,xb(r.firstChild,t-1,1==r.childCount?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(Ay.empty,!0)))),e.copy(r)}function yb(e,t,n,r,s){let i=e.node(t),o=s?e.indexAfter(t):e.index(t);if(o==i.childCount&&!n.compatibleContent(i.type))return null;let a=r.fillBefore(i.content,!0,o);return a&&!function(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}(n,i.content,o)?a:null}function vb(e){return e.spec.defining||e.spec.definingForContent}function bb(e,t,n,r,s){if(t<n){let s=e.firstChild;e=e.replaceChild(0,s.copy(bb(s.content,t+1,n,r,s)))}if(t>r){let t=s.contentMatchAt(0),n=t.fillBefore(e).append(e);e=n.append(t.matchFragment(n).fillBefore(Ay.empty,!0))}return e}function wb(e,t){let n=[];for(let r=Math.min(e.depth,t.depth);r>=0;r--){let s=e.start(r);if(s<e.pos-(e.depth-r)||t.end(r)>t.pos+(t.depth-r)||e.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;(s==t.start(r)||r==e.depth&&r==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&r&&t.start(r-1)==s-1)&&n.push(r)}return n}class kb extends qv{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return Hv.fail("No node at attribute step's position");let n=Object.create(null);for(let s in t.attrs)n[s]=t.attrs[s];n[this.attr]=this.value;let r=t.type.create(n,null,t.marks);return Hv.fromReplace(e,this.pos,this.pos+1,new Iy(Ay.from(r),0,t.isLeaf?0:1))}getMap(){return Bv.empty}invert(e){return new kb(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new kb(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if("number"!=typeof t.pos||"string"!=typeof t.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new kb(t.pos,t.attr,t.value)}}qv.jsonID("attr",kb);class jb extends qv{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let r in e.attrs)t[r]=e.attrs[r];t[this.attr]=this.value;let n=e.type.create(t,e.content,e.marks);return Hv.ok(n)}getMap(){return Bv.empty}invert(e){return new jb(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if("string"!=typeof t.attr)throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new jb(t.attr,t.value)}}qv.jsonID("docAttr",jb);let Nb=class extends Error{};Nb=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n},(Nb.prototype=Object.create(Error.prototype)).constructor=Nb,Nb.prototype.name="TransformError";class Cb{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new $v}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Nb(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}changedRange(){let e=1e9,t=-1e9;for(let n=0;n<this.mapping.maps.length;n++){let r=this.mapping.maps[n];n&&(e=r.map(e,1),t=r.map(t,-1)),r.forEach((n,r,s,i)=>{e=Math.min(e,s),t=Math.max(t,i)})}return 1e9==e?null:{from:e,to:t}}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=Iy.empty){let r=ub(this.doc,e,t,n);return r&&this.step(r),this}replaceWith(e,t,n){return this.replace(e,t,new Iy(Ay.from(n),0,0))}delete(e,t){return this.replace(e,t,Iy.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return function(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let s=e.doc.resolve(t),i=e.doc.resolve(n);if(hb(s,i,r))return e.step(new Yv(t,n,r));let o=wb(s,i);0==o[o.length-1]&&o.pop();let a=-(s.depth+1);o.unshift(a);for(let h=s.depth,p=s.pos-1;h>0;h--,p--){let e=s.node(h).type.spec;if(e.defining||e.definingAsContext||e.isolating)break;o.indexOf(h)>-1?a=h:s.before(h)==p&&o.splice(1,0,-h)}let l=o.indexOf(a),c=[],d=r.openStart;for(let h=r.content,p=0;;p++){let e=h.firstChild;if(c.push(e),p==r.openStart)break;h=e.content}for(let h=d-1;h>=0;h--){let e=c[h],t=vb(e.type);if(t&&!e.sameMarkup(s.node(Math.abs(a)-1)))d=h;else if(t||!e.type.isTextblock)break}for(let h=r.openStart;h>=0;h--){let t=(h+d+1)%(r.openStart+1),a=c[t];if(a)for(let c=0;c<o.length;c++){let d=o[(c+l)%o.length],u=!0;d<0&&(u=!1,d=-d);let h=s.node(d-1),p=s.index(d-1);if(h.canReplaceWith(p,p,a.type,a.marks))return e.replace(s.before(d),u?i.after(d):n,new Iy(bb(r.content,0,r.openStart,t),t,r.openEnd))}}let u=e.steps.length;for(let h=o.length-1;h>=0&&(e.replace(t,n,r),!(e.steps.length>u));h--){let e=o[h];e<0||(t=s.before(e),n=i.after(e))}}(this,e,t,n),this}replaceRangeWith(e,t,n){return function(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let s=function(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(let s=r.depth-1;s>=0;s--){let e=r.index(s);if(r.node(s).canReplaceWith(e,e,n))return r.before(s+1);if(e>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let e=r.indexAfter(s);if(r.node(s).canReplaceWith(e,e,n))return r.after(s+1);if(e<r.node(s).childCount)return null}return null}(e.doc,t,r.type);null!=s&&(t=n=s)}e.replaceRange(t,n,new Iy(Ay.from(r),0,0))}(this,e,t,n),this}deleteRange(e,t){return function(e,t,n){let r=e.doc.resolve(t),s=e.doc.resolve(n),i=wb(r,s);for(let o=0;o<i.length;o++){let t=i[o],n=o==i.length-1;if(n&&0==t||r.node(t).type.contentMatch.validEnd)return e.delete(r.start(t),s.end(t));if(t>0&&(n||r.node(t-1).canReplace(r.index(t-1),s.indexAfter(t-1))))return e.delete(r.before(t),s.after(t))}for(let o=1;o<=r.depth&&o<=s.depth;o++)if(t-r.start(o)==r.depth-o&&n>r.end(o)&&s.end(o)-n!=s.depth-o&&r.start(o-1)==s.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),s.index(o-1)))return e.delete(r.before(o),n);e.delete(t,n)}(this,e,t),this}lift(e,t){return function(e,t,n){let{$from:r,$to:s,depth:i}=t,o=r.before(i+1),a=s.after(i+1),l=o,c=a,d=Ay.empty,u=0;for(let m=i,f=!1;m>n;m--)f||r.index(m)>0?(f=!0,d=Ay.from(r.node(m).copy(d)),u++):l--;let h=Ay.empty,p=0;for(let m=i,f=!1;m>n;m--)f||s.after(m+1)<s.end(m)?(f=!0,h=Ay.from(s.node(m).copy(h)),p++):c++;e.step(new Xv(l,c,o,a,new Iy(d.append(h),u,p),d.size-u,!0))}(this,e,t),this}join(e,t=1){return function(e,t,n){let r=null,{linebreakReplacement:s}=e.doc.type.schema,i=e.doc.resolve(t-n),o=i.node().type;if(s&&o.inlineContent){let e="pre"==o.whitespace,t=!!o.contentMatch.matchType(s);e&&!t?r=!1:!e&&t&&(r=!0)}let a=e.steps.length;if(!1===r){let r=e.doc.resolve(t+n);ib(e,r.node(),r.before(),a)}o.inlineContent&&Qv(e,t+n-1,o,i.node().contentMatchAt(i.index()),null==r);let l=e.mapping.slice(a),c=l.map(t-n);if(e.step(new Yv(c,l.map(t+n,-1),Iy.empty,!0)),!0===r){let t=e.doc.resolve(c);sb(e,t.node(),t.before(),e.steps.length)}}(this,e,t),this}wrap(e,t){return function(e,t,n){let r=Ay.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let e=n[o].type.contentMatch.matchFragment(r);if(!e||!e.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Ay.from(n[o].type.create(n[o].attrs,r))}let s=t.start,i=t.end;e.step(new Xv(s,i,s,i,new Iy(r,0,0),n.length,!0))}(this,e,t),this}setBlockType(e,t=e,n,r=null){return function(e,t,n,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=e.steps.length;e.doc.nodesBetween(t,n,(t,n)=>{let o="function"==typeof s?s(t):s;if(t.isTextblock&&!t.hasMarkup(r,o)&&function(e,t,n){let r=e.resolve(t),s=r.index();return r.parent.canReplaceWith(s,s+1,n)}(e.doc,e.mapping.slice(i).map(n),r)){let s=null;if(r.schema.linebreakReplacement){let e="pre"==r.whitespace,t=!!r.contentMatch.matchType(r.schema.linebreakReplacement);e&&!t?s=!1:!e&&t&&(s=!0)}!1===s&&ib(e,t,n,i),Qv(e,e.mapping.slice(i).map(n,1),r,void 0,null===s);let a=e.mapping.slice(i),l=a.map(n,1),c=a.map(n+t.nodeSize,1);return e.step(new Xv(l,c,l+1,c-1,new Iy(Ay.from(r.create(o,null,t.marks)),0,0),1,!0)),!0===s&&sb(e,t,n,i),!1}})}(this,e,t,n,r),this}setNodeMarkup(e,t,n=null,r){return function(e,t,n,r,s){let i=e.doc.nodeAt(t);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let o=n.create(r,null,s||i.marks);if(i.isLeaf)return e.replaceWith(t,t+i.nodeSize,o);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Xv(t,t+i.nodeSize,t+1,t+i.nodeSize-1,new Iy(Ay.from(o),0,0),1,!0))}(this,e,t,n,r),this}setNodeAttribute(e,t,n){return this.step(new kb(e,t,n)),this}setDocAttribute(e,t){return this.step(new jb(e,t)),this}addNodeMark(e,t){return this.step(new Kv(e,t)),this}removeNodeMark(e,t){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(t instanceof Py)t.isInSet(n.marks)&&this.step(new Jv(e,t));else{let r,s=n.marks,i=[];for(;r=t.isInSet(s);)i.push(new Jv(e,r)),s=r.removeFromSet(s);for(let e=i.length-1;e>=0;e--)this.step(i[e])}return this}split(e,t=1,n){return function(e,t,n=1,r){let s=e.doc.resolve(t),i=Ay.empty,o=Ay.empty;for(let a=s.depth,l=s.depth-n,c=n-1;a>l;a--,c--){i=Ay.from(s.node(a).copy(i));let e=r&&r[c];o=Ay.from(e?e.type.create(e.attrs,o):s.node(a).copy(o))}e.step(new Yv(t,t,new Iy(i.append(o),n,n),!0))}(this,e,t,n),this}addMark(e,t,n){return function(e,t,n,r){let s,i,o=[],a=[];e.doc.nodesBetween(t,n,(e,l,c)=>{if(!e.isInline)return;let d=e.marks;if(!r.isInSet(d)&&c.type.allowsMarkType(r.type)){let c=Math.max(l,t),u=Math.min(l+e.nodeSize,n),h=r.addToSet(d);for(let e=0;e<d.length;e++)d[e].isInSet(h)||(s&&s.to==c&&s.mark.eq(d[e])?s.to=u:o.push(s=new Gv(c,u,d[e])));i&&i.to==c?i.to=u:a.push(i=new Wv(c,u,r))}}),o.forEach(t=>e.step(t)),a.forEach(t=>e.step(t))}(this,e,t,n),this}removeMark(e,t,n){return function(e,t,n,r){let s=[],i=0;e.doc.nodesBetween(t,n,(e,o)=>{if(!e.isInline)return;i++;let a=null;if(r instanceof xv){let t,n=e.marks;for(;t=r.isInSet(n);)(a||(a=[])).push(t),n=t.removeFromSet(n)}else r?r.isInSet(e.marks)&&(a=[r]):a=e.marks;if(a&&a.length){let r=Math.min(o+e.nodeSize,n);for(let e=0;e<a.length;e++){let n,l=a[e];for(let e=0;e<s.length;e++){let t=s[e];t.step==i-1&&l.eq(s[e].style)&&(n=t)}n?(n.to=r,n.step=i):s.push({style:l,from:Math.max(o,t),to:r,step:i})}}}),s.forEach(t=>e.step(new Gv(t.from,t.to,t.style)))}(this,e,t,n),this}clearIncompatible(e,t,n){return Qv(this,e,t,n),this}}const Sb=Object.create(null);class Eb{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new Tb(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=Iy.empty){let n=t.content.lastChild,r=null;for(let o=0;o<t.openEnd;o++)r=n,n=n.lastChild;let s=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:a,$to:l}=i[o],c=e.mapping.slice(s);e.replaceRange(c.map(a.pos),c.map(l.pos),o?Iy.empty:t),0==o&&zb(e,s,(n?n.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,r=this.ranges;for(let s=0;s<r.length;s++){let{$from:i,$to:o}=r[s],a=e.mapping.slice(n),l=a.map(i.pos),c=a.map(o.pos);s?e.deleteRange(l,c):(e.replaceRangeWith(l,c,t),zb(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let r=e.parent.inlineContent?new Db(e):Rb(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(let s=e.depth-1;s>=0;s--){let r=t<0?Rb(e.node(0),e.node(s),e.before(s+1),e.index(s),t,n):Rb(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,t,n);if(r)return r}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Ib(e.node(0))}static atStart(e){return Rb(e,e,0,0,1)||new Ib(e)}static atEnd(e){return Rb(e,e,e.content.size,e.childCount,-1)||new Ib(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=Sb[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in Sb)throw new RangeError("Duplicate use of selection JSON ID "+e);return Sb[e]=t,t.prototype.jsonID=e,t}getBookmark(){return Db.between(this.$anchor,this.$head).getBookmark()}}Eb.prototype.visible=!0;class Tb{constructor(e,t){this.$from=e,this.$to=t}}let Ab=!1;function Mb(e){Ab||e.parent.inlineContent||(Ab=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class Db extends Eb{constructor(e,t=e){Mb(e),Mb(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return Eb.near(n);let r=e.resolve(t.map(this.anchor));return new Db(r.parent.inlineContent?r:n,n)}replace(e,t=Iy.empty){if(super.replace(e,t),t==Iy.empty){let t=this.$from.marksAcross(this.$to);t&&e.ensureMarks(t)}}eq(e){return e instanceof Db&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Ob(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if("number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new Db(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){let r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))}static between(e,t,n){let r=e.pos-t.pos;if(n&&!r||(n=r>=0?1:-1),!t.parent.inlineContent){let e=Eb.findFrom(t,n,!0)||Eb.findFrom(t,-n,!0);if(!e)return Eb.near(t,n);t=e.$head}return e.parent.inlineContent||(0==r||(e=(Eb.findFrom(e,-n,!0)||Eb.findFrom(e,n,!0)).$anchor).pos<t.pos!=r<0)&&(e=t),new Db(e,t)}}Eb.jsonID("text",Db);class Ob{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Ob(e.map(this.anchor),e.map(this.head))}resolve(e){return Db.between(e.resolve(this.anchor),e.resolve(this.head))}}class Pb extends Eb{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:r}=t.mapResult(this.anchor),s=e.resolve(r);return n?Eb.near(s):new Pb(s)}content(){return new Iy(Ay.from(this.node),0,0)}eq(e){return e instanceof Pb&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new _b(this.anchor)}static fromJSON(e,t){if("number"!=typeof t.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Pb(e.resolve(t.anchor))}static create(e,t){return new Pb(e.resolve(t))}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}}Pb.prototype.visible=!1,Eb.jsonID("node",Pb);class _b{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new Ob(n,n):new _b(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&Pb.isSelectable(n)?new Pb(t):Eb.near(t)}}class Ib extends Eb{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=Iy.empty){if(t==Iy.empty){e.delete(0,e.doc.content.size);let t=Eb.atStart(e.doc);t.eq(e.selection)||e.setSelection(t)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Ib(e)}map(e){return new Ib(e)}eq(e){return e instanceof Ib}getBookmark(){return Lb}}Eb.jsonID("all",Ib);const Lb={map(){return this},resolve:e=>new Ib(e)};function Rb(e,t,n,r,s,i=!1){if(t.inlineContent)return Db.create(e,n);for(let o=r-(s>0?0:1);s>0?o<t.childCount:o>=0;o+=s){let r=t.child(o);if(r.isAtom){if(!i&&Pb.isSelectable(r))return Pb.create(e,n-(s<0?r.nodeSize:0))}else{let t=Rb(e,r,n+s,s<0?r.childCount:0,s,i);if(t)return t}n+=r.nodeSize*s}return null}function zb(e,t,n){let r=e.steps.length-1;if(r<t)return;let s,i=e.steps[r];(i instanceof Yv||i instanceof Xv)&&(e.mapping.maps[r].forEach((e,t,n,r)=>{null==s&&(s=r)}),e.setSelection(Eb.near(e.doc.resolve(s),n)))}class Fb extends Cb{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&this.updated|1,this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=2,this}ensureMarks(e){return Py.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(e,t){super.addStep(e,t),this.updated=-3&this.updated,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Py.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(null==n&&(n=t),!e)return this.deleteRange(t,n);let s=this.storedMarks;if(!s){let e=this.doc.resolve(t);s=n==t?e.marks():e.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,s)),this.selection.empty||this.selection.to!=t+e.length||this.setSelection(Eb.near(this.selection.$to)),this}}setMeta(e,t){return this.meta["string"==typeof e?e:e.key]=t,this}getMeta(e){return this.meta["string"==typeof e?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function Bb(e,t){return t&&e?e.bind(t):e}class $b{constructor(e,t,n){this.name=e,this.init=Bb(t.init,n),this.apply=Bb(t.apply,n)}}const Vb=[new $b("doc",{init:e=>e.doc||e.schema.topNodeType.createAndFill(),apply:e=>e.doc}),new $b("selection",{init:(e,t)=>e.selection||Eb.atStart(t.doc),apply:e=>e.selection}),new $b("storedMarks",{init:e=>e.storedMarks||null,apply:(e,t,n,r)=>r.selection.$cursor?e.storedMarks:null}),new $b("scrollToSelection",{init:()=>0,apply:(e,t)=>e.scrolledIntoView?t+1:t})];class qb{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Vb.slice(),t&&t.forEach(e=>{if(this.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");this.plugins.push(e),this.pluginsByKey[e.key]=e,e.spec.state&&this.fields.push(new $b(e.key,e.spec.state,e))})}}class Hb{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let t=this.config.plugins[n];if(t.spec.filterTransaction&&!t.spec.filterTransaction.call(t,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),r=null;for(;;){let s=!1;for(let i=0;i<this.config.plugins.length;i++){let o=this.config.plugins[i];if(o.spec.appendTransaction){let a=r?r[i].n:0,l=r?r[i].state:this,c=a<t.length&&o.spec.appendTransaction.call(o,a?t.slice(a):t,l,n);if(c&&n.filterTransaction(c,i)){if(c.setMeta("appendedTransaction",e),!r){r=[];for(let e=0;e<this.config.plugins.length;e++)r.push(e<i?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),s=!0}r&&(r[i]={state:n,n:t.length})}}if(!s)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new Hb(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let s=n[r];t[s.name]=s.apply(e,this[s.name],this,t)}return t}get tr(){return new Fb(this)}static create(e){let t=new qb(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new Hb(t);for(let r=0;r<t.fields.length;r++)n[t.fields[r].name]=t.fields[r].init(e,n);return n}reconfigure(e){let t=new qb(this.schema,e.plugins),n=t.fields,r=new Hb(t);for(let s=0;s<n.length;s++){let t=n[s].name;r[t]=this.hasOwnProperty(t)?this[t]:n[s].init(e,r)}return r}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(e=>e.toJSON())),e&&"object"==typeof e)for(let n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[n],s=r.spec.state;s&&s.toJSON&&(t[n]=s.toJSON.call(r,this[r.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let r=new qb(e.schema,e.plugins),s=new Hb(r);return r.fields.forEach(r=>{if("doc"==r.name)s.doc=Qy.fromJSON(e.schema,t.doc);else if("selection"==r.name)s.selection=Eb.fromJSON(s.doc,t.selection);else if("storedMarks"==r.name)t.storedMarks&&(s.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let i in n){let o=n[i],a=o.spec.state;if(o.key==r.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(t,i))return void(s[r.name]=a.fromJSON.call(o,e,t[i],s))}s[r.name]=r.init(e,s)}}),s}}function Ub(e,t,n){for(let r in e){let s=e[r];s instanceof Function?s=s.bind(t):"handleDOMEvents"==r&&(s=Ub(s,t,{})),n[r]=s}return n}class Wb{constructor(e){this.spec=e,this.props={},e.props&&Ub(e.props,this,this.props),this.key=e.key?e.key.key:Kb("plugin")}getState(e){return e[this.key]}}const Gb=Object.create(null);function Kb(e){return e in Gb?e+"$"+ ++Gb[e]:(Gb[e]=0,e+"$")}class Jb{constructor(e="key"){this.key=Kb(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Yb=(e,t)=>!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function Xb(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const Zb=(e,t,n)=>{let r=Xb(e,n);if(!r)return!1;let s=nw(r);if(!s){let n=r.blockRange(),s=n&&tb(n);return null!=s&&(t&&t(e.tr.lift(n,s).scrollIntoView()),!0)}let i=s.nodeBefore;if(hw(e,s,t,-1))return!0;if(0==r.parent.content.size&&(ew(i,"end")||Pb.isSelectable(i)))for(let o=r.depth;;o--){let n=ub(e.doc,r.before(o),r.after(o),Iy.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(ew(i,"end")?Eb.findFrom(r.doc.resolve(r.mapping.map(s.pos,-1)),-1):Pb.create(r.doc,s.pos-i.nodeSize)),t(r.scrollIntoView())}return!0}if(1==o||r.node(o-1).childCount>1)break}return!(!i.isAtom||s.depth!=r.depth-1)&&(t&&t(e.tr.delete(s.pos-i.nodeSize,s.pos).scrollIntoView()),!0)};function Qb(e,t,n){let r=t.nodeBefore,s=t.pos-1;for(;!r.isTextblock;s--){if(r.type.spec.isolating)return!1;let e=r.lastChild;if(!e)return!1;r=e}let i=t.nodeAfter,o=t.pos+1;for(;!i.isTextblock;o++){if(i.type.spec.isolating)return!1;let e=i.firstChild;if(!e)return!1;i=e}let a=ub(e.doc,s,o,Iy.empty);if(!a||a.from!=s||a instanceof Yv&&a.slice.size>=o-s)return!1;if(n){let t=e.tr.step(a);t.setSelection(Db.create(t.doc,s)),n(t.scrollIntoView())}return!0}function ew(e,t,n=!1){for(let r=e;r;r="start"==t?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&1!=r.childCount)return!1}return!1}const tw=(e,t,n)=>{let{$head:r,empty:s}=e.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;i=nw(r)}let o=i&&i.nodeBefore;return!(!o||!Pb.isSelectable(o))&&(t&&t(e.tr.setSelection(Pb.create(e.doc,i.pos-o.nodeSize)).scrollIntoView()),!0)};function nw(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function rw(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const sw=(e,t,n)=>{let r=rw(e,n);if(!r)return!1;let s=ow(r);if(!s)return!1;let i=s.nodeAfter;if(hw(e,s,t,1))return!0;if(0==r.parent.content.size&&(ew(i,"start")||Pb.isSelectable(i))){let n=ub(e.doc,r.before(),r.after(),Iy.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(ew(i,"start")?Eb.findFrom(r.doc.resolve(r.mapping.map(s.pos)),1):Pb.create(r.doc,r.mapping.map(s.pos))),t(r.scrollIntoView())}return!0}}return!(!i.isAtom||s.depth!=r.depth-1)&&(t&&t(e.tr.delete(s.pos,s.pos+i.nodeSize).scrollIntoView()),!0)},iw=(e,t,n)=>{let{$head:r,empty:s}=e.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;i=ow(r)}let o=i&&i.nodeAfter;return!(!o||!Pb.isSelectable(o))&&(t&&t(e.tr.setSelection(Pb.create(e.doc,i.pos)).scrollIntoView()),!0)};function ow(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const aw=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!(!n.parent.type.spec.code||!n.sameParent(r))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)};function lw(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const cw=(e,t)=>{let n=e.selection,{$from:r,$to:s}=n;if(n instanceof Ib||r.parent.inlineContent||s.parent.inlineContent)return!1;let i=lw(s.parent.contentMatchAt(s.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){let n=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,o=e.tr.insert(n,i.createAndFill());o.setSelection(Db.create(o.doc,n+1)),t(o.scrollIntoView())}return!0},dw=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let r=n.before();if(ob(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}let r=n.blockRange(),s=r&&tb(r);return null!=s&&(t&&t(e.tr.lift(r,s).scrollIntoView()),!0)};const uw=(e,t)=>{let{$from:n,$to:r}=e.selection;if(e.selection instanceof Pb&&e.selection.node.isBlock)return!(!n.parentOffset||!ob(e.doc,n.pos)||(t&&t(e.tr.split(n.pos).scrollIntoView()),0));if(!n.depth)return!1;let s,i,o=[],a=!1,l=!1;for(let h=n.depth;;h--){if(n.node(h).isBlock){a=n.end(h)==n.pos+(n.depth-h),l=n.start(h)==n.pos-(n.depth-h),i=lw(n.node(h-1).contentMatchAt(n.indexAfter(h-1))),o.unshift(a&&i?{type:i}:null),s=h;break}if(1==h)return!1;o.unshift(null)}let c=e.tr;(e.selection instanceof Db||e.selection instanceof Ib)&&c.deleteSelection();let d=c.mapping.map(n.pos),u=ob(c.doc,d,o.length,o);if(u||(o[0]=i?{type:i}:null,u=ob(c.doc,d,o.length,o)),!u)return!1;if(c.split(d,o.length,o),!a&&l&&n.node(s).type!=i){let e=c.mapping.map(n.before(s)),t=c.doc.resolve(e);i&&n.node(s-1).canReplaceWith(t.index(),t.index()+1,i)&&c.setNodeMarkup(c.mapping.map(n.before(s)),i)}return t&&t(c.scrollIntoView()),!0};function hw(e,t,n,r){let s,i,o=t.nodeBefore,a=t.nodeAfter,l=o.type.spec.isolating||a.type.spec.isolating;if(!l&&function(e,t,n){let r=t.nodeBefore,s=t.nodeAfter,i=t.index();return!(!(r&&s&&r.type.compatibleContent(s.type))||(!r.content.size&&t.parent.canReplace(i-1,i)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),0):!t.parent.canReplace(i,i+1)||!s.isTextblock&&!ab(e.doc,t.pos)||(n&&n(e.tr.join(t.pos).scrollIntoView()),0)))}(e,t,n))return!0;let c=!l&&t.parent.canReplace(t.index(),t.index()+1);if(c&&(s=(i=o.contentMatchAt(o.childCount)).findWrapping(a.type))&&i.matchType(s[0]||a.type).validEnd){if(n){let r=t.pos+a.nodeSize,i=Ay.empty;for(let e=s.length-1;e>=0;e--)i=Ay.from(s[e].create(null,i));i=Ay.from(o.copy(i));let l=e.tr.step(new Xv(t.pos-1,r,t.pos,r,new Iy(i,1,0),s.length,!0)),c=l.doc.resolve(r+2*s.length);c.nodeAfter&&c.nodeAfter.type==o.type&&ab(l.doc,c.pos)&&l.join(c.pos),n(l.scrollIntoView())}return!0}let d=a.type.spec.isolating||r>0&&l?null:Eb.findFrom(t,1),u=d&&d.$from.blockRange(d.$to),h=u&&tb(u);if(null!=h&&h>=t.depth)return n&&n(e.tr.lift(u,h).scrollIntoView()),!0;if(c&&ew(a,"start",!0)&&ew(o,"end")){let r=o,s=[];for(;s.push(r),!r.isTextblock;)r=r.lastChild;let i=a,l=1;for(;!i.isTextblock;i=i.firstChild)l++;if(r.canReplace(r.childCount,r.childCount,i.content)){if(n){let r=Ay.empty;for(let e=s.length-1;e>=0;e--)r=Ay.from(s[e].copy(r));n(e.tr.step(new Xv(t.pos-s.length,t.pos+a.nodeSize,t.pos+l,t.pos+a.nodeSize-l,new Iy(r,s.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function pw(e){return function(t,n){let r=t.selection,s=e<0?r.$from:r.$to,i=s.depth;for(;s.node(i).isInline;){if(!i)return!1;i--}return!!s.node(i).isTextblock&&(n&&n(t.tr.setSelection(Db.create(t.doc,e<0?s.start(i):s.end(i)))),!0)}}const mw=pw(-1),fw=pw(1);function gw(e,t=null){return function(n,r){let s=!1;for(let i=0;i<n.selection.ranges.length&&!s;i++){let{$from:{pos:r},$to:{pos:o}}=n.selection.ranges[i];n.doc.nodesBetween(r,o,(r,i)=>{if(s)return!1;if(r.isTextblock&&!r.hasMarkup(e,t))if(r.type==e)s=!0;else{let t=n.doc.resolve(i),r=t.index();s=t.parent.canReplaceWith(r,r+1,e)}})}if(!s)return!1;if(r){let s=n.tr;for(let r=0;r<n.selection.ranges.length;r++){let{$from:{pos:i},$to:{pos:o}}=n.selection.ranges[r];s.setBlockType(i,o,e,t)}r(s.scrollIntoView())}return!0}}function xw(...e){return function(t,n,r){for(let s=0;s<e.length;s++)if(e[s](t,n,r))return!0;return!1}}function yw(e,t=null){return function(n,r){let{$from:s,$to:i}=n.selection,o=s.blockRange(i);if(!o)return!1;let a=r?n.tr:null;return!!function(e,t,n,r=null){let s=!1,i=t,o=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&0==t.startIndex){if(0==t.$from.index(t.depth-1))return!1;let e=o.resolve(t.start-2);i=new Xy(e,e,t.depth),t.endIndex<t.parent.childCount&&(t=new Xy(t.$from,o.resolve(t.$to.end(t.depth)),t.depth)),s=!0}let a=nb(i,n,r,t);if(!a)return!1;e&&function(e,t,n,r,s){let i=Ay.empty;for(let d=n.length-1;d>=0;d--)i=Ay.from(n[d].type.create(n[d].attrs,i));e.step(new Xv(t.start-(r?2:0),t.end,t.start,t.end,new Iy(i,0,0),n.length,!0));let o=0;for(let d=0;d<n.length;d++)n[d].type==s&&(o=d+1);let a=n.length-o,l=t.start+n.length-(r?2:0),c=t.parent;for(let d=t.startIndex,u=t.endIndex,h=!0;d<u;d++,h=!1)!h&&ob(e.doc,l,a)&&(e.split(l,a),l+=2*a),l+=c.child(d).nodeSize}(e,t,a,s,n);return!0}(a,o,e,t)&&(r&&r(a.scrollIntoView()),!0)}}function vw(e){return function(t,n){let{$from:r,$to:s}=t.selection,i=r.blockRange(s,t=>t.childCount>0&&t.firstChild.type==e);return!!i&&(!n||(r.node(i.depth-1).type==e?function(e,t,n,r){let s=e.tr,i=r.end,o=r.$to.end(r.depth);i<o&&(s.step(new Xv(i-1,o,i,o,new Iy(Ay.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Xy(s.doc.resolve(r.$from.pos),s.doc.resolve(o),r.depth));const a=tb(r);if(null==a)return!1;s.lift(r,a);let l=s.doc.resolve(s.mapping.map(i,-1)-1);ab(s.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&s.join(l.pos);return t(s.scrollIntoView()),!0}(t,n,e,i):function(e,t,n){let r=e.tr,s=n.parent;for(let p=n.end,m=n.endIndex-1,f=n.startIndex;m>f;m--)p-=s.child(m).nodeSize,r.delete(p-1,p+1);let i=r.doc.resolve(n.start),o=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let a=0==n.startIndex,l=n.endIndex==s.childCount,c=i.node(-1),d=i.index(-1);if(!c.canReplace(d+(a?0:1),d+1,o.content.append(l?Ay.empty:Ay.from(s))))return!1;let u=i.pos,h=u+o.nodeSize;return r.step(new Xv(u-(a?1:0),h+(l?1:0),u+1,h-1,new Iy((a?Ay.empty:Ay.from(s.copy(Ay.empty))).append(l?Ay.empty:Ay.from(s.copy(Ay.empty))),a?0:1,l?0:1),a?0:1)),t(r.scrollIntoView()),!0}(t,n,i)))}}xw(Yb,Zb,tw),xw(Yb,sw,iw),xw(aw,cw,dw,uw),"undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):"undefined"!=typeof os&&os.platform&&os.platform();const bw=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},ww=function(e){let t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t};let kw=null;const jw=function(e,t,n){let r=kw||(kw=document.createRange());return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},Nw=function(e,t,n,r){return n&&(Sw(e,t,n,r,-1)||Sw(e,t,n,r,1))},Cw=/^(img|br|input|textarea|hr)$/i;function Sw(e,t,n,r,s){for(var i;;){if(e==n&&t==r)return!0;if(t==(s<0?0:Ew(e))){let n=e.parentNode;if(!n||1!=n.nodeType||Tw(e)||Cw.test(e.nodeName)||"false"==e.contentEditable)return!1;t=bw(e)+(s<0?0:1),e=n}else{if(1!=e.nodeType)return!1;{let n=e.childNodes[t+(s<0?-1:0)];if(1==n.nodeType&&"false"==n.contentEditable){if(!(null===(i=n.pmViewDesc)||void 0===i?void 0:i.ignoreForSelection))return!1;t+=s}else e=n,t=s<0?Ew(e):0}}}}function Ew(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function Tw(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const Aw=function(e){return e.focusNode&&Nw(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Mw(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}const Dw="undefined"!=typeof navigator?navigator:null,Ow="undefined"!=typeof document?document:null,Pw=Dw&&Dw.userAgent||"",_w=/Edge\/(\d+)/.exec(Pw),Iw=/MSIE \d/.exec(Pw),Lw=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Pw),Rw=!!(Iw||Lw||_w),zw=Iw?document.documentMode:Lw?+Lw[1]:_w?+_w[1]:0,Fw=!Rw&&/gecko\/(\d+)/i.test(Pw);Fw&&(/Firefox\/(\d+)/.exec(Pw)||[0,0])[1];const Bw=!Rw&&/Chrome\/(\d+)/.exec(Pw),$w=!!Bw,Vw=Bw?+Bw[1]:0,qw=!Rw&&!!Dw&&/Apple Computer/.test(Dw.vendor),Hw=qw&&(/Mobile\/\w+/.test(Pw)||!!Dw&&Dw.maxTouchPoints>2),Uw=Hw||!!Dw&&/Mac/.test(Dw.platform),Ww=!!Dw&&/Win/.test(Dw.platform),Gw=/Android \d/.test(Pw),Kw=!!Ow&&"webkitFontSmoothing"in Ow.documentElement.style,Jw=Kw?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Yw(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Xw(e,t){return"number"==typeof e?e:e[t]}function Zw(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function Qw(e,t,n){let r=e.someProp("scrollThreshold")||0,s=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument;for(let o=n||e.dom;o;){if(1!=o.nodeType){o=ww(o);continue}let e=o,n=e==i.body,a=n?Yw(i):Zw(e),l=0,c=0;if(t.top<a.top+Xw(r,"top")?c=-(a.top-t.top+Xw(s,"top")):t.bottom>a.bottom-Xw(r,"bottom")&&(c=t.bottom-t.top>a.bottom-a.top?t.top+Xw(s,"top")-a.top:t.bottom-a.bottom+Xw(s,"bottom")),t.left<a.left+Xw(r,"left")?l=-(a.left-t.left+Xw(s,"left")):t.right>a.right-Xw(r,"right")&&(l=t.right-a.right+Xw(s,"right")),l||c)if(n)i.defaultView.scrollBy(l,c);else{let n=e.scrollLeft,r=e.scrollTop;c&&(e.scrollTop+=c),l&&(e.scrollLeft+=l);let s=e.scrollLeft-n,i=e.scrollTop-r;t={left:t.left-s,top:t.top-i,right:t.right-s,bottom:t.bottom-i}}let d=n?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(d))break;o="absolute"==d?o.offsetParent:ww(o)}}function ek(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=ww(r));return t}function tk(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:s,left:i}=e[n];r.scrollTop!=s+t&&(r.scrollTop=s+t),r.scrollLeft!=i&&(r.scrollLeft=i)}}let nk=null;function rk(e,t){let n,r,s,i,o=2e8,a=0,l=t.top,c=t.top;for(let d=e.firstChild,u=0;d;d=d.nextSibling,u++){let e;if(1==d.nodeType)e=d.getClientRects();else{if(3!=d.nodeType)continue;e=jw(d).getClientRects()}for(let h=0;h<e.length;h++){let p=e[h];if(p.top<=l&&p.bottom>=c){l=Math.max(p.bottom,l),c=Math.min(p.top,c);let e=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(e<o){n=d,o=e,r=e&&3==n.nodeType?{left:p.right<t.left?p.right:p.left,top:t.top}:t,1==d.nodeType&&e&&(a=u+(t.left>=(p.left+p.right)/2?1:0));continue}}else p.top>t.top&&!s&&p.left<=t.left&&p.right>=t.left&&(s=d,i={left:Math.max(p.left,Math.min(p.right,t.left)),top:p.top});!n&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(a=u+1)}}return!n&&s&&(n=s,r=i,o=0),n&&3==n.nodeType?function(e,t){let n,r=e.nodeValue.length,s=document.createRange();for(let i=0;i<r;i++){s.setEnd(e,i+1),s.setStart(e,i);let r=lk(s,1);if(r.top!=r.bottom&&sk(t,r)){n={node:e,offset:i+(t.left>=(r.left+r.right)/2?1:0)};break}}return s.detach(),n||{node:e,offset:0}}(n,r):!n||o&&1==n.nodeType?{node:e,offset:a}:rk(n,r)}function sk(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function ik(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),i=s;;){let n=e.childNodes[i];if(1==n.nodeType){let e=n.getClientRects();for(let r=0;r<e.length;r++){let s=e[r];if(sk(t,s))return ik(n,t,s)}}if((i=(i+1)%r)==s)break}return e}function ok(e,t){let n,r=e.dom.ownerDocument,s=0,i=function(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(Ew(r.offsetNode),r.offset)}}catch(r){}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(Ew(r.startContainer),r.startOffset)}}}(r,t.left,t.top);i&&({node:n,offset:s}=i);let o,a=(e.root.elementFromPoint?e.root:r).elementFromPoint(t.left,t.top);if(!a||!e.dom.contains(1!=a.nodeType?a.parentNode:a)){let n=e.dom.getBoundingClientRect();if(!sk(t,n))return null;if(a=ik(e.dom,t,n),!a)return null}if(qw)for(let c=a;n&&c;c=ww(c))c.draggable&&(n=void 0);if(a=function(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(a,t),n){if(Fw&&1==n.nodeType&&(s=Math.min(s,n.childNodes.length),s<n.childNodes.length)){let e,r=n.childNodes[s];"IMG"==r.nodeName&&(e=r.getBoundingClientRect()).right<=t.left&&e.bottom>t.top&&s++}let r;Kw&&s&&1==n.nodeType&&1==(r=n.childNodes[s-1]).nodeType&&"false"==r.contentEditable&&r.getBoundingClientRect().top>=t.top&&s--,n==e.dom&&s==n.childNodes.length-1&&1==n.lastChild.nodeType&&t.top>n.lastChild.getBoundingClientRect().bottom?o=e.state.doc.content.size:0!=s&&1==n.nodeType&&"BR"==n.childNodes[s-1].nodeName||(o=function(e,t,n,r){let s=-1;for(let i=t,o=!1;i!=e.dom;){let t,n=e.docView.nearestDesc(i,!0);if(!n)return null;if(1==n.dom.nodeType&&(n.node.isBlock&&n.parent||!n.contentDOM)&&((t=n.dom.getBoundingClientRect()).width||t.height)&&(n.node.isBlock&&n.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(n.dom.nodeName)&&(!o&&t.left>r.left||t.top>r.top?s=n.posBefore:(!o&&t.right<r.left||t.bottom<r.top)&&(s=n.posAfter),o=!0),!n.contentDOM&&s<0&&!n.node.isText))return(n.node.isBlock?r.top<(t.top+t.bottom)/2:r.left<(t.left+t.right)/2)?n.posBefore:n.posAfter;i=n.dom.parentNode}return s>-1?s:e.docView.posFromDOM(t,n,-1)}(e,n,s,t))}null==o&&(o=function(e,t,n){let{node:r,offset:s}=rk(t,n),i=-1;if(1==r.nodeType&&!r.firstChild){let e=r.getBoundingClientRect();i=e.left!=e.right&&n.left>(e.left+e.right)/2?1:-1}return e.docView.posFromDOM(r,s,i)}(e,a,t));let l=e.docView.nearestDesc(a,!0);return{pos:o,inside:l?l.posAtStart-l.border:-1}}function ak(e){return e.top<e.bottom||e.left<e.right}function lk(e,t){let n=e.getClientRects();if(n.length){let e=n[t<0?0:n.length-1];if(ak(e))return e}return Array.prototype.find.call(n,ak)||e.getBoundingClientRect()}const ck=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function dk(e,t,n){let{node:r,offset:s,atom:i}=e.docView.domFromPos(t,n<0?-1:1),o=Kw||Fw;if(3==r.nodeType){if(!o||!ck.test(r.nodeValue)&&(n<0?s:s!=r.nodeValue.length)){let e=s,t=s,i=n<0?1:-1;return n<0&&!s?(t++,i=-1):n>=0&&s==r.nodeValue.length?(e--,i=1):n<0?e--:t++,uk(lk(jw(r,e,t),i),i<0)}{let e=lk(jw(r,s,s),n);if(Fw&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let t=lk(jw(r,s-1,s-1),-1);if(t.top==e.top){let n=lk(jw(r,s,s+1),-1);if(n.top!=e.top)return uk(n,n.left<t.left)}}return e}}if(!e.state.doc.resolve(t-(i||0)).parent.inlineContent){if(null==i&&s&&(n<0||s==Ew(r))){let e=r.childNodes[s-1];if(1==e.nodeType)return hk(e.getBoundingClientRect(),!1)}if(null==i&&s<Ew(r)){let e=r.childNodes[s];if(1==e.nodeType)return hk(e.getBoundingClientRect(),!0)}return hk(r.getBoundingClientRect(),n>=0)}if(null==i&&s&&(n<0||s==Ew(r))){let e=r.childNodes[s-1],t=3==e.nodeType?jw(e,Ew(e)-(o?0:1)):1!=e.nodeType||"BR"==e.nodeName&&e.nextSibling?null:e;if(t)return uk(lk(t,1),!1)}if(null==i&&s<Ew(r)){let e=r.childNodes[s];for(;e.pmViewDesc&&e.pmViewDesc.ignoreForCoords;)e=e.nextSibling;let t=e?3==e.nodeType?jw(e,0,o?0:1):1==e.nodeType?e:null:null;if(t)return uk(lk(t,-1),!0)}return uk(lk(3==r.nodeType?jw(r):r,-n),n>=0)}function uk(e,t){if(0==e.width)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function hk(e,t){if(0==e.height)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function pk(e,t,n){let r=e.state,s=e.root.activeElement;r!=t&&e.updateState(t),s!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),s!=e.dom&&s&&s.focus()}}const mk=/[\u0590-\u08ac]/;let fk=null,gk=null,xk=!1;function yk(e,t,n){return fk==t&&gk==n?xk:(fk=t,gk=n,xk="up"==n||"down"==n?function(e,t,n){let r=t.selection,s="up"==n?r.$from:r.$to;return pk(e,t,()=>{let{node:t}=e.docView.domFromPos(s.pos,"up"==n?-1:1);for(;;){let n=e.docView.nearestDesc(t,!0);if(!n)break;if(n.node.isBlock){t=n.contentDOM||n.dom;break}t=n.dom.parentNode}let r=dk(e,s.pos,1);for(let e=t.firstChild;e;e=e.nextSibling){let t;if(1==e.nodeType)t=e.getClientRects();else{if(3!=e.nodeType)continue;t=jw(e,0,e.nodeValue.length).getClientRects()}for(let e=0;e<t.length;e++){let s=t[e];if(s.bottom>s.top+1&&("up"==n?r.top-s.top>2*(s.bottom-r.top):s.bottom-r.bottom>2*(r.bottom-s.top)))return!1}}return!0})}(e,t,n):function(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,i=!s,o=s==r.parent.content.size,a=e.domSelection();return a?mk.test(r.parent.textContent)&&a.modify?pk(e,t,()=>{let{focusNode:t,focusOffset:s,anchorNode:i,anchorOffset:o}=e.domSelectionRange(),l=a.caretBidiLevel;a.modify("move",n,"character");let c=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:d,focusOffset:u}=e.domSelectionRange(),h=d&&!c.contains(1==d.nodeType?d:d.parentNode)||t==d&&s==u;try{a.collapse(i,o),t&&(t!=i||s!=o)&&a.extend&&a.extend(t,s)}catch(p){}return null!=l&&(a.caretBidiLevel=l),h}):"left"==n||"backward"==n?i:o:r.pos==r.start()||r.pos==r.end()}(e,t,n))}class vk{constructor(e,t,n,r){this.parent=e,this.children=t,this.dom=n,this.contentDOM=r,this.dirty=0,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let r=this.children[t];if(r==e)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){let n,r;if(e==this.contentDOM)n=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.previousSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.previousSibling;return n?this.posBeforeChild(r)+r.size:this.posAtStart}{let n,r;if(e==this.contentDOM)n=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.nextSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.nextSibling;return n?this.posBeforeChild(r):this.posAtEnd}}let r;if(e==this.dom&&this.contentDOM)r=t>bw(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!1;break}if(t.previousSibling)break}if(null==r&&t==e.childNodes.length)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!0;break}if(t.nextSibling)break}}return(null==r?n>0:r)?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,r=e;r;r=r.parentNode){let s,i=this.getDesc(r);if(i&&(!t||i.node)){if(!n||!(s=i.nodeDOM)||(1==s.nodeType?s.contains(1==e.nodeType?e:e.parentNode):s==e))return i;n=!1}}}getDesc(e){let t=e.pmViewDesc;for(let n=t;n;n=n.parent)if(n==this)return t}posFromDOM(e,t,n){for(let r=e;r;r=r.parentNode){let s=this.getDesc(r);if(s)return s.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let r=this.children[t],s=n+r.size;if(n==e&&s!=n){for(;!r.border&&r.children.length;)for(let e=0;e<r.children.length;e++){let t=r.children[e];if(t.size){r=t;break}}return r}if(e<s)return r.descAt(e-n-r.border);n=s}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,r=0;for(let s=0;n<this.children.length;n++){let t=this.children[n],i=s+t.size;if(i>e||t instanceof Sk){r=e-s;break}s=i}if(r)return this.children[n].domFromPos(r-this.children[n].border,t);for(let s;n&&!(s=this.children[n-1]).size&&s instanceof bk&&s.side>=0;n--);if(t<=0){let e,r=!0;for(;e=n?this.children[n-1]:null,e&&e.dom.parentNode!=this.contentDOM;n--,r=!1);return e&&t&&r&&!e.border&&!e.domAtom?e.domFromPos(e.size,t):{node:this.contentDOM,offset:e?bw(e.dom)+1:0}}{let e,r=!0;for(;e=n<this.children.length?this.children[n]:null,e&&e.dom.parentNode!=this.contentDOM;n++,r=!1);return e&&r&&!e.border&&!e.domAtom?e.domFromPos(0,t):{node:this.contentDOM,offset:e?bw(e.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,s=-1;for(let i=n,o=0;;o++){let n=this.children[o],a=i+n.size;if(-1==r&&e<=a){let s=i+n.border;if(e>=s&&t<=a-n.border&&n.node&&n.contentDOM&&this.contentDOM.contains(n.contentDOM))return n.parseRange(e,t,s);e=i;for(let t=o;t>0;t--){let n=this.children[t-1];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(1)){r=bw(n.dom)+1;break}e-=n.size}-1==r&&(r=0)}if(r>-1&&(a>t||o==this.children.length-1)){t=a;for(let e=o+1;e<this.children.length;e++){let n=this.children[e];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(-1)){s=bw(n.dom);break}t+=n.size}-1==s&&(s=this.contentDOM.childNodes.length);break}i=a}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(1!=t.nodeType||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,r=!1){let s=Math.min(e,t),i=Math.max(e,t);for(let p=0,m=0;p<this.children.length;p++){let o=this.children[p],a=m+o.size;if(s>m&&i<a)return o.setSelection(e-m-o.border,t-m-o.border,n,r);m=a}let o=this.domFromPos(e,e?-1:1),a=t==e?o:this.domFromPos(t,t?-1:1),l=n.root.getSelection(),c=n.domSelectionRange(),d=!1;if((Fw||qw)&&e==t){let{node:e,offset:t}=o;if(3==e.nodeType){if(d=!(!t||"\n"!=e.nodeValue[t-1]),d&&t==e.nodeValue.length)for(let n,r=e;r;r=r.parentNode){if(n=r.nextSibling){"BR"==n.nodeName&&(o=a={node:n.parentNode,offset:bw(n)+1});break}let e=r.pmViewDesc;if(e&&e.node&&e.node.isBlock)break}}else{let n=e.childNodes[t-1];d=n&&("BR"==n.nodeName||"false"==n.contentEditable)}}if(Fw&&c.focusNode&&c.focusNode!=a.node&&1==c.focusNode.nodeType){let e=c.focusNode.childNodes[c.focusOffset];e&&"false"==e.contentEditable&&(r=!0)}if(!(r||d&&qw)&&Nw(o.node,o.offset,c.anchorNode,c.anchorOffset)&&Nw(a.node,a.offset,c.focusNode,c.focusOffset))return;let u=!1;if((l.extend||e==t)&&(!d||!Fw)){l.collapse(o.node,o.offset);try{e!=t&&l.extend(a.node,a.offset),u=!0}catch(h){}}if(!u){if(e>t){let e=o;o=a,a=e}let n=document.createRange();n.setEnd(a.node,a.offset),n.setStart(o.node,o.offset),l.removeAllRanges(),l.addRange(n)}}ignoreMutation(e){return!this.contentDOM&&"selection"!=e.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,r=0;r<this.children.length;r++){let s=this.children[r],i=n+s.size;if(n==i?e<=i&&t>=n:e<i&&t>n){let r=n+s.border,o=i-s.border;if(e>=r&&t<=o)return this.dirty=e==n||t==i?2:1,void(e!=r||t!=o||!s.contentLost&&s.dom.parentNode==this.contentDOM?s.markDirty(e-r,t-r):s.dirty=3);s.dirty=s.dom!=s.contentDOM||s.dom.parentNode!=this.contentDOM||s.children.length?3:2}n=i}this.dirty=2}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=1==e?2:1;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class bk extends vk{constructor(e,t,n,r){let s,i=t.type.toDOM;if("function"==typeof i&&(i=i(n,()=>s?s.parent?s.parent.posBeforeChild(s):void 0:r)),!t.type.spec.raw){if(1!=i.nodeType){let e=document.createElement("span");e.appendChild(i),i=e}i.contentEditable="false",i.classList.add("ProseMirror-widget")}super(e,[],i,null),this.widget=t,this.widget=t,s=this}matchesWidget(e){return 0==this.dirty&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return!!t&&t(e)}ignoreMutation(e){return"selection"!=e.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class wk extends vk{constructor(e,t,n,r){super(e,[],t,null),this.textDOM=n,this.text=r}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue}}class kk extends vk{constructor(e,t,n,r,s){super(e,[],n,r),this.mark=t,this.spec=s}static create(e,t,n,r){let s=r.nodeViews[t.type.name],i=s&&s(t,r,n);return i&&i.dom||(i=Mv.renderSpec(document,t.type.spec.toDOM(t,n),null,t.attrs)),new kk(e,t,i.dom,i.contentDOM||i.dom,i)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return 3!=this.dirty&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),0!=this.dirty){let e=this.parent;for(;!e.node;)e=e.parent;e.dirty<this.dirty&&(e.dirty=this.dirty),this.dirty=0}}slice(e,t,n){let r=kk.create(this.parent,this.mark,!0,n),s=this.children,i=this.size;t<i&&(s=Fk(s,t,i,n)),e>0&&(s=Fk(s,0,e,n));for(let o=0;o<s.length;o++)s[o].parent=r;return r.children=s,r}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class jk extends vk{constructor(e,t,n,r,s,i,o,a,l){super(e,[],s,i),this.node=t,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=o}static create(e,t,n,r,s,i){let o,a=s.nodeViews[t.type.name],l=a&&a(t,s,()=>o?o.parent?o.parent.posBeforeChild(o):void 0:i,n,r),c=l&&l.dom,d=l&&l.contentDOM;if(t.isText)if(c){if(3!=c.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else c=document.createTextNode(t.text);else if(!c){let e=Mv.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs);({dom:c,contentDOM:d}=e)}d||t.isText||"BR"==c.nodeName||(c.hasAttribute("contenteditable")||(c.contentEditable="false"),t.type.spec.draggable&&(c.draggable=!0));let u=c;return c=_k(c,n,t),l?o=new Ek(e,t,n,r,c,d||null,u,l,s,i+1):t.isText?new Ck(e,t,n,r,c,u,s):new jk(e,t,n,r,c,d||null,u,s,i+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(e.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Ay.empty)}else e.contentElement=this.contentDOM;else e.getContent=()=>this.node.content;return e}matchesNode(e,t,n){return 0==this.dirty&&e.eq(this.node)&&Ik(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,r=t,s=e.composing?this.localCompositionInfo(e,t):null,i=s&&s.pos>-1?s:null,o=s&&s.pos<0,a=new Rk(this,i&&i.node,e);!function(e,t,n,r){let s=t.locals(e),i=0;if(0==s.length){for(let n=0;n<e.childCount;n++){let o=e.child(n);r(o,s,t.forChild(i,o),n),i+=o.nodeSize}return}let o=0,a=[],l=null;for(let c=0;;){let d,u,h,p;for(;o<s.length&&s[o].to==i;){let e=s[o++];e.widget&&(d?(u||(u=[d])).push(e):d=e)}if(d)if(u){u.sort(zk);for(let e=0;e<u.length;e++)n(u[e],c,!!l)}else n(d,c,!!l);if(l)p=-1,h=l,l=null;else{if(!(c<e.childCount))break;p=c,h=e.child(c++)}for(let e=0;e<a.length;e++)a[e].to<=i&&a.splice(e--,1);for(;o<s.length&&s[o].from<=i&&s[o].to>i;)a.push(s[o++]);let m=i+h.nodeSize;if(h.isText){let e=m;o<s.length&&s[o].from<e&&(e=s[o].from);for(let t=0;t<a.length;t++)a[t].to<e&&(e=a[t].to);e<m&&(l=h.cut(e-i),h=h.cut(0,e-i),m=e,p=-1)}else for(;o<s.length&&s[o].to<m;)o++;r(h,h.isInline&&!h.isLeaf?a.filter(e=>!e.inline):a.slice(),t.forChild(i,h),p),i=m}}(this.node,this.innerDeco,(t,s,i)=>{t.spec.marks?a.syncToMarks(t.spec.marks,n,e,s):t.type.side>=0&&!i&&a.syncToMarks(s==this.node.childCount?Py.none:this.node.child(s).marks,n,e,s),a.placeWidget(t,e,r)},(t,i,l,c)=>{let d;a.syncToMarks(t.marks,n,e,c),a.findNodeMatch(t,i,l,c)||o&&e.state.selection.from>r&&e.state.selection.to<r+t.nodeSize&&(d=a.findIndexWithChild(s.node))>-1&&a.updateNodeAt(t,i,l,d,e)||a.updateNextNode(t,i,l,e,c,r)||a.addNode(t,i,l,e,r),r+=t.nodeSize}),a.syncToMarks([],n,e,0),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||2==this.dirty)&&(i&&this.protectLocalComposition(e,i),Tk(this.contentDOM,this.children,e),Hw&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))}localCompositionInfo(e,t){let{from:n,to:r}=e.state.selection;if(!(e.state.selection instanceof Db)||n<t||r>t+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let e=s.nodeValue,i=function(e,t,n,r){for(let s=0,i=0;s<e.childCount&&i<=r;){let o=e.child(s++),a=i;if(i+=o.nodeSize,!o.isText)continue;let l=o.text;for(;s<e.childCount;){let t=e.child(s++);if(i+=t.nodeSize,!t.isText)break;l+=t.text}if(i>=n){if(i>=r&&l.slice(r-t.length-a,r-a)==t)return r-t.length;let e=a<r?l.lastIndexOf(t,r-a-1):-1;if(e>=0&&e+t.length+a>=n)return a+e;if(n==r&&l.length>=r+t.length-a&&l.slice(r-a,r-a+t.length)==t)return r}}return-1}(this.node.content,e,n-t,r-t);return i<0?null:{node:s,pos:i,text:e}}return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:n,text:r}){if(this.getDesc(t))return;let s=t;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let i=new wk(this,s,t,r);e.input.compositionNodes.push(i),this.children=Fk(this.children,n,n+r.length,e,i)}update(e,t,n,r){return!(3==this.dirty||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,r),!0)}updateInner(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0}updateOuterDeco(e){if(Ik(e,this.outerDeco))return;let t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=Ok(this.dom,this.nodeDOM,Dk(this.outerDeco,this.node,t),Dk(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){1==this.nodeDOM.nodeType&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.nodeDOM.draggable=!0))}deselectNode(){1==this.nodeDOM.nodeType&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Nk(e,t,n,r,s){_k(r,t,e);let i=new jk(void 0,e,t,n,r,r,r,s,0);return i.contentDOM&&i.updateChildren(s,0),i}class Ck extends jk{constructor(e,t,n,r,s,i,o){super(e,t,n,r,s,null,i,o,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,r){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=0,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return"characterData"!=e.type&&"selection"!=e.type}slice(e,t,n){let r=this.node.cut(e,t),s=document.createTextNode(r.text);return new Ck(this.parent,r,this.outerDeco,this.innerDeco,s,s,n)}markDirty(e,t){super.markDirty(e,t),this.dom==this.nodeDOM||0!=e&&t!=this.nodeDOM.nodeValue.length||(this.dirty=3)}get domAtom(){return!1}isText(e){return this.node.text==e}}class Sk extends vk{parseRule(){return{ignore:!0}}matchesHack(e){return 0==this.dirty&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class Ek extends jk{constructor(e,t,n,r,s,i,o,a,l,c){super(e,t,n,r,s,i,o,l,c),this.spec=a}update(e,t,n,r){if(3==this.dirty)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,t,n);return s&&this.updateInner(e,t,n,r),s}return!(!this.contentDOM&&!e.isLeaf)&&super.update(e,t,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,r){this.spec.setSelection?this.spec.setSelection(e,t,n.root):super.setSelection(e,t,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function Tk(e,t,n){let r=e.firstChild,s=!1;for(let i=0;i<t.length;i++){let o=t[i],a=o.dom;if(a.parentNode==e){for(;a!=r;)r=Lk(r),s=!0;r=r.nextSibling}else s=!0,e.insertBefore(a,r);if(o instanceof kk){let t=r?r.previousSibling:e.lastChild;Tk(o.contentDOM,o.children,n),r=t?t.nextSibling:e.firstChild}}for(;r;)r=Lk(r),s=!0;s&&n.trackWrites==e&&(n.trackWrites=null)}const Ak=function(e){e&&(this.nodeName=e)};Ak.prototype=Object.create(null);const Mk=[new Ak];function Dk(e,t,n){if(0==e.length)return Mk;let r=n?Mk[0]:new Ak,s=[r];for(let i=0;i<e.length;i++){let o=e[i].type.attrs;if(o){o.nodeName&&s.push(r=new Ak(o.nodeName));for(let e in o){let i=o[e];null!=i&&(n&&1==s.length&&s.push(r=new Ak(t.isInline?"span":"div")),"class"==e?r.class=(r.class?r.class+" ":"")+i:"style"==e?r.style=(r.style?r.style+";":"")+i:"nodeName"!=e&&(r[e]=i))}}}return s}function Ok(e,t,n,r){if(n==Mk&&r==Mk)return t;let s=t;for(let i=0;i<r.length;i++){let t=r[i],o=n[i];if(i){let n;o&&o.nodeName==t.nodeName&&s!=e&&(n=s.parentNode)&&n.nodeName.toLowerCase()==t.nodeName||(n=document.createElement(t.nodeName),n.pmIsDeco=!0,n.appendChild(s),o=Mk[0]),s=n}Pk(s,o||Mk[0],t)}return s}function Pk(e,t,n){for(let r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(let r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let t=0;t<r.length;t++)-1==s.indexOf(r[t])&&e.classList.remove(r[t]);for(let t=0;t<s.length;t++)-1==r.indexOf(s[t])&&e.classList.add(s[t]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let n,r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;n=r.exec(t.style);)e.style.removeProperty(n[1])}n.style&&(e.style.cssText+=n.style)}}function _k(e,t,n){return Ok(e,e,Mk,Dk(t,n,1!=e.nodeType))}function Ik(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function Lk(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class Rk{constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=function(e,t){let n=t,r=n.children.length,s=e.childCount,i=new Map,o=[];e:for(;s>0;){let a;for(;;)if(r){let e=n.children[r-1];if(!(e instanceof kk)){a=e,r--;break}n=e,r=e.children.length}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=e.child(s-1))break;--s,i.set(a,s),o.push(a)}}return{index:s,matched:i,matches:o.reverse()}}(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n,r){let s=0,i=this.stack.length>>1,o=Math.min(i,e.length);for(;s<o&&(s==i-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&!1!==e[s].type.spec.spanning;)s++;for(;s<i;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let s=-1,o=this.top.children.length;r<this.preMatch.index&&(o=Math.min(this.index+3,o));for(let t=this.index;t<o;t++){let n=this.top.children[t];if(n.matchesMark(e[i])&&!this.isLocked(n.dom)){s=t;break}}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{let r=kk.create(this.top,e[i],t,n);this.top.children.splice(this.index,0,r),this.top=r,this.changed=!0}this.index=0,i++}}findNodeMatch(e,t,n,r){let s,i=-1;if(r>=this.preMatch.index&&(s=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&s.matchesNode(e,t,n))i=this.top.children.indexOf(s,this.index);else for(let o=this.index,a=Math.min(this.top.children.length,o+5);o<a;o++){let r=this.top.children[o];if(r.matchesNode(e,t,n)&&!this.preMatch.matched.has(r)){i=o;break}}return!(i<0)&&(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,t,n,r,s){let i=this.top.children[r];return 3==i.dirty&&i.dom==i.contentDOM&&(i.dirty=2),!!i.update(e,t,n,s)&&(this.destroyBetween(this.index,r),this.index++,!0)}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let t=e.pmViewDesc;if(t)for(let e=this.index;e<this.top.children.length;e++)if(this.top.children[e]==t)return e;return-1}e=t}}updateNextNode(e,t,n,r,s,i){for(let o=this.index;o<this.top.children.length;o++){let a=this.top.children[o];if(a instanceof jk){let l=this.preMatch.matched.get(a);if(null!=l&&l!=s)return!1;let c,d=a.dom,u=this.isLocked(d)&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&3!=a.dirty&&Ik(t,a.outerDeco));if(!u&&a.update(e,t,n,r))return this.destroyBetween(this.index,o),a.dom!=d&&(this.changed=!0),this.index++,!0;if(!u&&(c=this.recreateWrapper(a,e,t,n,r,i)))return this.destroyBetween(this.index,o),this.top.children[this.index]=c,c.contentDOM&&(c.dirty=2,c.updateChildren(r,i+1),c.dirty=0),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,n,r,s,i){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!Ik(n,e.outerDeco)||!r.eq(e.innerDeco))return null;let o=jk.create(this.top,t,n,r,s,i);if(o.contentDOM){o.children=e.children,e.children=[];for(let e of o.children)e.parent=o}return e.destroy(),o}addNode(e,t,n,r,s){let i=jk.create(this.top,e,t,n,r,s);i.contentDOM&&i.updateChildren(r,s+1),this.top.children.splice(this.index++,0,i),this.changed=!0}placeWidget(e,t,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(e)||e!=r.widget&&r.widget.type.toDOM.parentNode){let r=new bk(this.top,e,t,n);this.top.children.splice(this.index++,0,r),this.changed=!0}else this.index++}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof kk;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Ck)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((qw||$w)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);"IMG"==e&&(n.className="ProseMirror-separator",n.alt=""),"BR"==e&&(n.className="ProseMirror-trailingBreak");let r=new Sk(this.top,[],n,null);t!=this.top?t.children.push(r):t.children.splice(this.index++,0,r),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||1==e.nodeType&&e.contains(this.lock.parentNode))}}function zk(e,t){return e.type.side-t.type.side}function Fk(e,t,n,r,s){let i=[];for(let o=0,a=0;o<e.length;o++){let l=e[o],c=a,d=a+=l.size;c>=n||d<=t?i.push(l):(c<t&&i.push(l.slice(0,t-c,r)),s&&(i.push(s),s=void 0),d>n&&i.push(l.slice(n-c,l.size,r)))}return i}function Bk(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let s=e.docView.nearestDesc(n.focusNode),i=s&&0==s.size,o=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a,l,c=r.resolve(o);if(Aw(n)){for(a=o;s&&!s.node;)s=s.parent;let e=s.node;if(s&&e.isAtom&&Pb.isSelectable(e)&&s.parent&&(!e.isInline||!function(e,t,n){for(let r=0==t,s=t==Ew(e);r||s;){if(e==n)return!0;let t=bw(e);if(!(e=e.parentNode))return!1;r=r&&0==t,s=s&&t==Ew(e)}}(n.focusNode,n.focusOffset,s.dom))){let e=s.posBefore;l=new Pb(o==e?c:r.resolve(e))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let t=o,s=o;for(let r=0;r<n.rangeCount;r++){let i=n.getRangeAt(r);t=Math.min(t,e.docView.posFromDOM(i.startContainer,i.startOffset,1)),s=Math.max(s,e.docView.posFromDOM(i.endContainer,i.endOffset,-1))}if(t<0)return null;[a,o]=s==e.state.selection.anchor?[s,t]:[t,s],c=r.resolve(o)}else a=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(a<0)return null}let d=r.resolve(a);if(!l){l=Jk(e,d,c,"pointer"==t||e.state.selection.head<c.pos&&!i?1:-1)}return l}function $k(e){return e.editable?e.hasFocus():Xk(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Vk(e,t=!1){let n=e.state.selection;if(Gk(e,n),$k(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&$w){let t=e.domSelectionRange(),n=e.domObserver.currentSelection;if(t.anchorNode&&n.anchorNode&&Nw(t.anchorNode,t.anchorOffset,n.anchorNode,n.anchorOffset))return e.input.mouseDown.delayedSelectionSync=!0,void e.domObserver.setCurSelection()}if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){let t=e.domSelection();if(!t)return;let n=e.cursorWrapper.dom,r="IMG"==n.nodeName;r?t.collapse(n.parentNode,bw(n)+1):t.collapse(n,0);!r&&!e.state.selection.visible&&Rw&&zw<=11&&(n.disabled=!0,n.disabled=!1)}(e);else{let r,s,{anchor:i,head:o}=n;!qk||n instanceof Db||(n.$from.parent.inlineContent||(r=Hk(e,n.from)),n.empty||n.$from.parent.inlineContent||(s=Hk(e,n.to))),e.docView.setSelection(i,o,e,t),qk&&(r&&Wk(r),s&&Wk(s)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,s=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{n.anchorNode==r&&n.anchorOffset==s||(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{$k(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")},20))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const qk=qw||$w&&Vw<63;function Hk(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),s=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(qw&&s&&"false"==s.contentEditable)return Uk(s);if(!(s&&"false"!=s.contentEditable||i&&"false"!=i.contentEditable)){if(s)return Uk(s);if(i)return Uk(i)}}function Uk(e){return e.contentEditable="true",qw&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function Wk(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function Gk(e,t){if(t instanceof Pb){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(Kk(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else Kk(e)}function Kk(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function Jk(e,t,n,r){return e.someProp("createSelectionBetween",r=>r(e,t,n))||Db.between(t,n,r)}function Yk(e){return!(e.editable&&!e.hasFocus())&&Xk(e)}function Xk(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(n){return!1}}function Zk(e,t){let{$anchor:n,$head:r}=e.selection,s=t>0?n.max(r):n.min(r),i=s.parent.inlineContent?s.depth?e.doc.resolve(t>0?s.after():s.before()):null:s;return i&&Eb.findFrom(i,t)}function Qk(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function ej(e,t,n){let r=e.state.selection;if(!(r instanceof Db)){if(r instanceof Pb&&r.node.isInline)return Qk(e,new Db(t>0?r.$to:r.$from));{let n=Zk(e.state,t);return!!n&&Qk(e,n)}}if(n.indexOf("s")>-1){let{$head:n}=r,s=n.textOffset?null:t<0?n.nodeBefore:n.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let i=e.state.doc.resolve(n.pos+s.nodeSize*(t<0?-1:1));return Qk(e,new Db(r.$anchor,i))}if(!r.empty)return!1;if(e.endOfTextblock(t>0?"forward":"backward")){let n=Zk(e.state,t);return!!(n&&n instanceof Pb)&&Qk(e,n)}if(!(Uw&&n.indexOf("m")>-1)){let n,s=r.$head,i=s.textOffset?null:t<0?s.nodeBefore:s.nodeAfter;if(!i||i.isText)return!1;let o=t<0?s.pos-i.nodeSize:s.pos;return!!(i.isAtom||(n=e.docView.descAt(o))&&!n.contentDOM)&&(Pb.isSelectable(i)?Qk(e,new Pb(t<0?e.state.doc.resolve(s.pos-i.nodeSize):s)):!!Kw&&Qk(e,new Db(e.state.doc.resolve(t<0?o:o+i.nodeSize))))}}function tj(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function nj(e,t){let n=e.pmViewDesc;return n&&0==n.size&&(t<0||e.nextSibling||"BR"!=e.nodeName)}function rj(e,t){return t<0?function(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let s,i,o=!1;Fw&&1==n.nodeType&&r<tj(n)&&nj(n.childNodes[r],-1)&&(o=!0);for(;;)if(r>0){if(1!=n.nodeType)break;{let e=n.childNodes[r-1];if(nj(e,-1))s=n,i=--r;else{if(3!=e.nodeType)break;n=e,r=n.nodeValue.length}}}else{if(sj(n))break;{let t=n.previousSibling;for(;t&&nj(t,-1);)s=n.parentNode,i=bw(t),t=t.previousSibling;if(t)n=t,r=tj(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}o?ij(e,n,r):s&&ij(e,s,i)}(e):function(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let s,i,o=tj(n);for(;;)if(r<o){if(1!=n.nodeType)break;if(!nj(n.childNodes[r],1))break;s=n,i=++r}else{if(sj(n))break;{let t=n.nextSibling;for(;t&&nj(t,1);)s=t.parentNode,i=bw(t)+1,t=t.nextSibling;if(t)n=t,r=0,o=tj(n);else{if(n=n.parentNode,n==e.dom)break;r=o=0}}}s&&ij(e,s,i)}(e)}function sj(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function ij(e,t,n){if(3!=t.nodeType){let e,r;(r=function(e,t){for(;e&&t==e.childNodes.length&&!Tw(e);)t=bw(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;e=n,t=0}}(t,n))?(t=r,n=0):(e=function(e,t){for(;e&&!t&&!Tw(e);)t=bw(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;t=(e=n).childNodes.length}}(t,n))&&(t=e,n=e.nodeValue.length)}let r=e.domSelection();if(!r)return;if(Aw(r)){let e=document.createRange();e.setEnd(t,n),e.setStart(t,n),r.removeAllRanges(),r.addRange(e)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:s}=e;setTimeout(()=>{e.state==s&&Vk(e)},50)}function oj(e,t){let n=e.state.doc.resolve(t);if(!$w&&!Ww&&n.parent.inlineContent){let r=e.coordsAtPos(t);if(t>n.start()){let n=e.coordsAtPos(t-1),s=(n.top+n.bottom)/2;if(s>r.top&&s<r.bottom&&Math.abs(n.left-r.left)>1)return n.left<r.left?"ltr":"rtl"}if(t<n.end()){let n=e.coordsAtPos(t+1),s=(n.top+n.bottom)/2;if(s>r.top&&s<r.bottom&&Math.abs(n.left-r.left)>1)return n.left>r.left?"ltr":"rtl"}}return"rtl"==getComputedStyle(e.dom).direction?"rtl":"ltr"}function aj(e,t,n){let r=e.state.selection;if(r instanceof Db&&!r.empty||n.indexOf("s")>-1)return!1;if(Uw&&n.indexOf("m")>-1)return!1;let{$from:s,$to:i}=r;if(!s.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let n=Zk(e.state,t);if(n&&n instanceof Pb)return Qk(e,n)}if(!s.parent.inlineContent){let n=t<0?s:i,o=r instanceof Ib?Eb.near(n,t):Eb.findFrom(n,t);return!!o&&Qk(e,o)}return!1}function lj(e,t){if(!(e.state.selection instanceof Db))return!0;let{$head:n,$anchor:r,empty:s}=e.state.selection;if(!n.sameParent(r))return!0;if(!s)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let i=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let r=e.state.tr;return t<0?r.delete(n.pos-i.nodeSize,n.pos):r.delete(n.pos,n.pos+i.nodeSize),e.dispatch(r),!0}return!1}function cj(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function dj(e,t){let n=t.keyCode,r=function(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);if(8==n||Uw&&72==n&&"c"==r)return lj(e,-1)||rj(e,-1);if(46==n&&!t.shiftKey||Uw&&68==n&&"c"==r)return lj(e,1)||rj(e,1);if(13==n||27==n)return!0;if(37==n||Uw&&66==n&&"c"==r){let t=37==n?"ltr"==oj(e,e.state.selection.from)?-1:1:-1;return ej(e,t,r)||rj(e,t)}if(39==n||Uw&&70==n&&"c"==r){let t=39==n?"ltr"==oj(e,e.state.selection.from)?1:-1:1;return ej(e,t,r)||rj(e,t)}return 38==n||Uw&&80==n&&"c"==r?aj(e,-1,r)||rj(e,-1):40==n||Uw&&78==n&&"c"==r?function(e){if(!qw||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&1==t.nodeType&&0==n&&t.firstChild&&"false"==t.firstChild.contentEditable){let n=t.firstChild;cj(e,n,"true"),setTimeout(()=>cj(e,n,"false"),20)}return!1}(e)||aj(e,1,r)||rj(e,1):r==(Uw?"m":"c")&&(66==n||73==n||89==n||90==n)}function uj(e,t){e.someProp("transformCopied",n=>{t=n(t,e)});let n=[],{content:r,openStart:s,openEnd:i}=t;for(;s>1&&i>1&&1==r.childCount&&1==r.firstChild.childCount;){s--,i--;let e=r.firstChild;n.push(e.type.name,e.attrs!=e.type.defaultAttrs?e.attrs:null),r=e.content}let o=e.someProp("clipboardSerializer")||Mv.fromSchema(e.state.schema),a=wj(),l=a.createElement("div");l.appendChild(o.serializeFragment(r,{document:a}));let c,d=l.firstChild,u=0;for(;d&&1==d.nodeType&&(c=vj[d.nodeName.toLowerCase()]);){for(let e=c.length-1;e>=0;e--){let t=a.createElement(c[e]);for(;l.firstChild;)t.appendChild(l.firstChild);l.appendChild(t),u++}d=l.firstChild}return d&&1==d.nodeType&&d.setAttribute("data-pm-slice",`${s} ${i}${u?` -${u}`:""} ${JSON.stringify(n)}`),{dom:l,text:e.someProp("clipboardTextSerializer",n=>n(t,e))||t.content.textBetween(0,t.content.size,"\n\n"),slice:t}}function hj(e,t,n,r,s){let i,o,a=s.parent.type.spec.code;if(!n&&!t)return null;let l=!!t&&(r||a||!n);if(l){if(e.someProp("transformPastedText",n=>{t=n(t,a||r,e)}),a)return o=new Iy(Ay.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0),e.someProp("transformPasted",t=>{o=t(o,e,!0)}),o;let n=e.someProp("clipboardTextParser",n=>n(t,s,r,e));if(n)o=n;else{let n=s.marks(),{schema:r}=e.state,o=Mv.fromSchema(r);i=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(e=>{let t=i.appendChild(document.createElement("p"));e&&t.appendChild(o.serializeNode(r.text(e,n)))})}}else e.someProp("transformPastedHTML",t=>{n=t(n,e)}),i=function(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n,r=wj().createElement("div"),s=/<([a-z][^>\s]+)/i.exec(e);(n=s&&vj[s[1].toLowerCase()])&&(e=n.map(e=>"<"+e+">").join("")+e+n.map(e=>"</"+e+">").reverse().join(""));if(r.innerHTML=function(e){let t=window.trustedTypes;if(!t)return e;kj||(kj=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:e=>e}));return kj.createHTML(e)}(e),n)for(let i=0;i<n.length;i++)r=r.querySelector(n[i])||r;return r}(n),Kw&&function(e){let t=e.querySelectorAll($w?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];1==r.childNodes.length&&""==r.textContent&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}(i);let c=i&&i.querySelector("[data-pm-slice]"),d=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let u=+d[3];u>0;u--){let e=i.firstChild;for(;e&&1!=e.nodeType;)e=e.nextSibling;if(!e)break;i=e}if(!o){let t=e.someProp("clipboardParser")||e.someProp("domParser")||bv.fromSchema(e.state.schema);o=t.parseSlice(i,{preserveWhitespace:!(!l&&!d),context:s,ruleFromNode:e=>"BR"!=e.nodeName||e.nextSibling||!e.parentNode||pj.test(e.parentNode.nodeName)?null:{ignore:!0}})}if(d)o=function(e,t){if(!e.size)return e;let n,r=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(a){return e}let{content:s,openStart:i,openEnd:o}=e;for(let l=n.length-2;l>=0;l-=2){let e=r.nodes[n[l]];if(!e||e.hasRequiredAttrs())break;s=Ay.from(e.create(n[l+1],s)),i++,o++}return new Iy(s,i,o)}(yj(o,+d[1],+d[2]),d[4]);else if(o=Iy.maxOpen(function(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let r,s=t.node(n).contentMatchAt(t.index(n)),i=[];if(e.forEach(e=>{if(!i)return;let t,n=s.findWrapping(e.type);if(!n)return i=null;if(t=i.length&&r.length&&fj(n,r,e,i[i.length-1],0))i[i.length-1]=t;else{i.length&&(i[i.length-1]=gj(i[i.length-1],r.length));let t=mj(e,n);i.push(t),s=s.matchType(t.type),r=n}}),i)return Ay.from(i)}return e}(o.content,s),!0),o.openStart||o.openEnd){let e=0,t=0;for(let n=o.content.firstChild;e<o.openStart&&!n.type.spec.isolating;e++,n=n.firstChild);for(let n=o.content.lastChild;t<o.openEnd&&!n.type.spec.isolating;t++,n=n.lastChild);o=yj(o,e,t)}return e.someProp("transformPasted",t=>{o=t(o,e,l)}),o}const pj=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function mj(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,Ay.from(e));return e}function fj(e,t,n,r,s){if(s<e.length&&s<t.length&&e[s]==t[s]){let i=fj(e,t,n,r.lastChild,s+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(s==e.length-1?n.type:e[s+1]))return r.copy(r.content.append(Ay.from(mj(n,e,s+1))))}}function gj(e,t){if(0==t)return e;let n=e.content.replaceChild(e.childCount-1,gj(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(Ay.empty,!0);return e.copy(n.append(r))}function xj(e,t,n,r,s,i){let o=t<0?e.firstChild:e.lastChild,a=o.content;return e.childCount>1&&(i=0),s<r-1&&(a=xj(a,t,n,r,s+1,i)),s>=n&&(a=t<0?o.contentMatchAt(0).fillBefore(a,i<=s).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(Ay.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,o.copy(a))}function yj(e,t,n){return t<e.openStart&&(e=new Iy(xj(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new Iy(xj(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const vj={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let bj=null;function wj(){return bj||(bj=document.implementation.createHTMLDocument("title"))}let kj=null;const jj={},Nj={},Cj={touchstart:!0,touchmove:!0};class Sj{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Ej(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function Tj(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=t=>Aj(e,t))})}function Aj(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return!!r&&(r(e,t)||t.defaultPrevented)})}function Mj(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function Dj(e){return{left:e.clientX,top:e.clientY}}function Oj(e,t,n,r,s){if(-1==r)return!1;let i=e.state.doc.resolve(r);for(let o=i.depth+1;o>0;o--)if(e.someProp(t,t=>o>i.depth?t(e,n,i.nodeAfter,i.before(o),s,!0):t(e,n,i.node(o),i.before(o),s,!1)))return!0;return!1}function Pj(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);r.setMeta("pointer",!0),e.dispatch(r)}function _j(e,t,n,r,s){return Oj(e,"handleClickOn",t,n,r)||e.someProp("handleClick",n=>n(e,t,r))||(s?function(e,t){if(-1==t)return!1;let n,r,s=e.state.selection;s instanceof Pb&&(n=s.node);let i=e.state.doc.resolve(t);for(let o=i.depth+1;o>0;o--){let e=o>i.depth?i.nodeAfter:i.node(o);if(Pb.isSelectable(e)){r=n&&s.$from.depth>0&&o>=s.$from.depth&&i.before(s.$from.depth+1)==s.$from.pos?i.before(s.$from.depth):i.before(o);break}}return null!=r&&(Pj(e,Pb.create(e.state.doc,r)),!0)}(e,n):function(e,t){if(-1==t)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return!!(r&&r.isAtom&&Pb.isSelectable(r))&&(Pj(e,new Pb(n)),!0)}(e,n))}function Ij(e,t,n,r){return Oj(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",n=>n(e,t,r))}function Lj(e,t,n,r){return Oj(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",n=>n(e,t,r))||function(e,t,n){if(0!=n.button)return!1;let r=e.state.doc;if(-1==t)return!!r.inlineContent&&(Pj(e,Db.create(r,0,r.content.size)),!0);let s=r.resolve(t);for(let i=s.depth+1;i>0;i--){let t=i>s.depth?s.nodeAfter:s.node(i),n=s.before(i);if(t.inlineContent)Pj(e,Db.create(r,n+1,n+1+t.content.size));else{if(!Pb.isSelectable(t))continue;Pj(e,Pb.create(r,n))}return!0}}(e,n,r)}function Rj(e){return Uj(e)}Nj.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=16==n.keyCode||n.shiftKey,!Bj(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!Gw||!$w||13!=n.keyCode))if(229!=n.keyCode&&e.domObserver.forceFlush(),!Hw||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)e.someProp("handleKeyDown",t=>t(e,n))||dj(e,n)?n.preventDefault():Ej(e,"key");else{let t=Date.now();e.input.lastIOSEnter=t,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==t&&(e.someProp("handleKeyDown",t=>t(e,Mw(13,"Enter"))),e.input.lastIOSEnter=0)},200)}},Nj.keyup=(e,t)=>{16==t.keyCode&&(e.input.shiftKey=!1)},Nj.keypress=(e,t)=>{let n=t;if(Bj(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||Uw&&n.metaKey)return;if(e.someProp("handleKeyPress",t=>t(e,n)))return void n.preventDefault();let r=e.state.selection;if(!(r instanceof Db&&r.$from.sameParent(r.$to))){let t=String.fromCharCode(n.charCode),s=()=>e.state.tr.insertText(t).scrollIntoView();/[\r\n]/.test(t)||e.someProp("handleTextInput",n=>n(e,r.$from.pos,r.$to.pos,t,s))||e.dispatch(s()),n.preventDefault()}};const zj=Uw?"metaKey":"ctrlKey";jj.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=Rj(e),s=Date.now(),i="singleClick";s-e.input.lastClick.time<500&&function(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}(n,e.input.lastClick)&&!n[zj]&&e.input.lastClick.button==n.button&&("singleClick"==e.input.lastClick.type?i="doubleClick":"doubleClick"==e.input.lastClick.type&&(i="tripleClick")),e.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:i,button:n.button};let o=e.posAtCoords(Dj(n));o&&("singleClick"==i?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new Fj(e,o,n,!!r)):("doubleClick"==i?Ij:Lj)(e,o.pos,o.inside,n)?n.preventDefault():Ej(e,"pointer"))};class Fj{constructor(e,t,n,r){let s,i;if(this.view=e,this.pos=t,this.event=n,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[zj],this.allowDefault=n.shiftKey,t.inside>-1)s=e.state.doc.nodeAt(t.inside),i=t.inside;else{let n=e.state.doc.resolve(t.pos);s=n.parent,i=n.depth?n.before():0}const o=r?null:n.target,a=o?e.docView.nearestDesc(o,!0):null;this.target=a&&1==a.nodeDOM.nodeType?a.nodeDOM:null;let{selection:l}=e.state;(0==n.button&&s.type.spec.draggable&&!1!==s.type.spec.selectable||l instanceof Pb&&l.from<=i&&l.to>i)&&(this.mightDrag={node:s,pos:i,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!Fw||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ej(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Vk(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Dj(e))),this.updateAllowDefault(e),this.allowDefault||!t?Ej(this.view,"pointer"):_j(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||qw&&this.mightDrag&&!this.mightDrag.node.isAtom||$w&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Pj(this.view,Eb.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Ej(this.view,"pointer")}move(e){this.updateAllowDefault(e),Ej(this.view,"pointer"),0==e.buttons&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}function Bj(e,t){return!!e.composing||!!(qw&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500)&&(e.input.compositionEndedAt=-2e8,!0)}jj.touchstart=e=>{e.input.lastTouch=Date.now(),Rj(e),Ej(e,"pointer")},jj.touchmove=e=>{e.input.lastTouch=Date.now(),Ej(e,"pointer")},jj.contextmenu=e=>Rj(e);const $j=Gw?5e3:-1;function Vj(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>Uj(e),t))}function qj(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=function(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function Hj(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=function(e,t){for(;;){if(3==e.nodeType&&t)return e;if(1==e.nodeType&&t>0){if("false"==e.contentEditable)return null;t=Ew(e=e.childNodes[t-1])}else{if(!e.parentNode||Tw(e))return null;t=bw(e),e=e.parentNode}}}(t.focusNode,t.focusOffset),r=function(e,t){for(;;){if(3==e.nodeType&&t<e.nodeValue.length)return e;if(1==e.nodeType&&t<e.childNodes.length){if("false"==e.contentEditable)return null;e=e.childNodes[t],t=0}else{if(!e.parentNode||Tw(e))return null;t=bw(e)+1,e=e.parentNode}}}(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let t=r.pmViewDesc,s=e.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!t||!t.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let e=n.pmViewDesc;if(e&&e.isText(n.nodeValue))return r}}return n||r}function Uj(e,t=!1){if(!(Gw&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),qj(e),t||e.docView&&e.docView.dirty){let n=Bk(e),r=e.state.selection;return n&&!n.eq(r)?e.dispatch(e.state.tr.setSelection(n)):!e.markCursor&&!t||r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?e.updateState(e.state):e.dispatch(e.state.tr.deleteSelection()),!0}return!1}}Nj.compositionstart=Nj.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof Db&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(e=>!1===e.type.spec.inclusive)||$w&&Ww&&function(e){let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(!t||1!=t.nodeType||n>=t.childNodes.length)return!1;let r=t.childNodes[n];return 1==r.nodeType&&"false"==r.contentEditable}(e)))e.markCursor=e.state.storedMarks||n.marks(),Uj(e,!0),e.markCursor=null;else if(Uj(e,!t.selection.empty),Fw&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let t=e.domSelectionRange();for(let n=t.focusNode,r=t.focusOffset;n&&1==n.nodeType&&0!=r;){let t=r<0?n.lastChild:n.childNodes[r-1];if(!t)break;if(3==t.nodeType){let n=e.domSelection();n&&n.collapse(t,t.nodeValue.length);break}n=t,r=-1}}e.input.composing=!0}Vj(e,$j)},Nj.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.badSafariComposition?e.domObserver.forceFlush():e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,Vj(e,20))};const Wj=Rw&&zw<15||Hw&&Jw<604;function Gj(e,t,n,r,s){let i=hj(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",t=>t(e,s,i||Iy.empty)))return!0;if(!i)return!1;let o=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(i),a=o?e.state.tr.replaceSelectionWith(o,r):e.state.tr.replaceSelection(i);return e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Kj(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}jj.copy=Nj.cut=(e,t)=>{let n=t,r=e.state.selection,s="cut"==n.type;if(r.empty)return;let i=Wj?null:n.clipboardData,o=r.content(),{dom:a,text:l}=uj(e,o);i?(n.preventDefault(),i.clearData(),i.setData("text/html",a.innerHTML),i.setData("text/plain",l)):function(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}(e,a),s&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},Nj.paste=(e,t)=>{let n=t;if(e.composing&&!Gw)return;let r=Wj?null:n.clipboardData,s=e.input.shiftKey&&45!=e.input.lastKeyCode;r&&Gj(e,Kj(r),r.getData("text/html"),s,n)?n.preventDefault():function(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=e.input.shiftKey&&45!=e.input.lastKeyCode;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Gj(e,r.value,null,s,t):Gj(e,r.textContent,r.innerHTML,s,t)},50)}(e,n)};class Jj{constructor(e,t,n){this.slice=e,this.move=t,this.node=n}}const Yj=Uw?"altKey":"ctrlKey";function Xj(e,t){let n=e.someProp("dragCopies",e=>!e(t));return null!=n?n:!t[Yj]}jj.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let s,i=e.state.selection,o=i.empty?null:e.posAtCoords(Dj(n));if(o&&o.pos>=i.from&&o.pos<=(i instanceof Pb?i.to-1:i.to));else if(r&&r.mightDrag)s=Pb.create(e.state.doc,r.mightDrag.pos);else if(n.target&&1==n.target.nodeType){let t=e.docView.nearestDesc(n.target,!0);t&&t.node.type.spec.draggable&&t!=e.docView&&(s=Pb.create(e.state.doc,t.posBefore))}let a=(s||e.state.selection).content(),{dom:l,text:c,slice:d}=uj(e,a);(!n.dataTransfer.files.length||!$w||Vw>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Wj?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Wj||n.dataTransfer.setData("text/plain",c),e.dragging=new Jj(d,Xj(e,n),s)},jj.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)},Nj.dragover=Nj.dragenter=(e,t)=>t.preventDefault(),Nj.drop=(e,t)=>{try{!function(e,t,n){if(!t.dataTransfer)return;let r=e.posAtCoords(Dj(t));if(!r)return;let s=e.state.doc.resolve(r.pos),i=n&&n.slice;i?e.someProp("transformPasted",t=>{i=t(i,e,!1)}):i=hj(e,Kj(t.dataTransfer),Wj?null:t.dataTransfer.getData("text/html"),!1,s);let o=!(!n||!Xj(e,t));if(e.someProp("handleDrop",n=>n(e,t,i||Iy.empty,o)))return void t.preventDefault();if(!i)return;t.preventDefault();let a=i?db(e.state.doc,s.pos,i):s.pos;null==a&&(a=s.pos);let l=e.state.tr;if(o){let{node:e}=n;e?e.replace(l):l.deleteSelection()}let c=l.mapping.map(a),d=0==i.openStart&&0==i.openEnd&&1==i.content.childCount,u=l.doc;d?l.replaceRangeWith(c,c,i.content.firstChild):l.replaceRange(c,c,i);if(l.doc.eq(u))return;let h=l.doc.resolve(c);if(d&&Pb.isSelectable(i.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(i.content.firstChild))l.setSelection(new Pb(h));else{let t=l.mapping.map(a);l.mapping.maps[l.mapping.maps.length-1].forEach((e,n,r,s)=>t=s),l.setSelection(Jk(e,h,l.doc.resolve(t)))}e.focus(),e.dispatch(l.setMeta("uiEvent","drop"))}(e,t,e.dragging)}finally{e.dragging=null}},jj.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Vk(e)},20))},jj.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)},jj.beforeinput=(e,t)=>{if($w&&Gw&&"deleteContentBackward"==t.inputType){e.domObserver.flushSoon();let{domChangeCount:t}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=t)return;if(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",t=>t(e,Mw(8,"Backspace"))))return;let{$cursor:n}=e.state.selection;n&&n.pos>0&&e.dispatch(e.state.tr.delete(n.pos-1,n.pos).scrollIntoView())},50)}};for(let os in Nj)jj[os]=Nj[os];function Zj(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class Qj{constructor(e,t){this.toDOM=e,this.spec=t||sN,this.side=this.spec.side||0}map(e,t,n,r){let{pos:s,deleted:i}=e.mapResult(t.from+r,this.side<0?-1:1);return i?null:new nN(s-n,s-n,this)}valid(){return!0}eq(e){return this==e||e instanceof Qj&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Zj(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class eN{constructor(e,t){this.attrs=e,this.spec=t||sN}map(e,t,n,r){let s=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,i=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return s>=i?null:new nN(s,i,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof eN&&Zj(this.attrs,e.attrs)&&Zj(this.spec,e.spec)}static is(e){return e.type instanceof eN}destroy(){}}class tN{constructor(e,t){this.attrs=e,this.spec=t||sN}map(e,t,n,r){let s=e.mapResult(t.from+r,1);if(s.deleted)return null;let i=e.mapResult(t.to+r,-1);return i.deleted||i.pos<=s.pos?null:new nN(s.pos-n,i.pos-n,this)}valid(e,t){let n,{index:r,offset:s}=e.content.findIndex(t.from);return s==t.from&&!(n=e.child(r)).isText&&s+n.nodeSize==t.to}eq(e){return this==e||e instanceof tN&&Zj(this.attrs,e.attrs)&&Zj(this.spec,e.spec)}destroy(){}}class nN{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new nN(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new nN(e,e,new Qj(t,n))}static inline(e,t,n,r){return new nN(e,t,new eN(n,r))}static node(e,t,n,r){return new nN(e,t,new tN(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof eN}get widget(){return this.type instanceof Qj}}const rN=[],sN={};class iN{constructor(e,t){this.local=e.length?e:rN,this.children=t.length?t:rN}static create(e,t){return t.length?uN(t,e,0,sN):oN}find(e,t,n){let r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r}findInner(e,t,n,r,s){for(let i=0;i<this.local.length;i++){let o=this.local[i];o.from<=t&&o.to>=e&&(!s||s(o.spec))&&n.push(o.copy(o.from+r,o.to+r))}for(let i=0;i<this.children.length;i+=3)if(this.children[i]<t&&this.children[i+1]>e){let o=this.children[i]+1;this.children[i+2].findInner(e-o,t-o,n,r+o,s)}}map(e,t,n){return this==oN||0==e.maps.length?this:this.mapInner(e,t,0,0,n||sN)}mapInner(e,t,n,r,s){let i;for(let o=0;o<this.local.length;o++){let a=this.local[o].map(e,n,r);a&&a.type.valid(t,a)?(i||(i=[])).push(a):s.onRemove&&s.onRemove(this.local[o].spec)}return this.children.length?function(e,t,n,r,s,i,o){let a=e.slice();for(let c=0,d=i;c<n.maps.length;c++){let e=0;n.maps[c].forEach((t,n,r,s)=>{let i=s-r-(n-t);for(let o=0;o<a.length;o+=3){let r=a[o+1];if(r<0||t>r+d-e)continue;let s=a[o]+d-e;n>=s?a[o+1]=t<=s?-2:-1:t>=d&&i&&(a[o]+=i,a[o+1]+=i)}e+=i}),d=n.maps[c].map(d,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(-2==a[c+1]){l=!0,a[c+1]=-1;continue}let t=n.map(e[c]+i),d=t-s;if(d<0||d>=r.content.size){l=!0;continue}let u=n.map(e[c+1]+i,-1)-s,{index:h,offset:p}=r.content.findIndex(d),m=r.maybeChild(h);if(m&&p==d&&p+m.nodeSize==u){let r=a[c+2].mapInner(n,m,t+1,e[c]+i+1,o);r!=oN?(a[c]=d,a[c+1]=u,a[c+2]=r):(a[c+1]=-2,l=!0)}else l=!0}if(l){let l=function(e,t,n,r,s,i,o){function a(e,t){for(let i=0;i<e.local.length;i++){let a=e.local[i].map(r,s,t);a?n.push(a):o.onRemove&&o.onRemove(e.local[i].spec)}for(let n=0;n<e.children.length;n+=3)a(e.children[n+2],e.children[n]+t+1)}for(let l=0;l<e.length;l+=3)-1==e[l+1]&&a(e[l+2],t[l]+i+1);return n}(a,e,t,n,s,i,o),c=uN(l,r,0,o);t=c.local;for(let e=0;e<a.length;e+=3)a[e+1]<0&&(a.splice(e,3),e-=3);for(let e=0,t=0;e<c.children.length;e+=3){let n=c.children[e];for(;t<a.length&&a[t]<n;)t+=3;a.splice(t,0,c.children[e],c.children[e+1],c.children[e+2])}}return new iN(t.sort(hN),a)}(this.children,i||[],e,t,n,r,s):i?new iN(i.sort(hN),rN):oN}add(e,t){return t.length?this==oN?iN.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let r,s=0;e.forEach((e,i)=>{let o,a=i+n;if(o=cN(t,e,a)){for(r||(r=this.children.slice());s<r.length&&r[s]<i;)s+=3;r[s]==i?r[s+2]=r[s+2].addInner(e,o,a+1):r.splice(s,0,i,i+e.nodeSize,uN(o,e,a+1,sN)),s+=3}});let i=lN(s?dN(t):t,-n);for(let o=0;o<i.length;o++)i[o].type.valid(e,i[o])||i.splice(o--,1);return new iN(i.length?this.local.concat(i).sort(hN):this.local,r||this.children)}remove(e){return 0==e.length||this==oN?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,r=this.local;for(let s=0;s<n.length;s+=3){let r,i=n[s]+t,o=n[s+1]+t;for(let t,n=0;n<e.length;n++)(t=e[n])&&t.from>i&&t.to<o&&(e[n]=null,(r||(r=[])).push(t));if(!r)continue;n==this.children&&(n=this.children.slice());let a=n[s+2].removeInner(r,i+1);a!=oN?n[s+2]=a:(n.splice(s,3),s-=3)}if(r.length)for(let s,i=0;i<e.length;i++)if(s=e[i])for(let e=0;e<r.length;e++)r[e].eq(s,t)&&(r==this.local&&(r=this.local.slice()),r.splice(e--,1));return n==this.children&&r==this.local?this:r.length||n.length?new iN(r,n):oN}forChild(e,t){if(this==oN)return this;if(t.isLeaf)return iN.empty;let n,r;for(let o=0;o<this.children.length;o+=3)if(this.children[o]>=e){this.children[o]==e&&(n=this.children[o+2]);break}let s=e+1,i=s+t.content.size;for(let o=0;o<this.local.length;o++){let e=this.local[o];if(e.from<i&&e.to>s&&e.type instanceof eN){let t=Math.max(s,e.from)-s,n=Math.min(i,e.to)-s;t<n&&(r||(r=[])).push(e.copy(t,n))}}if(r){let e=new iN(r.sort(hN),rN);return n?new aN([e,n]):e}return n||oN}eq(e){if(this==e)return!0;if(!(e instanceof iN)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return pN(this.localsInner(e))}localsInner(e){if(this==oN)return rN;if(e.inlineContent||!this.local.some(eN.is))return this.local;let t=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof eN||t.push(this.local[n]);return t}forEachSet(e){e(this)}}iN.empty=new iN([],[]),iN.removeOverlap=pN;const oN=iN.empty;class aN{constructor(e){this.members=e}map(e,t){const n=this.members.map(n=>n.map(e,t,sN));return aN.from(n)}forChild(e,t){if(t.isLeaf)return iN.empty;let n=[];for(let r=0;r<this.members.length;r++){let s=this.members[r].forChild(e,t);s!=oN&&(s instanceof aN?n=n.concat(s.members):n.push(s))}return aN.from(n)}eq(e){if(!(e instanceof aN)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let r=0;r<this.members.length;r++){let s=this.members[r].localsInner(e);if(s.length)if(t){n&&(t=t.slice(),n=!1);for(let e=0;e<s.length;e++)t.push(s[e])}else t=s}return t?pN(n?t:t.sort(hN)):rN}static from(e){switch(e.length){case 0:return oN;case 1:return e[0];default:return new aN(e.every(e=>e instanceof iN)?e:e.reduce((e,t)=>e.concat(t instanceof iN?t:t.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function lN(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let s=e[r];n.push(new nN(s.from+t,s.to+t,s.type))}return n}function cN(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,s=null;for(let i,o=0;o<e.length;o++)(i=e[o])&&i.from>n&&i.to<r&&((s||(s=[])).push(i),e[o]=null);return s}function dN(e){let t=[];for(let n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function uN(e,t,n,r){let s=[],i=!1;t.forEach((t,o)=>{let a=cN(e,t,o+n);if(a){i=!0;let e=uN(a,t,n+o+1,r);e!=oN&&s.push(o,o+t.nodeSize,e)}});let o=lN(i?dN(e):e,-n).sort(hN);for(let a=0;a<o.length;a++)o[a].type.valid(t,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||s.length?new iN(o,s):oN}function hN(e,t){return e.from-t.from||e.to-t.to}function pN(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let s=n+1;s<t.length;s++){let i=t[s];if(i.from!=r.from){i.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,i.from),mN(t,s,r.copy(i.from,r.to)));break}i.to!=r.to&&(t==e&&(t=e.slice()),t[s]=i.copy(i.from,r.to),mN(t,s+1,i.copy(r.to,i.to)))}}return t}function mN(e,t,n){for(;t<e.length&&hN(n,e[t])>0;)t++;e.splice(t,0,n)}function fN(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=oN&&t.push(r)}),e.cursorWrapper&&t.push(iN.create(e.state.doc,[e.cursorWrapper.deco])),aN.from(t)}const gN={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},xN=Rw&&zw<=11;class yN{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class vN{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new yN,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(t=>{for(let e=0;e<t.length;e++)this.queue.push(t[e]);Rw&&zw<=11&&t.some(e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length)?this.flushSoon():qw&&e.composing&&t.some(e=>"childList"==e.type&&"TR"==e.target.nodeName)?(e.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),xN&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,gN)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Yk(this.view)){if(this.suppressingSelectionUpdates)return Vk(this.view);if(Rw&&zw<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Nw(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t,n=new Set;for(let s=e.focusNode;s;s=ww(s))n.add(s);for(let s=e.anchorNode;s;s=ww(s))if(n.has(s)){t=s;break}let r=t&&this.view.docView.nearestDesc(t);return r&&r.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let n=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&Yk(e)&&!this.ignoreSelectionChange(n),s=-1,i=-1,o=!1,a=[];if(e.editable)for(let c=0;c<t.length;c++){let e=this.registerMutation(t[c],a);e&&(s=s<0?e.from:Math.min(e.from,s),i=i<0?e.to:Math.max(e.to,i),e.typeOver&&(o=!0))}if(!a.some(e=>"BR"==e.nodeName)||8!=e.input.lastKeyCode&&46!=e.input.lastKeyCode){if(Fw&&a.length){let t=a.filter(e=>"BR"==e.nodeName);if(2==t.length){let[e,n]=t;e.parentNode&&e.parentNode.parentNode==n.parentNode?n.remove():e.remove()}else{let{focusNode:n}=this.currentSelection;for(let r of t){let t=r.parentNode;!t||"LI"!=t.nodeName||n&&jN(e,n)==t||r.remove()}}}}else for(let c of a)if("BR"==c.nodeName&&c.parentNode){let e=c.nextSibling;e&&1==e.nodeType&&"false"==e.contentEditable&&c.parentNode.removeChild(c)}let l=null;s<0&&r&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Aw(n)&&(l=Bk(e))&&l.eq(Eb.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Vk(e),this.currentSelection.set(n),e.scrollToSelection()):(s>-1||r)&&(s>-1&&(e.docView.markDirty(s,i),function(e){if(bN.has(e))return;if(bN.set(e,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)){if(e.requiresGeckoHackNode=Fw,wN)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),wN=!0}}(e)),e.input.badSafariComposition&&(e.input.badSafariComposition=!1,function(e,t){var n;let{focusNode:r,focusOffset:s}=e.domSelectionRange();for(let i of t)if("TR"==(null===(n=i.parentNode)||void 0===n?void 0:n.nodeName)){let t=i.nextSibling;for(;t&&"TD"!=t.nodeName&&"TH"!=t.nodeName;)t=t.nextSibling;if(t){let n=t;for(;;){let e=n.firstChild;if(!e||1!=e.nodeType||"false"==e.contentEditable||/^(BR|IMG)$/.test(e.nodeName))break;n=e}n.insertBefore(i,n.firstChild),r==i&&e.domSelection().collapse(i,s)}else i.parentNode.removeChild(i)}}(e,a)),this.handleDOMChange(s,i,o,a),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||Vk(e),this.currentSelection.set(n))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(let n=0;n<e.addedNodes.length;n++){let r=e.addedNodes[n];t.push(r),3==r.nodeType&&(this.lastChangedTextNode=r)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let r=e.previousSibling,s=e.nextSibling;if(Rw&&zw<=11&&e.addedNodes.length)for(let t=0;t<e.addedNodes.length;t++){let{previousSibling:n,nextSibling:i}=e.addedNodes[t];(!n||Array.prototype.indexOf.call(e.addedNodes,n)<0)&&(r=n),(!i||Array.prototype.indexOf.call(e.addedNodes,i)<0)&&(s=i)}let i=r&&r.parentNode==e.target?bw(r)+1:0,o=n.localPosFromDOM(e.target,i,-1),a=s&&s.parentNode==e.target?bw(s):e.target.childNodes.length;return{from:o,to:n.localPosFromDOM(e.target,a,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let bN=new WeakMap,wN=!1;function kN(e,t){let n=t.startContainer,r=t.startOffset,s=t.endContainer,i=t.endOffset,o=e.domAtPos(e.state.selection.anchor);return Nw(o.node,o.offset,s,i)&&([n,r,s,i]=[s,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:i}}function jN(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let t=e.docView.nearestDesc(n,!0);if(t&&t.node.isBlock)return n}return null}function NN(e){let t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(qw&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}if(e.parentNode.lastChild==e||qw&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const CN=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function SN(e,t,n,r,s){let i=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let t=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,n=Bk(e,t);if(n&&!e.state.selection.eq(n)){if($w&&Gw&&13===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",t=>t(e,Mw(13,"Enter"))))return;let r=e.state.tr.setSelection(n);"pointer"==t?r.setMeta("pointer",!0):"key"==t&&r.scrollIntoView(),i&&r.setMeta("composition",i),e.dispatch(r)}return}let o=e.state.doc.resolve(t),a=o.sharedDepth(n);t=o.before(a+1),n=e.state.doc.resolve(n).after(a+1);let l,c,d=e.state.selection,u=function(e,t,n){let r,{node:s,fromOffset:i,toOffset:o,from:a,to:l}=e.docView.parseRange(t,n),c=e.domSelectionRange(),d=c.anchorNode;if(d&&e.dom.contains(1==d.nodeType?d:d.parentNode)&&(r=[{node:d,offset:c.anchorOffset}],Aw(c)||r.push({node:c.focusNode,offset:c.focusOffset})),$w&&8===e.input.lastKeyCode)for(let g=o;g>i;g--){let e=s.childNodes[g-1],t=e.pmViewDesc;if("BR"==e.nodeName&&!t){o=g;break}if(!t||t.size)break}let u=e.state.doc,h=e.someProp("domParser")||bv.fromSchema(e.state.schema),p=u.resolve(a),m=null,f=h.parse(s,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:o,preserveWhitespace:"pre"!=p.parent.type.whitespace||"full",findPositions:r,ruleFromNode:NN,context:p});if(r&&null!=r[0].pos){let e=r[0].pos,t=r[1]&&r[1].pos;null==t&&(t=e),m={anchor:e+a,head:t+a}}return{doc:f,sel:m,from:a,to:l}}(e,t,n),h=e.state.doc,p=h.slice(u.from,u.to);8===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime?(l=e.state.selection.to,c="end"):(l=e.state.selection.from,c="start"),e.input.lastKeyCode=null;let m=function(e,t,n,r,s){let i=e.findDiffStart(t,n);if(null==i)return null;let{a:o,b:a}=e.findDiffEnd(t,n+e.size,n+t.size);if("end"==s){r-=o+Math.max(0,i-Math.min(o,a))-i}if(o<i&&e.size<t.size){let e=r<=i&&r>=o?i-r:0;i-=e,i&&i<t.size&&AN(t.textBetween(i-1,i+1))&&(i+=e?1:-1),a=i+(a-o),o=i}else if(a<i){let t=r<=i&&r>=a?i-r:0;i-=t,i&&i<e.size&&AN(e.textBetween(i-1,i+1))&&(i+=t?1:-1),o=i+(o-a),a=i}return{start:i,endA:o,endB:a}}(p.content,u.doc.content,u.from,l,c);if(m&&e.input.domChangeCount++,(Hw&&e.input.lastIOSEnter>Date.now()-225||Gw)&&s.some(e=>1==e.nodeType&&!CN.test(e.nodeName))&&(!m||m.endA>=m.endB)&&e.someProp("handleKeyDown",t=>t(e,Mw(13,"Enter"))))return void(e.input.lastIOSEnter=0);if(!m){if(!(r&&d instanceof Db&&!d.empty&&d.$head.sameParent(d.$anchor))||e.composing||u.sel&&u.sel.anchor!=u.sel.head){if(u.sel){let t=EN(e,e.state.doc,u.sel);if(t&&!t.eq(e.state.selection)){let n=e.state.tr.setSelection(t);i&&n.setMeta("composition",i),e.dispatch(n)}}return}m={start:d.from,endA:d.to,endB:d.to}}e.state.selection.from<e.state.selection.to&&m.start==m.endB&&e.state.selection instanceof Db&&(m.start>e.state.selection.from&&m.start<=e.state.selection.from+2&&e.state.selection.from>=u.from?m.start=e.state.selection.from:m.endA<e.state.selection.to&&m.endA>=e.state.selection.to-2&&e.state.selection.to<=u.to&&(m.endB+=e.state.selection.to-m.endA,m.endA=e.state.selection.to)),Rw&&zw<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>u.from&&" "==u.doc.textBetween(m.start-u.from-1,m.start-u.from+1)&&(m.start--,m.endA--,m.endB--);let f=u.doc.resolveNoCache(m.start-u.from),g=u.doc.resolveNoCache(m.endB-u.from),x=h.resolve(m.start),y=f.sameParent(g)&&f.parent.inlineContent&&x.end()>=m.endA;if((Hw&&e.input.lastIOSEnter>Date.now()-225&&(!y||s.some(e=>"DIV"==e.nodeName||"P"==e.nodeName))||!y&&f.pos<u.doc.content.size&&(!f.sameParent(g)||!f.parent.inlineContent)&&f.pos<g.pos&&!/\S/.test(u.doc.textBetween(f.pos,g.pos,"","")))&&e.someProp("handleKeyDown",t=>t(e,Mw(13,"Enter"))))return void(e.input.lastIOSEnter=0);if(e.state.selection.anchor>m.start&&function(e,t,n,r,s){if(n-t<=s.pos-r.pos||TN(r,!0,!1)<s.pos)return!1;let i=e.resolve(t);if(!r.parent.isTextblock){let e=i.nodeAfter;return null!=e&&n==t+e.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let o=e.resolve(TN(i,!0,!0));return!(!o.parent.isTextblock||o.pos>n||TN(o,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(o.parent.content)}(h,m.start,m.endA,f,g)&&e.someProp("handleKeyDown",t=>t(e,Mw(8,"Backspace"))))return void(Gw&&$w&&e.domObserver.suppressSelectionUpdates());$w&&m.endB==m.start&&(e.input.lastChromeDelete=Date.now()),Gw&&!y&&f.start()!=g.start()&&0==g.parentOffset&&f.depth==g.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==m.endA&&(m.endB-=2,g=u.doc.resolveNoCache(m.endB-u.from),setTimeout(()=>{e.someProp("handleKeyDown",function(t){return t(e,Mw(13,"Enter"))})},20));let v,b=m.start,w=m.endA,k=t=>{let n=t||e.state.tr.replace(b,w,u.doc.slice(m.start-u.from,m.endB-u.from));if(u.sel){let t=EN(e,n.doc,u.sel);t&&!($w&&e.composing&&t.empty&&(m.start!=m.endB||e.input.lastChromeDelete<Date.now()-100)&&(t.head==b||t.head==n.mapping.map(w)-1)||Rw&&t.empty&&t.head==b)&&n.setSelection(t)}return i&&n.setMeta("composition",i),n.scrollIntoView()};if(y)if(f.pos==g.pos){Rw&&zw<=11&&0==f.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Vk(e),20));let t=k(e.state.tr.delete(b,w)),n=h.resolve(m.start).marksAcross(h.resolve(m.endA));n&&t.ensureMarks(n),e.dispatch(t)}else if(m.endA==m.endB&&(v=function(e,t){let n,r,s,i=e.firstChild.marks,o=t.firstChild.marks,a=i,l=o;for(let d=0;d<o.length;d++)a=o[d].removeFromSet(a);for(let d=0;d<i.length;d++)l=i[d].removeFromSet(l);if(1==a.length&&0==l.length)r=a[0],n="add",s=e=>e.mark(r.addToSet(e.marks));else{if(0!=a.length||1!=l.length)return null;r=l[0],n="remove",s=e=>e.mark(r.removeFromSet(e.marks))}let c=[];for(let d=0;d<t.childCount;d++)c.push(s(t.child(d)));if(Ay.from(c).eq(e))return{mark:r,type:n}}(f.parent.content.cut(f.parentOffset,g.parentOffset),x.parent.content.cut(x.parentOffset,m.endA-x.start())))){let t=k(e.state.tr);"add"==v.type?t.addMark(b,w,v.mark):t.removeMark(b,w,v.mark),e.dispatch(t)}else if(f.parent.child(f.index()).isText&&f.index()==g.index()-(g.textOffset?0:1)){let t=f.parent.textBetween(f.parentOffset,g.parentOffset),n=()=>k(e.state.tr.insertText(t,b,w));e.someProp("handleTextInput",r=>r(e,b,w,t,n))||e.dispatch(n())}else e.dispatch(k());else e.dispatch(k())}function EN(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:Jk(e,t.resolve(n.anchor),t.resolve(n.head))}function TN(e,t,n){let r=e.depth,s=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,s++,t=!1;if(n){let t=e.node(r).maybeChild(e.indexAfter(r));for(;t&&!t.isLeaf;)t=t.firstChild,s++}return s}function AN(e){if(2!=e.length)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class MN{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Sj,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(IN),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):"function"==typeof e?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=PN(this),ON(this),this.nodeViews=_N(this),this.docView=Nk(this.state.doc,DN(this),fN(this),this.dom,this),this.domObserver=new vN(this,(e,t,n,r)=>SN(this,e,t,n,r)),this.domObserver.start(),function(e){for(let t in jj){let n=jj[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=t=>{!Mj(e,t)||Aj(e,t)||!e.editable&&t.type in Nj||n(e,t)},Cj[t]?{passive:!0}:void 0)}qw&&e.dom.addEventListener("input",()=>null),Tj(e)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Tj(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(IN),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let n in this._props)t[n]=this._props[n];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var n;let r=this.state,s=!1,i=!1;e.storedMarks&&this.composing&&(qj(this),i=!0),this.state=e;let o=r.plugins!=e.plugins||this._props.plugins!=t.plugins;if(o||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let e=_N(this);(function(e,t){let n=0,r=0;for(let s in e){if(e[s]!=t[s])return!0;n++}for(let s in t)r++;return n!=r})(e,this.nodeViews)&&(this.nodeViews=e,s=!0)}(o||t.handleDOMEvents!=this._props.handleDOMEvents)&&Tj(this),this.editable=PN(this),ON(this);let a=fN(this),l=DN(this),c=r.plugins==e.plugins||r.doc.eq(e.doc)?e.scrollToSelection>r.scrollToSelection?"to selection":"preserve":"reset",d=s||!this.docView.matchesNode(e.doc,l,a);!d&&e.selection.eq(r.selection)||(i=!0);let u="preserve"==c&&i&&null==this.dom.style.overflowAnchor&&function(e){let t,n,r=e.dom.getBoundingClientRect(),s=Math.max(0,r.top);for(let i=(r.left+r.right)/2,o=s+1;o<Math.min(innerHeight,r.bottom);o+=5){let r=e.root.elementFromPoint(i,o);if(!r||r==e.dom||!e.dom.contains(r))continue;let a=r.getBoundingClientRect();if(a.top>=s-20){t=r,n=a.top;break}}return{refDOM:t,refTop:n,stack:ek(e.dom)}}(this);if(i){this.domObserver.stop();let t=d&&(Rw||$w)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&function(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}(r.selection,e.selection);if(d){let n=$w?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Hj(this)),!s&&this.docView.update(e.doc,l,a,this)||(this.docView.updateOuterDeco(l),this.docView.destroy(),this.docView=Nk(e.doc,l,a,this.dom,this)),!n||this.trackWrites&&this.dom.contains(this.trackWrites)||(t=!0)}t||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&function(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return Nw(t.node,t.offset,n.anchorNode,n.anchorOffset)}(this))?Vk(this,t):(Gk(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),(null===(n=this.dragging)||void 0===n?void 0:n.node)&&!r.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,r),"reset"==c?this.dom.scrollTop=0:"to selection"==c?this.scrollToSelection():u&&function({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;tk(n,0==r?0:r-t)}(u)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(e&&this.dom.contains(1==e.nodeType?e:e.parentNode))if(this.someProp("handleScrollToSelection",e=>e(this)));else if(this.state.selection instanceof Pb){let t=this.docView.domAfterPos(this.state.selection.from);1==t.nodeType&&Qw(this,t.getBoundingClientRect(),e)}else Qw(this,this.coordsAtPos(this.state.selection.head,1),e);else;}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let t=this.directPlugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let t=this.state.plugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}}}updateDraggedNode(e,t){let n=e.node,r=-1;if(this.state.doc.nodeAt(n.from)==n.node)r=n.from;else{let e=n.from+(this.state.doc.content.size-t.doc.content.size);(e>0&&this.state.doc.nodeAt(e))==n.node&&(r=e)}this.dragging=new Jj(e.slice,e.move,r<0?void 0:Pb.create(this.state.doc,r))}someProp(e,t){let n,r=this._props&&this._props[e];if(null!=r&&(n=t?t(r):r))return n;for(let i=0;i<this.directPlugins.length;i++){let r=this.directPlugins[i].props[e];if(null!=r&&(n=t?t(r):r))return n}let s=this.state.plugins;if(s)for(let i=0;i<s.length;i++){let r=s[i].props[e];if(null!=r&&(n=t?t(r):r))return n}}hasFocus(){if(Rw){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if("false"==e.contentEditable)return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(nk)return e.focus(nk);let t=ek(e);e.focus(null==nk?{get preventScroll(){return nk={preventScroll:!0},!0}}:void 0),nk||(nk=!1,tk(t,0))}(this.dom),Vk(this),this.domObserver.start()}get root(){let e=this._root;if(null==e)for(let t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t;return e||document}updateRoot(){this._root=null}posAtCoords(e){return ok(this,e)}coordsAtPos(e,t=1){return dk(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let r=this.docView.posFromDOM(e,t,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,t){return yk(this,t||this.state,e)}pasteHTML(e,t){return Gj(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Gj(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return uj(this,e)}destroy(){this.docView&&(!function(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],fN(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,kw=null)}get isDestroyed(){return null==this.docView}dispatchEvent(e){return function(e,t){Aj(e,t)||!jj[t.type]||!e.editable&&t.type in Nj||jj[t.type](e,t)}(this,e)}domSelectionRange(){let e=this.domSelection();return e?qw&&11===this.root.nodeType&&function(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}(this.dom.ownerDocument)==this.dom&&function(e,t){if(t.getComposedRanges){let n=t.getComposedRanges(e.root)[0];if(n)return kN(e,n)}let n;function r(e){e.preventDefault(),e.stopImmediatePropagation(),n=e.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?kN(e,n):null}(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function DN(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if("function"==typeof n&&(n=n(e.state)),n)for(let e in n)"class"==e?t.class+=" "+n[e]:"style"==e?t.style=(t.style?t.style+";":"")+n[e]:t[e]||"contenteditable"==e||"nodeName"==e||(t[e]=String(n[e]))}),t.translate||(t.translate="no"),[nN.node(0,e.state.doc.content.size,t)]}function ON(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:nN.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function PN(e){return!e.someProp("editable",t=>!1===t(e.state))}function _N(e){let t=Object.create(null);function n(e){for(let n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function IN(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}MN.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};for(var LN={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},RN={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},zN="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),FN="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),BN=0;BN<10;BN++)LN[48+BN]=LN[96+BN]=String(BN);for(BN=1;BN<=24;BN++)LN[BN+111]="F"+BN;for(BN=65;BN<=90;BN++)LN[BN]=String.fromCharCode(BN+32),RN[BN]=String.fromCharCode(BN);for(var $N in LN)RN.hasOwnProperty($N)||(RN[$N]=LN[$N]);const VN="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),qN="undefined"!=typeof navigator&&/Win/.test(navigator.platform);function HN(e){let t,n,r,s,i=e.split(/-(?!$)/),o=i[i.length-1];"Space"==o&&(o=" ");for(let a=0;a<i.length-1;a++){let e=i[a];if(/^(cmd|meta|m)$/i.test(e))s=!0;else if(/^a(lt)?$/i.test(e))t=!0;else if(/^(c|ctrl|control)$/i.test(e))n=!0;else if(/^s(hift)?$/i.test(e))r=!0;else{if(!/^mod$/i.test(e))throw new Error("Unrecognized modifier name: "+e);VN?s=!0:n=!0}}return t&&(o="Alt-"+o),n&&(o="Ctrl-"+o),s&&(o="Meta-"+o),r&&(o="Shift-"+o),o}function UN(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function WN(e){let t=function(e){let t=Object.create(null);for(let n in e)t[HN(n)]=e[n];return t}(e);return function(e,n){let r,s=function(e){var t=!(zN&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||FN&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?RN:LN)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(n),i=t[UN(s,n)];if(i&&i(e.state,e.dispatch,e))return!0;if(1==s.length&&" "!=s){if(n.shiftKey){let r=t[UN(s,n,!1)];if(r&&r(e.state,e.dispatch,e))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(qN&&n.ctrlKey&&n.altKey)&&(r=LN[n.keyCode])&&r!=s){let s=t[UN(r,n)];if(s&&s(e.state,e.dispatch,e))return!0}}return!1}}var GN=Object.defineProperty,KN=(e,t)=>{for(var n in t)GN(e,n,{get:t[n],enumerable:!0})};function JN(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:s}=n,{storedMarks:i}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return i},get selection(){return r},get doc(){return s},get tr(){return r=n.selection,s=n.doc,i=n.storedMarks,n}}}var YN=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:r}=t,{tr:s}=n,i=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([e,t])=>[e,(...e)=>{const n=t(...e)(i);return s.getMeta("preventDispatch")||this.hasCustomState||r.dispatch(s),n}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:r,state:s}=this,{view:i}=r,o=[],a=!!e,l=e||s.tr,c={...Object.fromEntries(Object.entries(n).map(([e,n])=>[e,(...e)=>{const r=this.buildProps(l,t),s=n(...e)(r);return o.push(s),c}])),run:()=>(a||!t||l.getMeta("preventDispatch")||this.hasCustomState||i.dispatch(l),o.every(e=>!0===e))};return c}createCan(e){const{rawCommands:t,state:n}=this,r=!1,s=e||n.tr,i=this.buildProps(s,r),o=Object.fromEntries(Object.entries(t).map(([e,t])=>[e,(...e)=>t(...e)({...i,dispatch:void 0})]));return{...o,chain:()=>this.createChain(s,r)}}buildProps(e,t=!0){const{rawCommands:n,editor:r,state:s}=this,{view:i}=r,o={tr:e,editor:r,view:i,state:JN({state:s,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([e,t])=>[e,(...e)=>t(...e)(o)]))}};return o}},XN={};KN(XN,{blur:()=>ZN,clearContent:()=>QN,clearNodes:()=>eC,command:()=>tC,createParagraphNear:()=>nC,cut:()=>rC,deleteCurrentNode:()=>sC,deleteNode:()=>oC,deleteRange:()=>aC,deleteSelection:()=>lC,enter:()=>cC,exitCode:()=>dC,extendMarkRange:()=>xC,first:()=>yC,focus:()=>NC,forEach:()=>CC,insertContent:()=>SC,insertContentAt:()=>MC,joinBackward:()=>PC,joinDown:()=>OC,joinForward:()=>_C,joinItemBackward:()=>IC,joinItemForward:()=>LC,joinTextblockBackward:()=>RC,joinTextblockForward:()=>zC,joinUp:()=>DC,keyboardShortcut:()=>BC,lift:()=>VC,liftEmptyBlock:()=>qC,liftListItem:()=>HC,newlineInCode:()=>UC,resetAttributes:()=>KC,scrollIntoView:()=>JC,selectAll:()=>YC,selectNodeBackward:()=>XC,selectNodeForward:()=>ZC,selectParentNode:()=>QC,selectTextblockEnd:()=>eS,selectTextblockStart:()=>tS,setContent:()=>rS,setMark:()=>FS,setMeta:()=>BS,setNode:()=>$S,setNodeSelection:()=>VS,setTextDirection:()=>qS,setTextSelection:()=>HS,sinkListItem:()=>US,splitBlock:()=>GS,splitListItem:()=>KS,toggleList:()=>XS,toggleMark:()=>ZS,toggleNode:()=>QS,toggleWrap:()=>eE,undoInputRule:()=>tE,unsetAllMarks:()=>nE,unsetMark:()=>rE,unsetTextDirection:()=>sE,updateAttributes:()=>iE,wrapIn:()=>oE,wrapInList:()=>aE});var ZN=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),null==(n=null==window?void 0:window.getSelection())||n.removeAllRanges())}),!0),QN=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),eC=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:s}=r;return!n||(s.forEach(({$from:n,$to:r})=>{e.doc.nodesBetween(n.pos,r.pos,(e,n)=>{if(e.type.isText)return;const{doc:r,mapping:s}=t,i=r.resolve(s.map(n)),o=r.resolve(s.map(n+e.nodeSize)),a=i.blockRange(o);if(!a)return;const l=tb(a);if(e.type.isTextblock){const{defaultType:e}=i.parent.contentMatchAt(i.index());t.setNodeMarkup(a.start,e)}(l||0===l)&&t.lift(a,l)})}),!0)},tC=e=>t=>e(t),nC=()=>({state:e,dispatch:t})=>cw(e,t),rC=(e,t)=>({editor:n,tr:r})=>{const{state:s}=n,i=s.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const o=r.mapping.map(t);return r.insert(o,i.content),r.setSelection(new Db(r.doc.resolve(Math.max(o-1,0)))),!0},sC=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const s=e.selection.$anchor;for(let i=s.depth;i>0;i-=1){if(s.node(i).type===r.type){if(t){const t=s.before(i),n=s.after(i);e.delete(t,n).scrollIntoView()}return!0}}return!1};function iC(e,t){if("string"==typeof e){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var oC=e=>({tr:t,state:n,dispatch:r})=>{const s=iC(e,n.schema),i=t.selection.$anchor;for(let e=i.depth;e>0;e-=1){if(i.node(e).type===s){if(r){const n=i.before(e),r=i.after(e);t.delete(n,r).scrollIntoView()}return!0}}return!1},aC=e=>({tr:t,dispatch:n})=>{const{from:r,to:s}=e;return n&&t.delete(r,s),!0},lC=()=>({state:e,dispatch:t})=>Yb(e,t),cC=()=>({commands:e})=>e.keyboardShortcut("Enter"),dC=()=>({state:e,dispatch:t})=>((e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let s=n.node(-1),i=n.indexAfter(-1),o=lw(s.contentMatchAt(i));if(!o||!s.canReplaceWith(i,i,o))return!1;if(t){let r=n.after(),s=e.tr.replaceWith(r,r,o.createAndFill());s.setSelection(Eb.near(s.doc.resolve(r),1)),t(s.scrollIntoView())}return!0})(e,t);function uC(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function hC(e,t,n={strict:!0}){const r=Object.keys(t);return!r.length||r.every(r=>n.strict?t[r]===e[r]:uC(t[r])?t[r].test(e[r]):t[r]===e[r])}function pC(e,t,n={}){return e.find(e=>e.type===t&&hC(Object.fromEntries(Object.keys(n).map(t=>[t,e.attrs[t]])),n))}function mC(e,t,n={}){return!!pC(e,t,n)}function fC(e,t,n){var r;if(!e||!t)return;let s=e.parent.childAfter(e.parentOffset);if(s.node&&s.node.marks.some(e=>e.type===t)||(s=e.parent.childBefore(e.parentOffset)),!s.node||!s.node.marks.some(e=>e.type===t))return;n=n||(null==(r=s.node.marks[0])?void 0:r.attrs);if(!pC([...s.node.marks],t,n))return;let i=s.index,o=e.start()+s.offset,a=i+1,l=o+s.node.nodeSize;for(;i>0&&mC([...e.parent.child(i-1).marks],t,n);)i-=1,o-=e.parent.child(i).nodeSize;for(;a<e.parent.childCount&&mC([...e.parent.child(a).marks],t,n);)l+=e.parent.child(a).nodeSize,a+=1;return{from:o,to:l}}function gC(e,t){if("string"==typeof e){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var xC=(e,t={})=>({tr:n,state:r,dispatch:s})=>{const i=gC(e,r.schema),{doc:o,selection:a}=n,{$from:l,from:c,to:d}=a;if(s){const e=fC(l,i,t);if(e&&e.from<=c&&e.to>=d){const t=Db.create(o,e.from,e.to);n.setSelection(t)}}return!0},yC=e=>t=>{const n="function"==typeof e?e(t):e;for(let e=0;e<n.length;e+=1)if(n[e](t))return!0;return!1};function vC(e){return e instanceof Db}function bC(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function wC(e,t=null){if(!t)return null;const n=Eb.atStart(e),r=Eb.atEnd(e);if("start"===t||!0===t)return n;if("end"===t)return r;const s=n.from,i=r.to;return"all"===t?Db.create(e,bC(0,s,i),bC(e.content.size,s,i)):Db.create(e,bC(t,s,i),bC(t,s,i))}function kC(){return"Android"===navigator.platform||/android/i.test(navigator.userAgent)}function jC(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var NC=(e=null,t={})=>({editor:n,view:r,tr:s,dispatch:i})=>{t={scrollIntoView:!0,...t};const o=()=>{(jC()||kC())&&r.dom.focus(),"undefined"==typeof navigator||!/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||jC()||kC()||r.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),(null==t?void 0:t.scrollIntoView)&&n.commands.scrollIntoView())})};try{if(r.hasFocus()&&null===e||!1===e)return!0}catch{return!1}if(i&&null===e&&!vC(n.state.selection))return o(),!0;const a=wC(s.doc,e)||n.state.selection,l=n.state.selection.eq(a);return i&&(l||s.setSelection(a),l&&s.storedMarks&&s.setStoredMarks(s.storedMarks),o()),!0},CC=(e,t)=>n=>e.every((e,r)=>t(e,{...n,index:r})),SC=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),EC=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];3===r.nodeType&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):1===r.nodeType&&EC(r)}return e};function TC(e){if("undefined"==typeof window)throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=(new window.DOMParser).parseFromString(t,"text/html").body;return EC(n)}function AC(e,t,n){if(e instanceof Qy||e instanceof Ay)return e;n={slice:!0,parseOptions:{},...n};const r="string"==typeof e;if("object"==typeof e&&null!==e)try{if(Array.isArray(e)&&e.length>0)return Ay.fromArray(e.map(e=>t.nodeFromJSON(e)));const r=t.nodeFromJSON(e);return n.errorOnInvalidContent&&r.check(),r}catch(cR){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:cR});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",cR),AC("",t,n)}if(r){if(n.errorOnInvalidContent){let r=!1,s="";const i=new yv({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:e=>(r=!0,s="string"==typeof e?e:e.outerHTML,null)}]}})});if(n.slice?bv.fromSchema(i).parseSlice(TC(e),n.parseOptions):bv.fromSchema(i).parse(TC(e),n.parseOptions),n.errorOnInvalidContent&&r)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${s}`)})}const r=bv.fromSchema(t);return n.slice?r.parseSlice(TC(e),n.parseOptions).content:r.parse(TC(e),n.parseOptions)}return AC("",t,n)}var MC=(e,t,n)=>({tr:r,dispatch:s,editor:i})=>{var o;if(s){let s;const l=e=>{i.emit("contentError",{editor:i,error:e,disableCollaboration:()=>{"collaboration"in i.storage&&"object"==typeof i.storage.collaboration&&i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...(n={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n}).parseOptions};if(!n.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{AC(t,i.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(a){l(a)}try{s=AC(t,i.schema,{parseOptions:c,errorOnInvalidContent:null!=(o=n.errorOnInvalidContent)?o:i.options.enableContentCheck})}catch(a){return l(a),!1}let{from:d,to:u}="number"==typeof e?{from:e,to:e}:{from:e.from,to:e.to},h=!0,p=!0;if(("type"in s?[s]:s).forEach(e=>{e.check(),h=!!h&&(e.isText&&0===e.marks.length),p=!!p&&e.isBlock}),d===u&&p){const{parent:e}=r.doc.resolve(d);e.isTextblock&&!e.type.spec.code&&!e.childCount&&(d-=1,u+=1)}let m;if(h){if(Array.isArray(t))m=t.map(e=>e.text||"").join("");else if(t instanceof Ay){let e="";t.forEach(t=>{t.text&&(e+=t.text)}),m=e}else m="object"==typeof t&&t&&t.text?t.text:t;r.insertText(m,d,u)}else{m=s;const e=r.doc.resolve(d),t=e.node(),n=0===e.parentOffset,i=t.isText||t.isTextblock,o=t.content.size>0;n&&i&&o&&(d=Math.max(0,d-1)),r.replaceWith(d,u,m)}n.updateSelection&&function(e,t,n){const r=e.steps.length-1;if(r<t)return;const s=e.steps[r];if(!(s instanceof Yv||s instanceof Xv))return;const i=e.mapping.maps[r];let o=0;i.forEach((e,t,n,r)=>{0===o&&(o=r)}),e.setSelection(Eb.near(e.doc.resolve(o),n))}(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:d,text:m}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:d,text:m})}return!0},DC=()=>({state:e,dispatch:t})=>((e,t)=>{let n,r=e.selection,s=r instanceof Pb;if(s){if(r.node.isTextblock||!ab(e.doc,r.from))return!1;n=r.from}else if(n=cb(e.doc,r.from,-1),null==n)return!1;if(t){let r=e.tr.join(n);s&&r.setSelection(Pb.create(r.doc,n-e.doc.resolve(n).nodeBefore.nodeSize)),t(r.scrollIntoView())}return!0})(e,t),OC=()=>({state:e,dispatch:t})=>((e,t)=>{let n,r=e.selection;if(r instanceof Pb){if(r.node.isTextblock||!ab(e.doc,r.to))return!1;n=r.to}else if(n=cb(e.doc,r.to,1),null==n)return!1;return t&&t(e.tr.join(n).scrollIntoView()),!0})(e,t),PC=()=>({state:e,dispatch:t})=>Zb(e,t),_C=()=>({state:e,dispatch:t})=>sw(e,t),IC=()=>({state:e,dispatch:t,tr:n})=>{try{const r=cb(e.doc,e.selection.$from.pos,-1);return null!=r&&(n.join(r,2),t&&t(n),!0)}catch{return!1}},LC=()=>({state:e,dispatch:t,tr:n})=>{try{const r=cb(e.doc,e.selection.$from.pos,1);return null!=r&&(n.join(r,2),t&&t(n),!0)}catch{return!1}},RC=()=>({state:e,dispatch:t})=>((e,t,n)=>{let r=Xb(e,n);if(!r)return!1;let s=nw(r);return!!s&&Qb(e,s,t)})(e,t),zC=()=>({state:e,dispatch:t})=>((e,t,n)=>{let r=rw(e,n);if(!r)return!1;let s=ow(r);return!!s&&Qb(e,s,t)})(e,t);function FC(){return"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)}var BC=e=>({editor:t,view:n,tr:r,dispatch:s})=>{const i=function(e){const t=e.split(/-(?!$)/);let n,r,s,i,o=t[t.length-1];"Space"===o&&(o=" ");for(let a=0;a<t.length-1;a+=1){const e=t[a];if(/^(cmd|meta|m)$/i.test(e))i=!0;else if(/^a(lt)?$/i.test(e))n=!0;else if(/^(c|ctrl|control)$/i.test(e))r=!0;else if(/^s(hift)?$/i.test(e))s=!0;else{if(!/^mod$/i.test(e))throw new Error(`Unrecognized modifier name: ${e}`);jC()||FC()?i=!0:r=!0}}return n&&(o=`Alt-${o}`),r&&(o=`Ctrl-${o}`),i&&(o=`Meta-${o}`),s&&(o=`Shift-${o}`),o}(e).split(/-(?!$)/),o=i.find(e=>!["Alt","Ctrl","Meta","Shift"].includes(e)),a=new KeyboardEvent("keydown",{key:"Space"===o?" ":o,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",e=>e(n,a))});return null==l||l.steps.forEach(e=>{const t=e.map(r.mapping);t&&s&&r.maybeStep(t)}),!0};function $C(e,t,n={}){const{from:r,to:s,empty:i}=e.selection,o=t?iC(t,e.schema):null,a=[];e.doc.nodesBetween(r,s,(e,t)=>{if(e.isText)return;const n=Math.max(r,t),i=Math.min(s,t+e.nodeSize);a.push({node:e,from:n,to:i})});const l=s-r,c=a.filter(e=>!o||o.name===e.node.type.name).filter(e=>hC(e.node.attrs,n,{strict:!1}));if(i)return!!c.length;return c.reduce((e,t)=>e+t.to-t.from,0)>=l}var VC=(e,t={})=>({state:n,dispatch:r})=>!!$C(n,iC(e,n.schema),t)&&((e,t)=>{let{$from:n,$to:r}=e.selection,s=n.blockRange(r),i=s&&tb(s);return null!=i&&(t&&t(e.tr.lift(s,i).scrollIntoView()),!0)})(n,r),qC=()=>({state:e,dispatch:t})=>dw(e,t),HC=e=>({state:t,dispatch:n})=>vw(iC(e,t.schema))(t,n),UC=()=>({state:e,dispatch:t})=>aw(e,t);function WC(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function GC(e,t){const n="string"==typeof t?[t]:t;return Object.keys(e).reduce((t,r)=>(n.includes(r)||(t[r]=e[r]),t),{})}var KC=(e,t)=>({tr:n,state:r,dispatch:s})=>{let i=null,o=null;const a=WC("string"==typeof e?e:e.name,r.schema);if(!a)return!1;"node"===a&&(i=iC(e,r.schema)),"mark"===a&&(o=gC(e,r.schema));let l=!1;return n.selection.ranges.forEach(e=>{r.doc.nodesBetween(e.$from.pos,e.$to.pos,(e,r)=>{i&&i===e.type&&(l=!0,s&&n.setNodeMarkup(r,void 0,GC(e.attrs,t))),o&&e.marks.length&&e.marks.forEach(i=>{o===i.type&&(l=!0,s&&n.addMark(r,r+e.nodeSize,o.create(GC(i.attrs,t))))})})}),l},JC=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),YC=()=>({tr:e,dispatch:t})=>{if(t){const t=new Ib(e.doc);e.setSelection(t)}return!0},XC=()=>({state:e,dispatch:t})=>tw(e,t),ZC=()=>({state:e,dispatch:t})=>iw(e,t),QC=()=>({state:e,dispatch:t})=>((e,t)=>{let n,{$from:r,to:s}=e.selection,i=r.sharedDepth(s);return 0!=i&&(n=r.before(i),t&&t(e.tr.setSelection(Pb.create(e.doc,n))),!0)})(e,t),eS=()=>({state:e,dispatch:t})=>fw(e,t),tS=()=>({state:e,dispatch:t})=>mw(e,t);function nS(e,t,n={},r={}){return AC(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var rS=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:s,tr:i,dispatch:o,commands:a})=>{const{doc:l}=i;if("full"!==r.preserveWhitespace){const a=nS(e,s.schema,r,{errorOnInvalidContent:null!=t?t:s.options.enableContentCheck});return o&&i.replaceWith(0,l.content.size,a).setMeta("preventUpdate",!n),!0}return o&&i.setMeta("preventUpdate",!n),a.insertContentAt({from:0,to:l.content.size},e,{parseOptions:r,errorOnInvalidContent:null!=t?t:s.options.enableContentCheck})};function sS(e,t){const n=gC(t,e.schema),{from:r,to:s,empty:i}=e.selection,o=[];i?(e.storedMarks&&o.push(...e.storedMarks),o.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,s,e=>{o.push(...e.marks)});const a=o.find(e=>e.type.name===n.name);return a?{...a.attrs}:{}}function iS(e,t){const n=new Cb(e);return t.forEach(e=>{e.steps.forEach(e=>{n.step(e)})}),n}function oS(e){return t=>function(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}(t.$from,e)}function aS(e,t,n){if(void 0===e.config[t]&&e.parent)return aS(e.parent,t,n);if("function"==typeof e.config[t]){return e.config[t].bind({...n,parent:e.parent?aS(e.parent,t,n):null})}return e.config[t]}function lS(e){return e.map(e=>{const t=aS(e,"addExtensions",{name:e.name,options:e.options,storage:e.storage});return t?[e,...lS(t())]:e}).flat(10)}function cS(e,t){const n=Mv.fromSchema(t).serializeFragment(e),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}function dS(e){return"function"==typeof e}function uS(e,t=void 0,...n){return dS(e)?t?e.bind(t)(...n):e(...n):e}function hS(e){const t=e.filter(e=>"extension"===e.type),n=e.filter(e=>"node"===e.type),r=e.filter(e=>"mark"===e.type);return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function pS(e){const t=[],{nodeExtensions:n,markExtensions:r}=hS(e),s=[...n,...r],i={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1},o=n.filter(e=>"text"!==e.name).map(e=>e.name),a=r.map(e=>e.name),l=[...o,...a];return e.forEach(e=>{const n=aS(e,"addGlobalAttributes",{name:e.name,options:e.options,storage:e.storage,extensions:s});if(!n)return;n().forEach(e=>{let n;n=Array.isArray(e.types)?e.types:"*"===e.types?l:"nodes"===e.types?o:"marks"===e.types?a:[],n.forEach(n=>{Object.entries(e.attributes).forEach(([e,r])=>{t.push({type:n,name:e,attribute:{...i,...r}})})})})}),s.forEach(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=aS(e,"addAttributes",n);if(!r)return;const s=r();Object.entries(s).forEach(([n,r])=>{const s={...i,...r};"function"==typeof(null==s?void 0:s.default)&&(s.default=s.default()),(null==s?void 0:s.isRequired)&&void 0===(null==s?void 0:s.default)&&delete s.default,t.push({type:e.name,name:n,attribute:s})})}),t}function mS(...e){return e.filter(e=>!!e).reduce((e,t)=>{const n={...e};return Object.entries(t).forEach(([e,t])=>{if(n[e])if("class"===e){const r=t?String(t).split(" "):[],s=n[e]?n[e].split(" "):[],i=r.filter(e=>!s.includes(e));n[e]=[...s,...i].join(" ")}else if("style"===e){const r=t?t.split(";").map(e=>e.trim()).filter(Boolean):[],s=n[e]?n[e].split(";").map(e=>e.trim()).filter(Boolean):[],i=new Map;s.forEach(e=>{const[t,n]=e.split(":").map(e=>e.trim());i.set(t,n)}),r.forEach(e=>{const[t,n]=e.split(":").map(e=>e.trim());i.set(t,n)}),n[e]=Array.from(i.entries()).map(([e,t])=>`${e}: ${t}`).join("; ")}else n[e]=t;else n[e]=t}),n},{})}function fS(e,t){return t.filter(t=>t.type===e.type.name).filter(e=>e.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(e.attrs)||{}:{[t.name]:e.attrs[t.name]}).reduce((e,t)=>mS(e,t),{})}function gS(e,t){return"style"in e?e:{...e,getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(!1===r)return!1;const s=t.reduce((e,t)=>{const r=t.attribute.parseHTML?t.attribute.parseHTML(n):function(e){return"string"!=typeof e?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):"true"===e||"false"!==e&&e}(n.getAttribute(t.name));return null==r?e:{...e,[t.name]:r}},{});return{...r,...s}}}}function xS(e){return Object.fromEntries(Object.entries(e).filter(([e,t])=>("attrs"!==e||!function(e={}){return 0===Object.keys(e).length&&e.constructor===Object}(t))&&null!=t))}function yS(e){var t,n;const r={};return!(null==(t=null==e?void 0:e.attribute)?void 0:t.isRequired)&&"default"in((null==e?void 0:e.attribute)||{})&&(r.default=e.attribute.default),void 0!==(null==(n=null==e?void 0:e.attribute)?void 0:n.validate)&&(r.validate=e.attribute.validate),[e.name,r]}function vS(e){return e.sort((e,t)=>{const n=aS(e,"priority")||100,r=aS(t,"priority")||100;return n>r?-1:n<r?1:0})}function bS(e){const t=vS(lS(e)),n=function(e){const t=e.filter((t,n)=>e.indexOf(t)!==n);return Array.from(new Set(t))}(t.map(e=>e.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(e=>`'${e}'`).join(", ")}]. This can lead to issues.`),t}function wS(e,t,n){const{from:r,to:s}=t,{blockSeparator:i="\n\n",textSerializers:o={}}=n||{};let a="";return e.nodesBetween(r,s,(e,n,l,c)=>{var d;e.isBlock&&n>r&&(a+=i);const u=null==o?void 0:o[e.type.name];if(u)return l&&(a+=u({node:e,pos:n,parent:l,index:c,range:t})),!1;e.isText&&(a+=null==(d=null==e?void 0:e.text)?void 0:d.slice(Math.max(r,n)-n,s-n))}),a}function kS(e,t){return wS(e,{from:0,to:e.content.size},t)}function jS(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}function NS(e,t){const n=WC("string"==typeof t?t:t.name,e.schema);return"node"===n?function(e,t){const n=iC(t,e.schema),{from:r,to:s}=e.selection,i=[];e.doc.nodesBetween(r,s,e=>{i.push(e)});const o=i.reverse().find(e=>e.type.name===n.name);return o?{...o.attrs}:{}}(e,t):"mark"===n?sS(e,t):{}}function CS(e){const t=function(e,t=JSON.stringify){const n={};return e.filter(e=>{const r=t(e);return!Object.prototype.hasOwnProperty.call(n,r)&&(n[r]=!0)})}(e);return 1===t.length?t:t.filter((e,n)=>{const r=t.filter((e,t)=>t!==n);return!r.some(t=>e.oldRange.from>=t.oldRange.from&&e.oldRange.to<=t.oldRange.to&&e.newRange.from>=t.newRange.from&&e.newRange.to<=t.newRange.to)})}function SS(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((e,s)=>{const i=[];if(e.ranges.length)e.forEach((e,t)=>{i.push({from:e,to:t})});else{const{from:e,to:t}=n[s];if(void 0===e||void 0===t)return;i.push({from:e,to:t})}i.forEach(({from:e,to:n})=>{const i=t.slice(s).map(e,-1),o=t.slice(s).map(n),a=t.invert().map(i,-1),l=t.invert().map(o);r.push({oldRange:{from:a,to:l},newRange:{from:i,to:o}})})}),CS(r)}function ES(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(t=>{const s=fC(n.resolve(e),t.type);s&&r.push({mark:t,...s})}):n.nodesBetween(e,t,(e,t)=>{e&&void 0!==(null==e?void 0:e.nodeSize)&&r.push(...e.marks.map(n=>({from:t,to:t+e.nodeSize,mark:n})))}),r}function TS(e,t){return t.nodes[e]||t.marks[e]||null}function AS(e,t,n){return Object.fromEntries(Object.entries(n).filter(([n])=>{const r=e.find(e=>e.type===t&&e.name===n);return!!r&&r.attribute.keepOnSplit}))}function MS(e,t,n={}){const{empty:r,ranges:s}=e.selection,i=t?gC(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(e=>!i||i.name===e.type.name).find(e=>hC(e.attrs,n,{strict:!1}));let o=0;const a=[];if(s.forEach(({$from:t,$to:n})=>{const r=t.pos,s=n.pos;e.doc.nodesBetween(r,s,(e,t)=>{if(i&&e.inlineContent&&!e.type.allowsMarkType(i))return!1;if(!e.isText&&!e.marks.length)return;const n=Math.max(r,t),l=Math.min(s,t+e.nodeSize);o+=l-n,a.push(...e.marks.map(e=>({mark:e,from:n,to:l})))})}),0===o)return!1;const l=a.filter(e=>!i||i.name===e.mark.type.name).filter(e=>hC(e.mark.attrs,n,{strict:!1})).reduce((e,t)=>e+t.to-t.from,0),c=a.filter(e=>!i||e.mark.type!==i&&e.mark.type.excludes(i)).reduce((e,t)=>e+t.to-t.from,0);return(l>0?l+c:l)>=o}function DS(e,t){return Array.isArray(t)?t.some(t=>("string"==typeof t?t:t.name)===e.name):t}function OS(e,t){const{nodeExtensions:n}=hS(t),r=n.find(t=>t.name===e);if(!r)return!1;const s=uS(aS(r,"group",{name:r.name,options:r.options,storage:r.storage}));return"string"==typeof s&&s.split(" ").includes("list")}function PS(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if("hardBreak"===e.type.name)return!0;if(e.isText)return/^\s*$/m.test(null!=(r=e.text)?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(0===e.content.childCount)return!0;if(t){let r=!0;return e.content.forEach(e=>{!1!==r&&(PS(e,{ignoreWhitespace:n,checkChildren:t})||(r=!1))}),r}return!1}function _S(e){return e instanceof Pb}var IS=class e{constructor(e){this.position=e}static fromJSON(t){return new e(t.position)}toJSON(){return{position:this.position}}};function LS(e,t){const n=t.mapping.mapResult(e.position);return{position:new IS(n.pos),mapResult:n}}function RS(e){return new IS(e)}function zS(e,t,n){const r=e.state.doc.content.size,s=bC(t,0,r),i=bC(n,0,r),o=e.coordsAtPos(s),a=e.coordsAtPos(i,-1),l=Math.min(o.top,a.top),c=Math.max(o.bottom,a.bottom),d=Math.min(o.left,a.left),u=Math.max(o.right,a.right),h={top:l,bottom:c,left:d,right:u,width:u-d,height:c-l,x:d,y:l};return{...h,toJSON:()=>h}}var FS=(e,t={})=>({tr:n,state:r,dispatch:s})=>{const{selection:i}=n,{empty:o,ranges:a}=i,l=gC(e,r.schema);if(s)if(o){const e=sS(r,l);n.addStoredMark(l.create({...e,...t}))}else a.forEach(e=>{const s=e.$from.pos,i=e.$to.pos;r.doc.nodesBetween(s,i,(e,r)=>{const o=Math.max(r,s),a=Math.min(r+e.nodeSize,i),c=e.marks.find(e=>e.type===l);c?e.marks.forEach(e=>{l===e.type&&n.addMark(o,a,l.create({...e.attrs,...t}))}):n.addMark(o,a,l.create(t))})});return function(e,t,n){var r;const{selection:s}=t;let i=null;if(vC(s)&&(i=s.$cursor),i){const t=null!=(r=e.storedMarks)?r:i.marks();return i.parent.type.allowsMarkType(n)&&(!!n.isInSet(t)||!t.some(e=>e.type.excludes(n)))}const{ranges:o}=s;return o.some(({$from:t,$to:r})=>{let s=0===t.depth&&e.doc.inlineContent&&e.doc.type.allowsMarkType(n);return e.doc.nodesBetween(t.pos,r.pos,(e,t,r)=>{if(s)return!1;if(e.isInline){const t=!r||r.type.allowsMarkType(n),i=!!n.isInSet(e.marks)||!e.marks.some(e=>e.type.excludes(n));s=t&&i}return!s}),s})}(r,n,l)},BS=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),$S=(e,t={})=>({state:n,dispatch:r,chain:s})=>{const i=iC(e,n.schema);let o;return n.selection.$anchor.sameParent(n.selection.$head)&&(o=n.selection.$anchor.parent.attrs),i.isTextblock?s().command(({commands:e})=>!!gw(i,{...o,...t})(n)||e.clearNodes()).command(({state:e})=>gw(i,{...o,...t})(e,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},VS=e=>({tr:t,dispatch:n})=>{if(n){const{doc:n}=t,r=bC(e,0,n.content.size),s=Pb.create(n,r);t.setSelection(s)}return!0},qS=(e,t)=>({tr:n,state:r,dispatch:s})=>{const{selection:i}=r;let o,a;return"number"==typeof t?(o=t,a=t):t&&"from"in t&&"to"in t?(o=t.from,a=t.to):(o=i.from,a=i.to),s&&n.doc.nodesBetween(o,a,(t,r)=>{t.isText||n.setNodeMarkup(r,void 0,{...t.attrs,dir:e})}),!0},HS=e=>({tr:t,dispatch:n})=>{if(n){const{doc:n}=t,{from:r,to:s}="number"==typeof e?{from:e,to:e}:e,i=Db.atStart(n).from,o=Db.atEnd(n).to,a=bC(r,i,o),l=bC(s,i,o),c=Db.create(n,a,l);t.setSelection(c)}return!0},US=e=>({state:t,dispatch:n})=>{const r=iC(e,t.schema);return(s=r,function(e,t){let{$from:n,$to:r}=e.selection,i=n.blockRange(r,e=>e.childCount>0&&e.firstChild.type==s);if(!i)return!1;let o=i.startIndex;if(0==o)return!1;let a=i.parent,l=a.child(o-1);if(l.type!=s)return!1;if(t){let n=l.lastChild&&l.lastChild.type==a.type,r=Ay.from(n?s.create():null),o=new Iy(Ay.from(s.create(null,Ay.from(a.type.create(null,r)))),n?3:1,0),c=i.start,d=i.end;t(e.tr.step(new Xv(c-(n?3:1),d,c,d,o,1,!0)).scrollIntoView())}return!0})(t,n);var s};function WS(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(e=>null==t?void 0:t.includes(e.type.name));e.tr.ensureMarks(r)}}var GS=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:s})=>{const{selection:i,doc:o}=t,{$from:a,$to:l}=i,c=AS(s.extensionManager.attributes,a.node().type.name,a.node().attrs);if(i instanceof Pb&&i.node.isBlock)return!(!a.parentOffset||!ob(o,a.pos))&&(r&&(e&&WS(n,s.extensionManager.splittableMarks),t.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,u=0===a.depth?void 0:function(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}(a.node(-1).contentMatchAt(a.indexAfter(-1)));let h=d&&u?[{type:u,attrs:c}]:void 0,p=ob(t.doc,t.mapping.map(a.pos),1,h);if(h||p||!ob(t.doc,t.mapping.map(a.pos),1,u?[{type:u}]:void 0)||(p=!0,h=u?[{type:u,attrs:c}]:void 0),r){if(p&&(i instanceof Db&&t.deleteSelection(),t.split(t.mapping.map(a.pos),1,h),u&&!d&&!a.parentOffset&&a.parent.type!==u)){const e=t.mapping.map(a.before()),n=t.doc.resolve(e);a.node(-1).canReplaceWith(n.index(),n.index()+1,u)&&t.setNodeMarkup(t.mapping.map(a.before()),u)}e&&WS(n,s.extensionManager.splittableMarks),t.scrollIntoView()}return p},KS=(e,t={})=>({tr:n,state:r,dispatch:s,editor:i})=>{var o;const a=iC(e,r.schema),{$from:l,$to:c}=r.selection,d=r.selection.node;if(d&&d.isBlock||l.depth<2||!l.sameParent(c))return!1;const u=l.node(-1);if(u.type!==a)return!1;const h=i.extensionManager.attributes;if(0===l.parent.content.size&&l.node(-1).childCount===l.indexAfter(-1)){if(2===l.depth||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(s){let e=Ay.empty;const r=l.index(-1)?1:l.index(-2)?2:3;for(let t=l.depth-r;t>=l.depth-3;t-=1)e=Ay.from(l.node(t).copy(e));const s=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,i={...AS(h,l.node().type.name,l.node().attrs),...t},c=(null==(o=a.contentMatch.defaultType)?void 0:o.createAndFill(i))||void 0;e=e.append(Ay.from(a.createAndFill(null,c)||void 0));const d=l.before(l.depth-(r-1));n.replace(d,l.after(-s),new Iy(e,4-r,0));let u=-1;n.doc.nodesBetween(d,n.doc.content.size,(e,t)=>{if(u>-1)return!1;e.isTextblock&&0===e.content.size&&(u=t+1)}),u>-1&&n.setSelection(Db.near(n.doc.resolve(u))),n.scrollIntoView()}return!0}const p=c.pos===l.end()?u.contentMatchAt(0).defaultType:null,m={...AS(h,u.type.name,u.attrs),...t},f={...AS(h,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,c.pos);const g=p?[{type:a,attrs:m},{type:p,attrs:f}]:[{type:a,attrs:m}];if(!ob(n.doc,l.pos,2))return!1;if(s){const{selection:e,storedMarks:t}=r,{splittableMarks:o}=i.extensionManager,a=t||e.$to.parentOffset&&e.$from.marks();if(n.split(l.pos,2,g).scrollIntoView(),!a||!s)return!0;const c=a.filter(e=>o.includes(e.type.name));n.ensureMarks(c)}return!0},JS=(e,t)=>{const n=oS(e=>e.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(void 0===r)return!0;const s=e.doc.nodeAt(r);return n.node.type!==(null==s?void 0:s.type)||!ab(e.doc,n.pos)||(e.join(n.pos),!0)},YS=(e,t)=>{const n=oS(e=>e.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(void 0===r)return!0;const s=e.doc.nodeAt(r);return n.node.type!==(null==s?void 0:s.type)||!ab(e.doc,r)||(e.join(r),!0)},XS=(e,t,n,r={})=>({editor:s,tr:i,state:o,dispatch:a,chain:l,commands:c,can:d})=>{const{extensions:u,splittableMarks:h}=s.extensionManager,p=iC(e,o.schema),m=iC(t,o.schema),{selection:f,storedMarks:g}=o,{$from:x,$to:y}=f,v=x.blockRange(y),b=g||f.$to.parentOffset&&f.$from.marks();if(!v)return!1;const w=oS(e=>OS(e.type.name,u))(f);if(v.depth>=1&&w&&v.depth-w.depth<=1){if(w.node.type===p)return c.liftListItem(m);if(OS(w.node.type.name,u)&&p.validContent(w.node.content)&&a)return l().command(()=>(i.setNodeMarkup(w.pos,p),!0)).command(()=>JS(i,p)).command(()=>YS(i,p)).run()}return n&&b&&a?l().command(()=>{const e=d().wrapInList(p,r),t=b.filter(e=>h.includes(e.type.name));return i.ensureMarks(t),!!e||c.clearNodes()}).wrapInList(p,r).command(()=>JS(i,p)).command(()=>YS(i,p)).run():l().command(()=>!!d().wrapInList(p,r)||c.clearNodes()).wrapInList(p,r).command(()=>JS(i,p)).command(()=>YS(i,p)).run()},ZS=(e,t={},n={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:i=!1}=n,o=gC(e,r.schema);return MS(r,o,t)?s.unsetMark(o,{extendEmptyMarkRange:i}):s.setMark(o,t)},QS=(e,t,n={})=>({state:r,commands:s})=>{const i=iC(e,r.schema),o=iC(t,r.schema),a=$C(r,i,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?s.setNode(o,l):s.setNode(i,{...l,...n})},eE=(e,t={})=>({state:n,commands:r})=>{const s=iC(e,n.schema);return $C(n,s,t)?r.lift(s):r.wrapIn(s,t)},tE=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const s=n[r];let i;if(s.spec.isInputRules&&(i=s.getState(e))){if(t){const t=e.tr,n=i.transform;for(let e=n.steps.length-1;e>=0;e-=1)t.step(n.steps[e].invert(n.docs[e]));if(i.text){const n=t.doc.resolve(i.from).marks();t.replaceWith(i.from,i.to,e.schema.text(i.text,n))}else t.delete(i.from,i.to)}return!0}}return!1},nE=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:s}=n;return r||t&&s.forEach(t=>{e.removeMark(t.$from.pos,t.$to.pos)}),!0},rE=(e,t={})=>({tr:n,state:r,dispatch:s})=>{var i;const{extendEmptyMarkRange:o=!1}=t,{selection:a}=n,l=gC(e,r.schema),{$from:c,empty:d,ranges:u}=a;if(!s)return!0;if(d&&o){let{from:e,to:t}=a;const r=null==(i=c.marks().find(e=>e.type===l))?void 0:i.attrs,s=fC(c,l,r);s&&(e=s.from,t=s.to),n.removeMark(e,t,l)}else u.forEach(e=>{n.removeMark(e.$from.pos,e.$to.pos,l)});return n.removeStoredMark(l),!0},sE=e=>({tr:t,state:n,dispatch:r})=>{const{selection:s}=n;let i,o;return"number"==typeof e?(i=e,o=e):e&&"from"in e&&"to"in e?(i=e.from,o=e.to):(i=s.from,o=s.to),r&&t.doc.nodesBetween(i,o,(e,n)=>{if(e.isText)return;const r={...e.attrs};delete r.dir,t.setNodeMarkup(n,void 0,r)}),!0},iE=(e,t={})=>({tr:n,state:r,dispatch:s})=>{let i=null,o=null;const a=WC("string"==typeof e?e:e.name,r.schema);if(!a)return!1;"node"===a&&(i=iC(e,r.schema)),"mark"===a&&(o=gC(e,r.schema));let l=!1;return n.selection.ranges.forEach(e=>{const a=e.$from.pos,c=e.$to.pos;let d,u,h,p;n.selection.empty?r.doc.nodesBetween(a,c,(e,t)=>{i&&i===e.type&&(l=!0,h=Math.max(t,a),p=Math.min(t+e.nodeSize,c),d=t,u=e)}):r.doc.nodesBetween(a,c,(e,r)=>{r<a&&i&&i===e.type&&(l=!0,h=Math.max(r,a),p=Math.min(r+e.nodeSize,c),d=r,u=e),r>=a&&r<=c&&(i&&i===e.type&&(l=!0,s&&n.setNodeMarkup(r,void 0,{...e.attrs,...t})),o&&e.marks.length&&e.marks.forEach(i=>{if(o===i.type&&(l=!0,s)){const s=Math.max(r,a),l=Math.min(r+e.nodeSize,c);n.addMark(s,l,o.create({...i.attrs,...t}))}}))}),u&&(void 0!==d&&s&&n.setNodeMarkup(d,void 0,{...u.attrs,...t}),o&&u.marks.length&&u.marks.forEach(e=>{o===e.type&&s&&n.addMark(h,p,o.create({...e.attrs,...t}))}))}),l},oE=(e,t={})=>({state:n,dispatch:r})=>function(e,t=null){return function(n,r){let{$from:s,$to:i}=n.selection,o=s.blockRange(i),a=o&&nb(o,e,t);return!!a&&(r&&r(n.tr.wrap(o,a).scrollIntoView()),!0)}}(iC(e,n.schema),t)(n,r),aE=(e,t={})=>({state:n,dispatch:r})=>yw(iC(e,n.schema),t)(n,r),lE=class{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const n=this.callbacks[e];return n&&n.forEach(e=>e.apply(this,t)),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter(e=>e!==t):delete this.callbacks[e]),this}once(e,t){const n=(...r)=>{this.off(e,n),t.apply(this,r)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}},cE=class{constructor(e){var t;this.find=e.find,this.handler=e.handler,this.undoable=null==(t=e.undoable)||t}};function dE(e){var t;const{editor:n,from:r,to:s,text:i,rules:o,plugin:a}=e,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||(null==(t=c.nodeBefore||c.nodeAfter)?void 0:t.marks.find(e=>e.type.spec.code)))return!1;let d=!1;const u=((e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(e,t,s,i)=>{var o,a;const l=(null==(a=(o=e.type.spec).toText)?void 0:a.call(o,{node:e,pos:t,parent:s,index:i}))||e.textContent||"%leaf%";n+=e.isAtom&&!e.isText?l:l.slice(0,Math.max(0,r-t))}),n})(c)+i;return o.forEach(e=>{if(d)return;const t=((e,t)=>{if(uC(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r})(u,e.find);if(!t)return;const o=l.state.tr,c=JN({state:l.state,transaction:o}),h={from:r-(t[0].length-i.length),to:s},{commands:p,chain:m,can:f}=new YN({editor:n,state:c});null!==e.handler({state:c,range:h,match:t,commands:p,chain:m,can:f})&&o.steps.length&&(e.undoable&&o.setMeta(a,{transform:o,from:r,to:s,text:i}),l.dispatch(o),d=!0)}),d}function uE(e){return"Object"===function(e){return Object.prototype.toString.call(e).slice(8,-1)}(e)&&(e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype)}function hE(e,t){const n={...e};return uE(e)&&uE(t)&&Object.keys(t).forEach(r=>{uE(t[r])&&uE(e[r])?n[r]=hE(e[r],t[r]):n[r]=t[r]}),n}var pE=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...e},this.name=this.config.name}get options(){return{...uS(aS(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...uS(aS(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(e={}){const t=this.extend({...this.config,addOptions:()=>hE(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new this.constructor({...this.config,...e});return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},mE=class e extends pE{constructor(){super(...arguments),this.type="mark"}static create(t={}){const n="function"==typeof t?t():t;return new e(n)}static handleExit({editor:e,mark:t}){const{tr:n}=e.state,r=e.state.selection.$from;if(r.pos===r.end()){const s=r.marks();if(!!!s.find(e=>(null==e?void 0:e.type.name)===t.name))return!1;const i=s.find(e=>(null==e?void 0:e.type.name)===t.name);return i&&n.removeStoredMark(i),n.insertText(" ",r.pos),e.view.dispatch(n),!0}return!1}configure(e){return super.configure(e)}extend(e){const t="function"==typeof e?e():e;return super.extend(t)}};var fE=class{constructor(e){this.find=e.find,this.handler=e.handler}};function gE(e){const{editor:t,state:n,from:r,to:s,rule:i,pasteEvent:o,dropEvent:a}=e,{commands:l,chain:c,can:d}=new YN({editor:t,state:n}),u=[];n.doc.nodesBetween(r,s,(e,t)=>{var h,p,m,f,g;if((null==(p=null==(h=e.type)?void 0:h.spec)?void 0:p.code)||!(e.isText||e.isTextblock||e.isInline))return;const x=null!=(g=null!=(f=null==(m=e.content)?void 0:m.size)?f:e.nodeSize)?g:0,y=Math.max(r,t),v=Math.min(s,t+x);if(y>=v)return;const b=((e,t,n)=>{if(uC(t))return[...e.matchAll(t)];const r=t(e,n);return r?r.map(t=>{const n=[t.text];return n.index=t.index,n.input=e,n.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),n.push(t.replaceWith)),n}):[]})(e.isText?e.text||"":e.textBetween(y-t,v-t,void 0,""),i.find,o);b.forEach(e=>{if(void 0===e.index)return;const t=y+e.index+1,r=t+e[0].length,s={from:n.tr.mapping.map(t),to:n.tr.mapping.map(r)},h=i.handler({state:n,range:s,match:e,commands:l,chain:c,can:d,pasteEvent:o,dropEvent:a});u.push(h)})});return u.every(e=>null!==e)}var xE=null;function yE(e){const{editor:t,rules:n}=e;let r,s=null,i=!1,o=!1,a="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null;try{r="undefined"!=typeof DragEvent?new DragEvent("drop"):null}catch{r=null}const l=({state:e,from:n,to:s,rule:i,pasteEvt:o})=>{const l=e.tr,c=JN({state:e,transaction:l});if(gE({editor:t,state:c,from:Math.max(n-1,0),to:s.b-1,rule:i,pasteEvent:o,dropEvent:r})&&l.steps.length){try{r="undefined"!=typeof DragEvent?new DragEvent("drop"):null}catch{r=null}return a="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null,l}},c=n.map(e=>new Wb({view(e){const n=n=>{var r;s=(null==(r=e.dom.parentElement)?void 0:r.contains(n.target))?e.dom.parentElement:null,s&&(xE=t)},r=()=>{xE&&(xE=null)};return window.addEventListener("dragstart",n),window.addEventListener("dragend",r),{destroy(){window.removeEventListener("dragstart",n),window.removeEventListener("dragend",r)}}},props:{handleDOMEvents:{drop:(e,t)=>{if(o=s===e.dom.parentElement,r=t,!o){const e=xE;(null==e?void 0:e.isEditable)&&setTimeout(()=>{const t=e.state.selection;t&&e.commands.deleteRange({from:t.from,to:t.to})},10)}return!1},paste:(e,t)=>{var n;const r=null==(n=t.clipboardData)?void 0:n.getData("text/html");return a=t,i=!!(null==r?void 0:r.includes("data-pm-slice")),!1}}},appendTransaction:(t,n,r)=>{const s=t[0],c="paste"===s.getMeta("uiEvent")&&!i,d="drop"===s.getMeta("uiEvent")&&!o,u=s.getMeta("applyPasteRules"),h=!!u;if(!c&&!d&&!h)return;if(h){let{text:t}=u;"string"==typeof t||(t=cS(Ay.from(t),r.schema));const{from:n}=u,s=n+t.length,i=(e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return null==(t=n.clipboardData)||t.setData("text/html",e),n})(t);return l({rule:e,state:r,from:n,to:{b:s},pasteEvt:i})}const p=n.doc.content.findDiffStart(r.doc.content),m=n.doc.content.findDiffEnd(r.doc.content);return"number"==typeof p&&m&&p!==m.b?l({rule:e,state:r,from:p,to:m,pasteEvt:a}):void 0}}));return c}var vE=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.baseExtensions=e,this.extensions=bS(e),this.schema=function(e,t){var n;const r=pS(e),{nodeExtensions:s,markExtensions:i}=hS(e),o=null==(n=s.find(e=>aS(e,"topNode")))?void 0:n.name,a=Object.fromEntries(s.map(n=>{const s=r.filter(e=>e.type===n.name),i={name:n.name,options:n.options,storage:n.storage,editor:t},o=xS({...e.reduce((e,t)=>{const r=aS(t,"extendNodeSchema",i);return{...e,...r?r(n):{}}},{}),content:uS(aS(n,"content",i)),marks:uS(aS(n,"marks",i)),group:uS(aS(n,"group",i)),inline:uS(aS(n,"inline",i)),atom:uS(aS(n,"atom",i)),selectable:uS(aS(n,"selectable",i)),draggable:uS(aS(n,"draggable",i)),code:uS(aS(n,"code",i)),whitespace:uS(aS(n,"whitespace",i)),linebreakReplacement:uS(aS(n,"linebreakReplacement",i)),defining:uS(aS(n,"defining",i)),isolating:uS(aS(n,"isolating",i)),attrs:Object.fromEntries(s.map(yS))}),a=uS(aS(n,"parseHTML",i));a&&(o.parseDOM=a.map(e=>gS(e,s)));const l=aS(n,"renderHTML",i);l&&(o.toDOM=e=>l({node:e,HTMLAttributes:fS(e,s)}));const c=aS(n,"renderText",i);return c&&(o.toText=c),[n.name,o]})),l=Object.fromEntries(i.map(n=>{const s=r.filter(e=>e.type===n.name),i={name:n.name,options:n.options,storage:n.storage,editor:t},o=xS({...e.reduce((e,t)=>{const r=aS(t,"extendMarkSchema",i);return{...e,...r?r(n):{}}},{}),inclusive:uS(aS(n,"inclusive",i)),excludes:uS(aS(n,"excludes",i)),group:uS(aS(n,"group",i)),spanning:uS(aS(n,"spanning",i)),code:uS(aS(n,"code",i)),attrs:Object.fromEntries(s.map(yS))}),a=uS(aS(n,"parseHTML",i));a&&(o.parseDOM=a.map(e=>gS(e,s)));const l=aS(n,"renderHTML",i);return l&&(o.toDOM=e=>l({mark:e,HTMLAttributes:fS(e,s)})),[n.name,o]}));return new yv({topNode:o,nodes:a,marks:l})}(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((e,t)=>{const n=aS(t,"addCommands",{name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:TS(t.name,this.schema)});return n?{...e,...n()}:e},{})}get plugins(){const{editor:e}=this,t=vS([...this.extensions].reverse()).flatMap(t=>{const n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:e,type:TS(t.name,this.schema)},r=[],s=aS(t,"addKeyboardShortcuts",n);let i={};if("mark"===t.type&&aS(t,"exitable",n)&&(i.ArrowRight=()=>mE.handleExit({editor:e,mark:t})),s){const t=Object.fromEntries(Object.entries(s()).map(([t,n])=>[t,()=>n({editor:e})]));i={...i,...t}}const o=new Wb({props:{handleKeyDown:WN(i)}});r.push(o);const a=aS(t,"addInputRules",n);if(DS(t,e.options.enableInputRules)&&a){const t=a();if(t&&t.length){const n=function(e){const{editor:t,rules:n}=e,r=new Wb({state:{init:()=>null,apply(e,s,i){const o=e.getMeta(r);if(o)return o;const a=e.getMeta("applyInputRules");return!!a&&setTimeout(()=>{let{text:e}=a;"string"==typeof e||(e=cS(Ay.from(e),i.schema));const{from:s}=a,o=s+e.length;dE({editor:t,from:s,to:o,text:e,rules:n,plugin:r})}),e.selectionSet||e.docChanged?null:s}},props:{handleTextInput:(e,s,i,o)=>dE({editor:t,from:s,to:i,text:o,rules:n,plugin:r}),handleDOMEvents:{compositionend:e=>(setTimeout(()=>{const{$cursor:s}=e.state.selection;s&&dE({editor:t,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(e,s){if("Enter"!==s.key)return!1;const{$cursor:i}=e.state.selection;return!!i&&dE({editor:t,from:i.pos,to:i.pos,text:"\n",rules:n,plugin:r})}},isInputRules:!0});return r}({editor:e,rules:t}),s=Array.isArray(n)?n:[n];r.push(...s)}}const l=aS(t,"addPasteRules",n);if(DS(t,e.options.enablePasteRules)&&l){const t=l();if(t&&t.length){const n=yE({editor:e,rules:t});r.push(...n)}}const c=aS(t,"addProseMirrorPlugins",n);if(c){const e=c();r.push(...e)}return r});return t}get attributes(){return pS(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=hS(this.extensions);return Object.fromEntries(t.filter(e=>!!aS(e,"addNodeView")).map(t=>{const n=this.attributes.filter(e=>e.type===t.name),r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:e,type:iC(t.name,this.schema)},s=aS(t,"addNodeView",r);if(!s)return[];const i=s();if(!i)return[];return[t.name,(r,s,o,a,l)=>{const c=fS(r,n);return i({node:r,view:s,getPos:o,decorations:a,innerDecorations:l,editor:e,extension:t,HTMLAttributes:c})}]}))}dispatchTransaction(e){const{editor:t}=this;return vS([...this.extensions].reverse()).reduceRight((e,n)=>{const r={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:TS(n.name,this.schema)},s=aS(n,"dispatchTransaction",r);return s?t=>{s.call(r,{transaction:t,next:e})}:e},e)}transformPastedHTML(e){const{editor:t}=this;return vS([...this.extensions]).reduce((e,n)=>{const r={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:TS(n.name,this.schema)},s=aS(n,"transformPastedHTML",r);return s?(t,n)=>{const i=e(t,n);return s.call(r,i)}:e},e||(e=>e))}get markViews(){const{editor:e}=this,{markExtensions:t}=hS(this.extensions);return Object.fromEntries(t.filter(e=>!!aS(e,"addMarkView")).map(t=>{const n=this.attributes.filter(e=>e.type===t.name),r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:e,type:gC(t.name,this.schema)},s=aS(t,"addMarkView",r);if(!s)return[];return[t.name,(r,i,o)=>{const a=fS(r,n);return s()({mark:r,view:i,inline:o,editor:e,extension:t,HTMLAttributes:a,updateAttributes:t=>{!function(e,t,n={}){const{state:r}=t,{doc:s,tr:i}=r,o=e;s.descendants((t,r)=>{const s=i.mapping.map(r),a=i.mapping.map(r)+t.nodeSize;let l=null;if(t.marks.forEach(e=>{if(e!==o)return!1;l=e}),!l)return;let c=!1;if(Object.keys(n).forEach(e=>{n[e]!==l.attrs[e]&&(c=!0)}),c){const t=e.type.create({...e.attrs,...n});i.removeMark(s,a,e.type),i.addMark(s,a,t)}}),i.docChanged&&t.view.dispatch(i)}(r,e,t)}})}]}))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(e=>[e.name,e.storage])),e.forEach(e=>{var t;const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:TS(e.name,this.schema)};if("mark"===e.type){(null==(t=uS(aS(e,"keepOnSplit",n)))||t)&&this.splittableMarks.push(e.name)}const r=aS(e,"onBeforeCreate",n),s=aS(e,"onCreate",n),i=aS(e,"onUpdate",n),o=aS(e,"onSelectionUpdate",n),a=aS(e,"onTransaction",n),l=aS(e,"onFocus",n),c=aS(e,"onBlur",n),d=aS(e,"onDestroy",n);r&&this.editor.on("beforeCreate",r),s&&this.editor.on("create",s),i&&this.editor.on("update",i),o&&this.editor.on("selectionUpdate",o),a&&this.editor.on("transaction",a),l&&this.editor.on("focus",l),c&&this.editor.on("blur",c),d&&this.editor.on("destroy",d)})}};vE.resolve=bS,vE.sort=vS,vE.flatten=lS;var bE={};KN(bE,{ClipboardTextSerializer:()=>kE,Commands:()=>jE,Delete:()=>NE,Drop:()=>CE,Editable:()=>SE,FocusEvents:()=>TE,Keymap:()=>AE,Paste:()=>ME,Tabindex:()=>DE,TextDirection:()=>OE,focusEventsPluginKey:()=>EE});var wE=class e extends pE{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n="function"==typeof t?t():t;return new e(n)}configure(e){return super.configure(e)}extend(e){const t="function"==typeof e?e():e;return super.extend(t)}},kE=wE.create({name:"clipboardTextSerializer",addOptions:()=>({blockSeparator:void 0}),addProseMirrorPlugins(){return[new Wb({key:new Jb("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:s}=t,{ranges:i}=s,o=Math.min(...i.map(e=>e.$from.pos)),a=Math.max(...i.map(e=>e.$to.pos)),l=jS(n);return wS(r,{from:o,to:a},{...void 0!==this.options.blockSeparator?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),jE=wE.create({name:"commands",addCommands:()=>({...XN})}),NE=wE.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,s;const i=()=>{var n,r,s,i;if(null!=(i=null==(s=null==(r=null==(n=this.editor.options.coreExtensionOptions)?void 0:n.delete)?void 0:r.filterTransaction)?void 0:s.call(r,e))?i:e.getMeta("y-sync$"))return;const o=iS(e.before,[e,...t]);SS(o).forEach(t=>{o.mapping.mapResult(t.oldRange.from).deletedAfter&&o.mapping.mapResult(t.oldRange.to).deletedBefore&&o.before.nodesBetween(t.oldRange.from,t.oldRange.to,(n,r)=>{const s=r+n.nodeSize-2,i=t.oldRange.from<=r&&s<=t.oldRange.to;this.editor.emit("delete",{type:"node",node:n,from:r,to:s,newFrom:o.mapping.map(r),newTo:o.mapping.map(s),deletedRange:t.oldRange,newRange:t.newRange,partial:!i,editor:this.editor,transaction:e,combinedTransform:o})})});const a=o.mapping;o.steps.forEach((t,n)=>{var r,s;if(t instanceof Gv){const i=a.slice(n).map(t.from,-1),l=a.slice(n).map(t.to),c=a.invert().map(i,-1),d=a.invert().map(l),u=null==(r=o.doc.nodeAt(i-1))?void 0:r.marks.some(e=>e.eq(t.mark)),h=null==(s=o.doc.nodeAt(l))?void 0:s.marks.some(e=>e.eq(t.mark));this.editor.emit("delete",{type:"mark",mark:t.mark,from:t.from,to:t.to,deletedRange:{from:c,to:d},newRange:{from:i,to:l},partial:Boolean(h||u),editor:this.editor,transaction:e,combinedTransform:o})}})};null==(s=null==(r=null==(n=this.editor.options.coreExtensionOptions)?void 0:n.delete)?void 0:r.async)||s?setTimeout(i,0):i()}}),CE=wE.create({name:"drop",addProseMirrorPlugins(){return[new Wb({key:new Jb("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),SE=wE.create({name:"editable",addProseMirrorPlugins(){return[new Wb({key:new Jb("editable"),props:{editable:()=>this.editor.options.editable}})]}}),EE=new Jb("focusEvents"),TE=wE.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Wb({key:EE,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),AE=wE.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:e})=>[()=>e.undoInputRule(),()=>e.command(({tr:t})=>{const{selection:n,doc:r}=t,{empty:s,$anchor:i}=n,{pos:o,parent:a}=i,l=i.parent.isTextblock&&o>0?t.doc.resolve(o-1):i,c=l.parent.type.spec.isolating,d=i.pos-i.parentOffset,u=c&&1===l.parent.childCount?d===i.pos:Eb.atStart(r).from===o;return!(!s||!a.type.isTextblock||a.textContent.length||!u||u&&"paragraph"===i.parent.type.name)&&e.clearNodes()}),()=>e.deleteSelection(),()=>e.joinBackward(),()=>e.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:e})=>[()=>e.deleteSelection(),()=>e.deleteCurrentNode(),()=>e.joinForward(),()=>e.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:e})=>[()=>e.newlineInCode(),()=>e.createParagraphNear(),()=>e.liftEmptyBlock(),()=>e.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},r={...n},s={...n,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return jC()||FC()?s:r},addProseMirrorPlugins(){return[new Wb({key:new Jb("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(e=>e.getMeta("composition")))return;const r=e.some(e=>e.docChanged)&&!t.doc.eq(n.doc),s=e.some(e=>e.getMeta("preventClearDocument"));if(!r||s)return;const{empty:i,from:o,to:a}=t.selection,l=Eb.atStart(t.doc).from,c=Eb.atEnd(t.doc).to;if(i||!(o===l&&a===c))return;if(!PS(n.doc))return;const d=n.tr,u=JN({state:n,transaction:d}),{commands:h}=new YN({editor:this.editor,state:u});return h.clearNodes(),d.steps.length?d:void 0}})]}}),ME=wE.create({name:"paste",addProseMirrorPlugins(){return[new Wb({key:new Jb("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),DE=wE.create({name:"tabindex",addProseMirrorPlugins(){return[new Wb({key:new Jb("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),OE=wE.create({name:"textDirection",addOptions:()=>({direction:void 0}),addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:e}=hS(this.extensions);return[{types:e.filter(e=>"text"!==e.name).map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const t=e.getAttribute("dir");return!t||"ltr"!==t&&"rtl"!==t&&"auto"!==t?this.options.direction:t},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new Wb({key:new Jb("textDirection"),props:{attributes:()=>{const e=this.options.direction;return e?{dir:e}:{}}}})]}}),PE=class e{constructor(e,t,n=!1,r=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=t,this.currentNode=r}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return null!=(e=this.actualDepth)?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,n=this.to;if(this.isBlock){if(0===this.content.size)return void console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);t=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:t,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(0===this.depth)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new e(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new e(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new e(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,r)=>{const s=n.isBlock&&!n.isTextblock,i=n.isAtom&&!n.isText,o=n.isInline,a=this.pos+r+(i?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const l=this.resolvedPos.doc.resolve(a);if(!s&&!o&&l.depth<=this.depth)return;const c=new e(l,this.editor,s,s||o?n:null);s&&(c.actualDepth=this.depth+1),t.push(c)}),t}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let n=null,r=this.parent;for(;r&&!n;){if(r.node.type.name===e)if(Object.keys(t).length>0){const e=r.node.attrs,n=Object.keys(t);for(let r=0;r<n.length;r+=1){const s=n[r];if(e[s]!==t[s])break}}else n=r;r=r.parent}return n}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},n=!1){let r=[];if(!this.children||0===this.children.length)return r;const s=Object.keys(t);return this.children.forEach(i=>{if(!(n&&r.length>0)){if(i.node.type.name===e){s.every(e=>t[e]===i.node.attrs[e])&&r.push(i)}n&&r.length>0||(r=r.concat(i.querySelectorAll(e,t,n)))}}),r}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}};var _E=class extends lE{constructor(e={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:"undefined"!=typeof document?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:e})=>{throw e},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:LS,createMappablePosition:RS},this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:e,slice:t,moved:n})=>this.options.onDrop(e,t,n)),this.on("paste",({event:e,slice:t})=>this.options.onPaste(e,t)),this.on("delete",this.options.onDelete);const t=this.createDoc(),n=wC(t,this.options.autofocus);this.editorState=Hb.create({doc:t,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if("undefined"==typeof document)throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(!1!==this.options.autofocus&&null!==this.options.autofocus&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;(null==e?void 0:e.editor)&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{"function"==typeof this.css.remove?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(cR){console.warn("Failed to remove CSS element:",cR)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&"undefined"!=typeof document&&(this.css=function(e,t){const n=document.querySelector("style[data-tiptap-style]");if(null!==n)return n;const r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.setAttribute("data-tiptap-style",""),r.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(r),r}('.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n}\n\n.ProseMirror [contenteditable="false"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable="false"] [contenteditable="true"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\nimg.ProseMirror-separator {\n  display: inline !important;\n  border: none !important;\n  margin: 0 !important;\n  width: 0 !important;\n  height: 0 !important;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  margin: 0;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}',this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},this.editorView&&this.state&&!this.isDestroyed&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,t)=>{if(this.editorView)return this.editorView[t];if("state"===t)return this.editorState;if(t in e)return Reflect.get(e,t);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${t}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,t){const n=dS(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let n=t;if([].concat(e).forEach(e=>{const t="string"==typeof e?`${e}$`:e.key;n=n.filter(e=>!e.key.startsWith(t))}),t.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var e,t;const n=[...this.options.enableCoreExtensions?[SE,kE.configure({blockSeparator:null==(t=null==(e=this.options.coreExtensionOptions)?void 0:e.clipboardTextSerializer)?void 0:t.blockSeparator}),jE,TE,AE,DE,CE,ME,NE,OE.configure({direction:this.options.textDirection})].filter(e=>"object"!=typeof this.options.enableCoreExtensions||!1!==this.options.enableCoreExtensions[e.name]):[],...this.options.extensions].filter(e=>["extension","node","mark"].includes(null==e?void 0:e.type));this.extensionManager=new vE(n,this)}createCommandManager(){this.commandManager=new YN({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=nS(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(t){if(!(t instanceof Error&&["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(t.message)))throw t;this.emit("contentError",{editor:this,error:t,disableCollaboration:()=>{"collaboration"in this.storage&&"object"==typeof this.storage.collaboration&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(e=>"collaboration"!==e.name),this.createExtensionManager()}}),e=nS(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){const{editorProps:t,enableExtensionDispatchTransaction:n}=this.options,r=t.dispatchTransaction||this.dispatchTransaction.bind(this),s=n?this.extensionManager.dispatchTransaction(r):r,i=t.transformPastedHTML,o=this.extensionManager.transformPastedHTML(i);this.editorView=new MN(e,{...t,attributes:{role:"textbox",...null==t?void 0:t.attributes},dispatchTransaction:s,transformPastedHTML:o,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const a=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(a),this.prependClass(),this.injectCSS();this.view.dom.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction)return this.capturedTransaction?void e.steps.forEach(e=>{var t;return null==(t=this.capturedTransaction)?void 0:t.step(e)}):void(this.capturedTransaction=e);const{state:t,transactions:n}=this.state.applyTransaction(e),r=!this.state.selection.eq(t.selection),s=n.includes(e),i=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),!s)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const o=n.findLast(e=>e.getMeta("focus")||e.getMeta("blur")),a=null==o?void 0:o.getMeta("focus"),l=null==o?void 0:o.getMeta("blur");a&&this.emit("focus",{editor:this,event:a.event,transaction:o}),l&&this.emit("blur",{editor:this,event:l.event,transaction:o}),e.getMeta("preventUpdate")||!n.some(e=>e.docChanged)||i.doc.eq(t.doc)||this.emit("update",{editor:this,transaction:e,appendedTransactions:n.slice(1)})}getAttributes(e){return NS(this.state,e)}isActive(e,t){const n="string"==typeof e?e:null,r="string"==typeof e?t:e;return function(e,t,n={}){if(!t)return $C(e,null,n)||MS(e,null,n);const r=WC(t,e.schema);return"node"===r?$C(e,t,n):"mark"===r&&MS(e,t,n)}(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return cS(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t="\n\n",textSerializers:n={}}=e||{};return kS(this.state.doc,{blockSeparator:t,textSerializers:{...jS(this.schema),...n}})}get isEmpty(){return PS(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,t;return null==(t=null==(e=this.editorView)?void 0:e.isDestroyed)||t}$node(e,t){var n;return(null==(n=this.$doc)?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return(null==(n=this.$doc)?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new PE(t,this)}get $doc(){return this.$pos(0)}};function IE(e){return new cE({find:e.find,handler:({state:t,range:n,match:r})=>{const s=uS(e.getAttributes,void 0,r);if(!1===s||null===s)return null;const{tr:i}=t,o=r[r.length-1],a=r[0];if(o){const r=a.search(/\S/),l=n.from+a.indexOf(o),c=l+o.length;if(ES(n.from,n.to,t.doc).filter(t=>t.mark.type.excluded.find(n=>n===e.type&&n!==t.mark.type)).filter(e=>e.to>l).length)return null;c<n.to&&i.delete(c,n.to),l>n.from&&i.delete(n.from+r,l);const d=n.from+r+o.length;i.addMark(n.from+r,d,e.type.create(s||{})),i.removeStoredMark(e.type)}},undoable:e.undoable})}function LE(e){return new cE({find:e.find,handler:({state:t,range:n,match:r})=>{const s=uS(e.getAttributes,void 0,r)||{},{tr:i}=t,o=n.from;let a=n.to;const l=e.type.create(s);if(r[1]){let e=o+r[0].lastIndexOf(r[1]);e>a?e=a:a=e+r[1].length;const t=r[0][r[0].length-1];i.insertText(t,o+r[0].length-1),i.replaceWith(e,a,l)}else if(r[0]){const t=e.type.isInline?o:o-1;i.insert(t,e.type.create(s)).delete(i.mapping.map(o),i.mapping.map(a))}i.scrollIntoView()},undoable:e.undoable})}function RE(e){return new cE({find:e.find,handler:({state:t,range:n,match:r})=>{const s=t.doc.resolve(n.from),i=uS(e.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,i)},undoable:e.undoable})}function zE(e){return new cE({find:e.find,handler:({state:t,range:n,match:r,chain:s})=>{const i=uS(e.getAttributes,void 0,r)||{},o=t.tr.delete(n.from,n.to),a=o.doc.resolve(n.from).blockRange(),l=a&&nb(a,e.type,i);if(!l)return null;if(o.wrap(a,l),e.keepMarks&&e.editor){const{selection:n,storedMarks:r}=t,{splittableMarks:s}=e.editor.extensionManager,i=r||n.$to.parentOffset&&n.$from.marks();if(i){const e=i.filter(e=>s.includes(e.type.name));o.ensureMarks(e)}}if(e.keepAttributes){const t="bulletList"===e.type.name||"orderedList"===e.type.name?"listItem":"taskList";s().updateAttributes(t,i).run()}const c=o.doc.resolve(n.from-1).nodeBefore;c&&c.type===e.type&&ab(o.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,c))&&o.join(n.from-1)},undoable:e.undoable})}function FE(e){if(!(null==e?void 0:e.trim()))return{};const t={},n=[],r=e.replace(/["']([^"']*)["']/g,e=>(n.push(e),`__QUOTED_${n.length-1}__`)),s=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(s){const e=s.map(e=>e.trim().slice(1));t.class=e.join(" ")}const i=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);i&&(t.id=i[1]);Array.from(r.matchAll(/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g)).forEach(([,e,r])=>{var s;const i=parseInt((null==(s=r.match(/__QUOTED_(\d+)__/))?void 0:s[1])||"0",10),o=n[i];o&&(t[e]=o.slice(1,-1))});const o=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();if(o){o.split(/\s+/).filter(Boolean).forEach(e=>{e.match(/^[a-zA-Z][\w-]*$/)&&(t[e]=!0)})}return t}function BE(e){if(!e||0===Object.keys(e).length)return"";const t=[];if(e.class){String(e.class).split(/\s+/).filter(Boolean).forEach(e=>t.push(`.${e}`))}return e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([e,n])=>{"class"!==e&&"id"!==e&&(!0===n?t.push(e):!1!==n&&null!=n&&t.push(`${e}="${String(n)}"`))}),t.join(" ")}function $E(e){const{nodeName:t,name:n,parseAttributes:r=FE,serializeAttributes:s=BE,defaultAttributes:i={},requiredAttributes:o=[],allowedAttributes:a}=e,l=n||t;return{parseMarkdown:(e,n)=>{const r={...i,...e.attributes};return n.createNode(t,r,[])},markdownTokenizer:{name:t,level:"block",start(e){var t;const n=new RegExp(`^:::${l}(?:\\s|$)`,"m"),r=null==(t=e.match(n))?void 0:t.index;return void 0!==r?r:-1},tokenize(e,n,s){const i=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),a=e.match(i);if(!a)return;const c=a[1]||"",d=r(c);return o.find(e=>!(e in d))?void 0:{type:t,raw:a[0],attributes:d}}},renderMarkdown:e=>{const t=(e=>{if(!a)return e;const t={};return a.forEach(n=>{n in e&&(t[n]=e[n])}),t})(e.attrs||{}),n=s(t);return`:::${l}${n?` {${n}}`:""} :::`}}}function VE(e){const{nodeName:t,name:n,getContent:r,parseAttributes:s=FE,serializeAttributes:i=BE,defaultAttributes:o={},content:a="block",allowedAttributes:l}=e,c=n||t;return{parseMarkdown:(e,n)=>{let s;if(r){const t=r(e);s="string"==typeof t?[{type:"text",text:t}]:t}else s="block"===a?n.parseChildren(e.tokens||[]):n.parseInline(e.tokens||[]);const i={...o,...e.attributes};return n.createNode(t,i,s)},markdownTokenizer:{name:t,level:"block",start(e){var t;const n=new RegExp(`^:::${c}`,"m"),r=null==(t=e.match(n))?void 0:t.index;return void 0!==r?r:-1},tokenize(e,n,r){var i;const o=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),l=e.match(o);if(!l)return;const[d,u=""]=l,h=s(u);let p=1;const m=d.length;let f="";const g=/^:::([\w-]*)(\s.*)?/gm,x=e.slice(m);for(g.lastIndex=0;;){const n=g.exec(x);if(null===n)break;const s=n.index,o=n[1];if(!(null==(i=n[2])?void 0:i.endsWith(":::")))if(o)p+=1;else if(p-=1,0===p){const i=x.slice(0,s);f=i.trim();const o=e.slice(0,m+s+n[0].length);let l=[];if(f)if("block"===a)for(l=r.blockTokens(i),l.forEach(e=>{!e.text||e.tokens&&0!==e.tokens.length||(e.tokens=r.inlineTokens(e.text))});l.length>0;){const e=l[l.length-1];if("paragraph"!==e.type||e.text&&""!==e.text.trim())break;l.pop()}else l=r.inlineTokens(f);return{type:t,raw:o,attributes:h,content:f,tokens:l}}}}},renderMarkdown:(e,t)=>{const n=(e=>{if(!l)return e;const t={};return l.forEach(n=>{n in e&&(t[n]=e[n])}),t})(e.attrs||{}),r=i(n),s=r?` {${r}}`:"",o=t.renderChildren(e.content||[],"\n\n");return`:::${c}${s}\n\n${o}\n\n:::`}}}function qE(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(e);for(;null!==r;){const[,s,i,o]=r;t[s]=i||o,r=n.exec(e)}return t}function HE(e){return Object.entries(e).filter(([,e])=>null!=e).map(([e,t])=>`${e}="${t}"`).join(" ")}function UE(e){const{nodeName:t,name:n,getContent:r,parseAttributes:s=qE,serializeAttributes:i=HE,defaultAttributes:o={},selfClosing:a=!1,allowedAttributes:l}=e,c=n||t,d=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(e,n)=>{const s={...o,...e.attributes};if(a)return n.createNode(t,s);const i=r?r(e):e.content||"";return i?n.createNode(t,s,[n.createTextNode(i)]):n.createNode(t,s,[])},markdownTokenizer:{name:t,level:"inline",start(e){const t=a?new RegExp(`\\[${d}\\s*[^\\]]*\\]`):new RegExp(`\\[${d}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${d}\\]`),n=e.match(t),r=null==n?void 0:n.index;return void 0!==r?r:-1},tokenize(e,n,r){const i=a?new RegExp(`^\\[${d}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${d}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${d}\\]`),o=e.match(i);if(!o)return;let l="",c="";if(a){const[,e]=o;c=e}else{const[,e,t]=o;c=e,l=t||""}const u=s(c.trim());return{type:t,raw:o[0],content:l.trim(),attributes:u}}},renderMarkdown:e=>{let t="";r?t=r(e):e.content&&e.content.length>0&&(t=e.content.filter(e=>"text"===e.type).map(e=>e.text).join(""));const n=(e=>{if(!l)return e;const t={};return l.forEach(n=>{const r="string"==typeof n?n:n.name,s="string"==typeof n?void 0:n.skipIfDefault;if(r in e){const n=e[r];if(void 0!==s&&n===s)return;t[r]=n}}),t})(e.attrs||{}),s=i(n),o=s?` ${s}`:"";return a?`[${c}${o}]`:`[${c}${o}]${t}[/${c}]`}}}function WE(e,t,n){var r,s,i,o;const a=e.split("\n"),l=[];let c="",d=0;const u=t.baseIndentSize||2;for(;d<a.length;){const e=a[d],h=e.match(t.itemPattern);if(!h){if(l.length>0)break;if(""===e.trim()){d+=1,c=`${c}${e}\n`;continue}return}const p=t.extractItemData(h),{indentLevel:m,mainContent:f}=p;c=`${c}${e}\n`;const g=[f];for(d+=1;d<a.length;){const e=a[d];if(""===e.trim()){const t=a.slice(d+1).findIndex(e=>""!==e.trim());if(-1===t)break;if(((null==(s=null==(r=a[d+1+t].match(/^(\s*)/))?void 0:r[1])?void 0:s.length)||0)>m){g.push(e),c=`${c}${e}\n`,d+=1;continue}break}if(!(((null==(o=null==(i=e.match(/^(\s*)/))?void 0:i[1])?void 0:o.length)||0)>m))break;g.push(e),c=`${c}${e}\n`,d+=1}let x;const y=g.slice(1);if(y.length>0){const e=y.map(e=>e.slice(m+u)).join("\n");e.trim()&&(x=t.customNestedParser?t.customNestedParser(e):n.blockTokens(e))}const v=t.createToken(p,x);l.push(v)}if(0!==l.length)return{items:l,raw:c}}function GE(e,t,n,r){if(!e||!Array.isArray(e.content))return"";const s="function"==typeof n?n(r):n,[i,...o]=e.content,a=[`${s}${t.renderChildren([i])}`];return o&&o.length>0&&o.forEach(e=>{const n=t.renderChildren([e]);if(n){const e=n.split("\n").map(e=>e?t.indent(e):"").join("\n");a.push(e)}}),a.join("\n")}KN({},{createAtomBlockMarkdownSpec:()=>$E,createBlockMarkdownSpec:()=>VE,createInlineMarkdownSpec:()=>UE,parseAttributes:()=>FE,parseIndentedBlocks:()=>WE,renderNestedMarkdownContent:()=>GE,serializeAttributes:()=>BE});var KE=class e extends pE{constructor(){super(...arguments),this.type="node"}static create(t={}){const n="function"==typeof t?t():t;return new e(n)}configure(e){return super.configure(e)}extend(e){const t="function"==typeof e?e():e;return super.extend(t)}};function JE(e){return new fE({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:s})=>{const i=uS(e.getAttributes,void 0,r,s);if(!1===i||null===i)return null;const{tr:o}=t,a=r[r.length-1],l=r[0];let c=n.to;if(a){const r=l.search(/\S/),s=n.from+l.indexOf(a),d=s+a.length;if(ES(n.from,n.to,t.doc).filter(t=>t.mark.type.excluded.find(n=>n===e.type&&n!==t.mark.type)).filter(e=>e.to>s).length)return null;d<n.to&&o.delete(d,n.to),s>n.from&&o.delete(n.from+r,s),c=n.from+r+a.length,o.addMark(n.from+r,c,e.type.create(i||{})),o.removeStoredMark(e.type)}}})}const{getOwnPropertyNames:YE,getOwnPropertySymbols:XE}=Object,{hasOwnProperty:ZE}=Object.prototype;function QE(e,t){return function(n,r,s){return e(n,r,s)&&t(n,r,s)}}function eT(e){return function(t,n,r){if(!t||!n||"object"!=typeof t||"object"!=typeof n)return e(t,n,r);const{cache:s}=r,i=s.get(t),o=s.get(n);if(i&&o)return i===n&&o===t;s.set(t,n),s.set(n,t);const a=e(t,n,r);return s.delete(t),s.delete(n),a}}function tT(e){return YE(e).concat(XE(e))}const nT=Object.hasOwn||((e,t)=>ZE.call(e,t));function rT(e,t){return e===t||!e&&!t&&e!=e&&t!=t}const{getOwnPropertyDescriptor:sT,keys:iT}=Object;function oT(e,t){return e.byteLength===t.byteLength&&vT(new Uint8Array(e),new Uint8Array(t))}function aT(e,t,n){let r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function lT(e,t){return e.byteLength===t.byteLength&&vT(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function cT(e,t){return rT(e.getTime(),t.getTime())}function dT(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function uT(e,t){return e===t}function hT(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const s=new Array(r),i=e.entries();let o,a,l=0;for(;(o=i.next())&&!o.done;){const r=t.entries();let i=!1,c=0;for(;(a=r.next())&&!a.done;){if(s[c]){c++;continue}const r=o.value,d=a.value;if(n.equals(r[0],d[0],l,c,e,t,n)&&n.equals(r[1],d[1],r[0],d[0],e,t,n)){i=s[c]=!0;break}c++}if(!i)return!1;l++}return!0}const pT=rT;function mT(e,t,n){const r=iT(e);let s=r.length;if(iT(t).length!==s)return!1;for(;s-- >0;)if(!wT(e,t,n,r[s]))return!1;return!0}function fT(e,t,n){const r=tT(e);let s,i,o,a=r.length;if(tT(t).length!==a)return!1;for(;a-- >0;){if(s=r[a],!wT(e,t,n,s))return!1;if(i=sT(e,s),o=sT(t,s),(i||o)&&(!i||!o||i.configurable!==o.configurable||i.enumerable!==o.enumerable||i.writable!==o.writable))return!1}return!0}function gT(e,t){return rT(e.valueOf(),t.valueOf())}function xT(e,t){return e.source===t.source&&e.flags===t.flags}function yT(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const s=new Array(r),i=e.values();let o,a;for(;(o=i.next())&&!o.done;){const r=t.values();let i=!1,l=0;for(;(a=r.next())&&!a.done;){if(!s[l]&&n.equals(o.value,a.value,o.value,a.value,e,t,n)){i=s[l]=!0;break}l++}if(!i)return!1}return!0}function vT(e,t){let n=e.byteLength;if(t.byteLength!==n||e.byteOffset!==t.byteOffset)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function bT(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function wT(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||nT(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}const kT={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},jT=Object.prototype.toString;function NT({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:a,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:d,areSetsEqual:u,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:m}){return function(f,g,x){if(f===g)return!0;if(null==f||null==g)return!1;const y=typeof f;if(y!==typeof g)return!1;if("object"!==y)return"number"===y?a(f,g,x):"function"===y&&i(f,g,x);const v=f.constructor;if(v!==g.constructor)return!1;if(v===Object)return l(f,g,x);if(Array.isArray(f))return t(f,g,x);if(v===Date)return r(f,g,x);if(v===RegExp)return d(f,g,x);if(v===Map)return o(f,g,x);if(v===Set)return u(f,g,x);const b=jT.call(f);if("[object Date]"===b)return r(f,g,x);if("[object RegExp]"===b)return d(f,g,x);if("[object Map]"===b)return o(f,g,x);if("[object Set]"===b)return u(f,g,x);if("[object Object]"===b)return"function"!=typeof f.then&&"function"!=typeof g.then&&l(f,g,x);if("[object URL]"===b)return p(f,g,x);if("[object Error]"===b)return s(f,g,x);if("[object Arguments]"===b)return l(f,g,x);if(kT[b])return h(f,g,x);if("[object ArrayBuffer]"===b)return e(f,g,x);if("[object DataView]"===b)return n(f,g,x);if("[object Boolean]"===b||"[object Number]"===b||"[object String]"===b)return c(f,g,x);if(m){let e=m[b];if(!e){const t=null!=(w=f)?w[Symbol.toStringTag]:void 0;t&&(e=m[t])}if(e)return e(f,g,x)}var w;return!1}}const CT=ST();function ST(e={}){const{circular:t=!1,createInternalComparator:n,createState:r,strict:s=!1}=e,i=function({circular:e,createCustomConfig:t,strict:n}){let r={areArrayBuffersEqual:oT,areArraysEqual:n?fT:aT,areDataViewsEqual:lT,areDatesEqual:cT,areErrorsEqual:dT,areFunctionsEqual:uT,areMapsEqual:n?QE(hT,fT):hT,areNumbersEqual:pT,areObjectsEqual:n?fT:mT,arePrimitiveWrappersEqual:gT,areRegExpsEqual:xT,areSetsEqual:n?QE(yT,fT):yT,areTypedArraysEqual:n?QE(vT,fT):vT,areUrlsEqual:bT,unknownTagComparators:void 0};if(t&&(r=Object.assign({},r,t(r))),e){const e=eT(r.areArraysEqual),t=eT(r.areMapsEqual),n=eT(r.areObjectsEqual),s=eT(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:e,areMapsEqual:t,areObjectsEqual:n,areSetsEqual:s})}return r}(e),o=NT(i);var a;return function({circular:e,comparator:t,createState:n,equals:r,strict:s}){if(n)return function(i,o){const{cache:a=(e?new WeakMap:void 0),meta:l}=n();return t(i,o,{cache:a,equals:r,meta:l,strict:s})};if(e)return function(e,n){return t(e,n,{cache:new WeakMap,equals:r,meta:void 0,strict:s})};const i={cache:void 0,equals:r,meta:void 0,strict:s};return function(e,n){return t(e,n,i)}}({circular:t,comparator:o,createState:r,equals:n?n(o):(a=o,function(e,t,n,r,s,i,o){return a(e,t,o)}),strict:s})}ST({strict:!0}),ST({circular:!0}),ST({circular:!0,strict:!0}),ST({createInternalComparator:()=>rT}),ST({strict:!0,createInternalComparator:()=>rT}),ST({circular:!0,createInternalComparator:()=>rT}),ST({circular:!0,createInternalComparator:()=>rT,strict:!0});var ET,TT,AT={exports:{}},MT={};var DT=(TT||(TT=1,AT.exports=function(){if(ET)return MT;ET=1;var t=e(),n=Ny(),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=n.useSyncExternalStore,i=t.useRef,o=t.useEffect,a=t.useMemo,l=t.useDebugValue;return MT.useSyncExternalStoreWithSelector=function(e,t,n,c,d){var u=i(null);if(null===u.current){var h={hasValue:!1,value:null};u.current=h}else h=u.current;u=a(function(){function e(e){if(!o){if(o=!0,s=e,e=c(e),void 0!==d&&h.hasValue){var t=h.value;if(d(t,e))return i=t}return i=e}if(t=i,r(s,e))return t;var n=c(e);return void 0!==d&&d(t,n)?(s=e,t):(s=e,i=n)}var s,i,o=!1,a=void 0===n?null:n;return[function(){return e(t())},null===a?void 0:function(){return e(a())}]},[t,n,c,d]);var p=s(e,u[0],u[1]);return o(function(){h.hasValue=!0,h.value=p},[p]),l(p),p},MT}()),AT.exports),OT=(...e)=>t=>{e.forEach(e=>{"function"==typeof e?e(t):e&&(e.current=t)})},PT=({contentComponent:e})=>{const t=Cy.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return ct.jsx(ct.Fragment,{children:Object.values(t)})};var _T=class extends s.Component{constructor(e){var t;super(e),this.editorContentRef=s.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:Boolean(null==(t=e.editor)?void 0:t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var e;const t=this.props.editor;if(t&&!t.isDestroyed&&(null==(e=t.view.dom)?void 0:e.parentNode)){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(...t.view.dom.parentNode.childNodes),t.setOptions({element:e}),t.contentComponent=function(){const e=new Set;let t={};return{subscribe:t=>(e.add(t),()=>{e.delete(t)}),getSnapshot:()=>t,getServerSnapshot:()=>t,setRenderer(n,r){t={...t,[n]:d.createPortal(r.reactElement,r.element,n)},e.forEach(e=>e())},removeRenderer(n){const r={...t};delete r[n],t=r,e.forEach(e=>e())}}}(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(e=>e.hasContentComponentInitialized?e:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var e;const t=this.props.editor;if(t){this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null;try{if(!(null==(e=t.view.dom)?void 0:e.parentNode))return;const n=document.createElement("div");n.append(...t.view.dom.parentNode.childNodes),t.setOptions({element:n})}catch{}}}render(){const{editor:e,innerRef:t,...n}=this.props;return ct.jsxs(ct.Fragment,{children:[ct.jsx("div",{ref:OT(t,this.editorContentRef),...n}),(null==e?void 0:e.contentComponent)&&ct.jsx(PT,{contentComponent:e.contentComponent})]})}},IT=r.forwardRef((e,t)=>{const n=s.useMemo(()=>Math.floor(4294967295*Math.random()).toString(),[e.editor]);return s.createElement(_T,{key:n,innerRef:t,...e})}),LT=s.memo(IT),RT="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,zT=class{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber||(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber}),this.lastSnapshot}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(e=>e())},t=this.editor;return t.on("transaction",e),()=>{t.off("transaction",e)}}}};var FT="undefined"==typeof window,BT=FT||Boolean("undefined"!=typeof window&&window.next),$T=class e{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(e=>e())}getInitialEditor(){return void 0===this.options.current.immediatelyRender?FT||BT?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...e)=>{var t,n;return null==(n=(t=this.options.current).onBeforeCreate)?void 0:n.call(t,...e)},onBlur:(...e)=>{var t,n;return null==(n=(t=this.options.current).onBlur)?void 0:n.call(t,...e)},onCreate:(...e)=>{var t,n;return null==(n=(t=this.options.current).onCreate)?void 0:n.call(t,...e)},onDestroy:(...e)=>{var t,n;return null==(n=(t=this.options.current).onDestroy)?void 0:n.call(t,...e)},onFocus:(...e)=>{var t,n;return null==(n=(t=this.options.current).onFocus)?void 0:n.call(t,...e)},onSelectionUpdate:(...e)=>{var t,n;return null==(n=(t=this.options.current).onSelectionUpdate)?void 0:n.call(t,...e)},onTransaction:(...e)=>{var t,n;return null==(n=(t=this.options.current).onTransaction)?void 0:n.call(t,...e)},onUpdate:(...e)=>{var t,n;return null==(n=(t=this.options.current).onUpdate)?void 0:n.call(t,...e)},onContentError:(...e)=>{var t,n;return null==(n=(t=this.options.current).onContentError)?void 0:n.call(t,...e)},onDrop:(...e)=>{var t,n;return null==(n=(t=this.options.current).onDrop)?void 0:n.call(t,...e)},onPaste:(...e)=>{var t,n;return null==(n=(t=this.options.current).onPaste)?void 0:n.call(t,...e)},onDelete:(...e)=>{var t,n;return null==(n=(t=this.options.current).onDelete)?void 0:n.call(t,...e)}};return new _E(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(n=>!!["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(n)||("extensions"===n&&e.extensions&&t.extensions?e.extensions.length===t.extensions.length&&e.extensions.every((e,n)=>{var r;return e===(null==(r=t.extensions)?void 0:r[n])}):e[n]===t[n]))}onRender(t){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&0===t.length?e.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(t),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(null===this.previousDeps)return void(this.previousDeps=e);const t=this.previousDeps.length===e.length&&this.previousDeps.every((t,n)=>t===e[n]);if(t)return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{this.isComponentMounted&&this.instanceId===e?t&&t.setOptions(this.options.current):t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function VT(e={},t=[]){const n=r.useRef(e);n.current=e;const[s]=r.useState(()=>new $T(n)),i=Cy.useSyncExternalStore(s.subscribe,s.getEditor,s.getServerSnapshot);return r.useDebugValue(i),r.useEffect(s.onRender(t)),function(e){var t;const[n]=r.useState(()=>new zT(e.editor)),s=DT.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,e.selector,null!=(t=e.equalityFn)?t:CT);RT(()=>n.watch(e.editor),[e.editor,n]),r.useDebugValue(s)}({editor:i,selector:({transactionNumber:t})=>!1===e.shouldRerenderOnTransaction||void 0===e.shouldRerenderOnTransaction?null:e.immediatelyRender&&0===t?0:t+1}),i}var qT=r.createContext({editor:null});qT.Consumer;var HT=()=>r.useContext(qT),UT=r.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}});s.forwardRef((e,t)=>{const{onDragStart:n}=r.useContext(UT),s=e.as||"div";return ct.jsx(s,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})}),s.createContext({markViewContentRef:()=>{}});var WT=r.createContext({get editor(){throw new Error("useTiptap must be used within a <Tiptap> provider")}});WT.displayName="TiptapContext";function GT({editor:e,instance:t,children:n}){const s=null!=e?e:t;if(!s)throw new Error("Tiptap: An editor instance is required. Pass a non-null `editor` prop.");const i=r.useMemo(()=>({editor:s}),[s]),o=r.useMemo(()=>({editor:s}),[s]);return ct.jsx(qT.Provider,{value:o,children:ct.jsx(WT.Provider,{value:i,children:n})})}function KT({...e}){const{editor:t}=r.useContext(WT);return ct.jsx(LT,{editor:t,...e})}GT.displayName="Tiptap",KT.displayName="Tiptap.Content",Object.assign(GT,{Content:KT});const JT=["top","right","bottom","left"],YT=["start","end"],XT=JT.reduce((e,t)=>e.concat(t,t+"-"+YT[0],t+"-"+YT[1]),[]),ZT=Math.min,QT=Math.max,eA=Math.round,tA=e=>({x:e,y:e}),nA={left:"right",right:"left",bottom:"top",top:"bottom"},rA={start:"end",end:"start"};function sA(e,t,n){return QT(e,ZT(t,n))}function iA(e,t){return"function"==typeof e?e(t):e}function oA(e){return e.split("-")[0]}function aA(e){return e.split("-")[1]}function lA(e){return"x"===e?"y":"x"}function cA(e){return"y"===e?"height":"width"}const dA=new Set(["top","bottom"]);function uA(e){return dA.has(oA(e))?"y":"x"}function hA(e){return lA(uA(e))}function pA(e,t,n){void 0===n&&(n=!1);const r=aA(e),s=hA(e),i=cA(s);let o="x"===s?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=bA(o)),[o,bA(o)]}function mA(e){return e.replace(/start|end/g,e=>rA[e])}const fA=["left","right"],gA=["right","left"],xA=["top","bottom"],yA=["bottom","top"];function vA(e,t,n,r){const s=aA(e);let i=function(e,t,n){switch(e){case"top":case"bottom":return n?t?gA:fA:t?fA:gA;case"left":case"right":return t?xA:yA;default:return[]}}(oA(e),"start"===n,r);return s&&(i=i.map(e=>e+"-"+s),t&&(i=i.concat(i.map(mA)))),i}function bA(e){return e.replace(/left|right|bottom|top/g,e=>nA[e])}function wA(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function kA(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function jA(e,t,n){let{reference:r,floating:s}=e;const i=uA(t),o=hA(t),a=cA(o),l=oA(t),c="y"===i,d=r.x+r.width/2-s.width/2,u=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let p;switch(l){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:u};break;case"left":p={x:r.x-s.width,y:u};break;default:p={x:r.x,y:r.y}}switch(aA(t)){case"start":p[o]-=h*(n&&c?-1:1);break;case"end":p[o]+=h*(n&&c?-1:1)}return p}async function NA(e,t){var n;void 0===t&&(t={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:h=!1,padding:p=0}=iA(t,e),m=wA(p),f=a[h?"floating"===u?"reference":"floating":u],g=kA(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(f)))||n?f:f.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),x="floating"===u?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,y=await(null==i.getOffsetParent?void 0:i.getOffsetParent(a.floating)),v=await(null==i.isElement?void 0:i.isElement(y))&&await(null==i.getScale?void 0:i.getScale(y))||{x:1,y:1},b=kA(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:y,strategy:l}):x);return{top:(g.top-b.top+m.top)/v.y,bottom:(b.bottom-g.bottom+m.bottom)/v.y,left:(g.left-b.left+m.left)/v.x,right:(b.right-g.right+m.right)/v.x}}function CA(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function SA(e){return JT.some(t=>e[t]>=0)}function EA(e){const t=ZT(...e.map(e=>e.left)),n=ZT(...e.map(e=>e.top));return{x:t,y:n,width:QT(...e.map(e=>e.right))-t,height:QT(...e.map(e=>e.bottom))-n}}const TA=new Set(["left","top"]);function AA(){return"undefined"!=typeof window}function MA(e){return PA(e)?(e.nodeName||"").toLowerCase():"#document"}function DA(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function OA(e){var t;return null==(t=(PA(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function PA(e){return!!AA()&&(e instanceof Node||e instanceof DA(e).Node)}function _A(e){return!!AA()&&(e instanceof Element||e instanceof DA(e).Element)}function IA(e){return!!AA()&&(e instanceof HTMLElement||e instanceof DA(e).HTMLElement)}function LA(e){return!(!AA()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof DA(e).ShadowRoot)}const RA=new Set(["inline","contents"]);function zA(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=YA(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!RA.has(s)}const FA=new Set(["table","td","th"]);function BA(e){return FA.has(MA(e))}const $A=[":popover-open",":modal"];function VA(e){return $A.some(t=>{try{return e.matches(t)}catch(n){return!1}})}const qA=["transform","translate","scale","rotate","perspective"],HA=["transform","translate","scale","rotate","perspective","filter"],UA=["paint","layout","strict","content"];function WA(e){const t=GA(),n=_A(e)?YA(e):e;return qA.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||HA.some(e=>(n.willChange||"").includes(e))||UA.some(e=>(n.contain||"").includes(e))}function GA(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const KA=new Set(["html","body","#document"]);function JA(e){return KA.has(MA(e))}function YA(e){return DA(e).getComputedStyle(e)}function XA(e){return _A(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ZA(e){if("html"===MA(e))return e;const t=e.assignedSlot||e.parentNode||LA(e)&&e.host||OA(e);return LA(t)?t.host:t}function QA(e){const t=ZA(e);return JA(t)?e.ownerDocument?e.ownerDocument.body:e.body:IA(t)&&zA(t)?t:QA(t)}function eM(e,t,n){var r;void 0===t&&(t=[]);const s=QA(e),i=s===(null==(r=e.ownerDocument)?void 0:r.body),o=DA(s);return i?(tM(o),t.concat(o,o.visualViewport||[],zA(s)?s:[],[])):t.concat(s,eM(s,[]))}function tM(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function nM(e){const t=YA(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=IA(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:r,a=eA(n)!==i||eA(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function rM(e){return _A(e)?e:e.contextElement}function sM(e){const t=rM(e);if(!IA(t))return tA(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=nM(t);let o=(i?eA(n.width):n.width)/r,a=(i?eA(n.height):n.height)/s;return o&&Number.isFinite(o)||(o=1),a&&Number.isFinite(a)||(a=1),{x:o,y:a}}const iM=tA(0);function oM(e){const t=DA(e);return GA()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:iM}function aM(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const s=e.getBoundingClientRect(),i=rM(e);let o=tA(1);t&&(r?_A(r)&&(o=sM(r)):o=sM(e));const a=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==DA(e))&&t}(i,n,r)?oM(i):tA(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,u=s.height/o.y;if(i){const e=DA(i),t=r&&_A(r)?DA(r):r;let n=e,s=tM(n);for(;s&&r&&t!==n;){const e=sM(s),t=s.getBoundingClientRect(),r=YA(s),i=t.left+(s.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(s.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,d*=e.x,u*=e.y,l+=i,c+=o,n=DA(s),s=tM(n)}}return kA({width:d,height:u,x:l,y:c})}function lM(e,t){const n=XA(e).scrollLeft;return t?t.left+n:aM(OA(e)).left+n}function cM(e,t){const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-lM(e,n),y:n.top+t.scrollTop}}const dM=new Set(["absolute","fixed"]);function uM(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=DA(e),r=OA(e),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const e=GA();(!e||e&&"fixed"===t)&&(a=s.offsetLeft,l=s.offsetTop)}const c=lM(r);if(c<=0){const e=r.ownerDocument,t=e.body,n=getComputedStyle(t),s="CSS1Compat"===e.compatMode&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,o=Math.abs(r.clientWidth-t.clientWidth-s);o<=25&&(i-=o)}else c<=25&&(i+=c);return{width:i,height:o,x:a,y:l}}(e,n);else if("document"===t)r=function(e){const t=OA(e),n=XA(e),r=e.ownerDocument.body,s=QT(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=QT(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+lM(e);const a=-n.scrollTop;return"rtl"===YA(r).direction&&(o+=QT(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}(OA(e));else if(_A(t))r=function(e,t){const n=aM(e,!0,"fixed"===t),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=IA(e)?sM(e):tA(1);return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:s*i.x,y:r*i.y}}(t,n);else{const n=oM(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return kA(r)}function hM(e,t){const n=ZA(e);return!(n===t||!_A(n)||JA(n))&&("fixed"===YA(n).position||hM(n,t))}function pM(e,t,n){const r=IA(t),s=OA(t),i="fixed"===n,o=aM(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const l=tA(0);function c(){l.x=lM(s)}if(r||!r&&!i)if(("body"!==MA(t)||zA(s))&&(a=XA(t)),r){const e=aM(t,!0,i,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else s&&c();i&&!r&&s&&c();const d=!s||r||i?tA(0):cM(s,a);return{x:o.left+a.scrollLeft-l.x-d.x,y:o.top+a.scrollTop-l.y-d.y,width:o.width,height:o.height}}function mM(e){return"static"===YA(e).position}function fM(e,t){if(!IA(e)||"fixed"===YA(e).position)return null;if(t)return t(e);let n=e.offsetParent;return OA(e)===n&&(n=n.ownerDocument.body),n}function gM(e,t){const n=DA(e);if(VA(e))return n;if(!IA(e)){let t=ZA(e);for(;t&&!JA(t);){if(_A(t)&&!mM(t))return t;t=ZA(t)}return n}let r=fM(e,t);for(;r&&BA(r)&&mM(r);)r=fM(r,t);return r&&JA(r)&&mM(r)&&!WA(r)?n:r||function(e){let t=ZA(e);for(;IA(t)&&!JA(t);){if(WA(t))return t;if(VA(t))return null;t=ZA(t)}return null}(e)||n}const xM={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i="fixed"===s,o=OA(r),a=!!t&&VA(t.floating);if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=tA(1);const d=tA(0),u=IA(r);if((u||!u&&!i)&&(("body"!==MA(r)||zA(o))&&(l=XA(r)),IA(r))){const e=aM(r);c=sM(r),d.x=e.x+r.clientLeft,d.y=e.y+r.clientTop}const h=!o||u||i?tA(0):cM(o,l);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:n.y*c.y-l.scrollTop*c.y+d.y+h.y}},getDocumentElement:OA,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i="clippingAncestors"===n?VA(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=eM(e,[]).filter(e=>_A(e)&&"body"!==MA(e)),s=null;const i="fixed"===YA(e).position;let o=i?ZA(e):e;for(;_A(o)&&!JA(o);){const t=YA(o),n=WA(o);n||"fixed"!==t.position||(s=null),(i?!n&&!s:!n&&"static"===t.position&&s&&dM.has(s.position)||zA(o)&&!n&&hM(e,o))?r=r.filter(e=>e!==o):s=t,o=ZA(o)}return t.set(e,r),r}(t,this._c):[].concat(n),o=[...i,r],a=o[0],l=o.reduce((e,n)=>{const r=uM(t,n,s);return e.top=QT(r.top,e.top),e.right=ZT(r.right,e.right),e.bottom=ZT(r.bottom,e.bottom),e.left=QT(r.left,e.left),e},uM(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:gM,getElementRects:async function(e){const t=this.getOffsetParent||gM,n=this.getDimensions,r=await n(e.floating);return{reference:pM(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=nM(e);return{width:t,height:n}},getScale:sM,isElement:_A,isRTL:function(e){return"rtl"===YA(e).direction}},yM=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=t,l=await async function(e,t){const{placement:n,platform:r,elements:s}=e,i=await(null==r.isRTL?void 0:r.isRTL(s.floating)),o=oA(n),a=aA(n),l="y"===uA(n),c=TA.has(o)?-1:1,d=i&&l?-1:1,u=iA(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:m}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return a&&"number"==typeof m&&(p="end"===a?-1*m:m),l?{x:p*d,y:h*c}:{x:h*c,y:p*d}}(t,e);return o===(null==(n=a.offset)?void 0:n.placement)&&null!=(r=a.arrow)&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},vM=function(e){return void 0===e&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,r,s;const{rects:i,middlewareData:o,placement:a,platform:l,elements:c}=t,{crossAxis:d=!1,alignment:u,allowedPlacements:h=XT,autoAlignment:p=!0,...m}=iA(e,t),f=void 0!==u||h===XT?function(e,t,n){return(e?[...n.filter(t=>aA(t)===e),...n.filter(t=>aA(t)!==e)]:n.filter(e=>oA(e)===e)).filter(n=>!e||aA(n)===e||!!t&&mA(n)!==n)}(u||null,p,h):h,g=await l.detectOverflow(t,m),x=(null==(n=o.autoPlacement)?void 0:n.index)||0,y=f[x];if(null==y)return{};const v=pA(y,i,await(null==l.isRTL?void 0:l.isRTL(c.floating)));if(a!==y)return{reset:{placement:f[0]}};const b=[g[oA(y)],g[v[0]],g[v[1]]],w=[...(null==(r=o.autoPlacement)?void 0:r.overflows)||[],{placement:y,overflows:b}],k=f[x+1];if(k)return{data:{index:x+1,overflows:w},reset:{placement:k}};const j=w.map(e=>{const t=aA(e.placement);return[e.placement,t&&d?e.overflows.slice(0,2).reduce((e,t)=>e+t,0):e.overflows[0],e.overflows]}).sort((e,t)=>e[1]-t[1]),N=(null==(s=j.filter(e=>e[2].slice(0,aA(e[0])?2:3).every(e=>e<=0))[0])?void 0:s[0])||j[0][0];return N!==a?{data:{index:x+1,overflows:w},reset:{placement:N}}:{}}}},bM=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s,platform:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...c}=iA(e,t),d={x:n,y:r},u=await i.detectOverflow(t,c),h=uA(oA(s)),p=lA(h);let m=d[p],f=d[h];if(o){const e="y"===p?"bottom":"right";m=sA(m+u["y"===p?"top":"left"],m,m-u[e])}if(a){const e="y"===h?"bottom":"right";f=sA(f+u["y"===h?"top":"left"],f,f-u[e])}const g=l.fn({...t,[p]:m,[h]:f});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[p]:o,[h]:a}}}}}},wM=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:f=!0,...g}=iA(e,t);if(null!=(n=i.arrow)&&n.alignmentOffset)return{};const x=oA(s),y=uA(a),v=oA(a)===a,b=await(null==l.isRTL?void 0:l.isRTL(c.floating)),w=h||(v||!f?[bA(a)]:function(e){const t=bA(e);return[mA(e),t,mA(t)]}(a)),k="none"!==m;!h&&k&&w.push(...vA(a,f,m,b));const j=[a,...w],N=await l.detectOverflow(t,g),C=[];let S=(null==(r=i.flip)?void 0:r.overflows)||[];if(d&&C.push(N[x]),u){const e=pA(s,o,b);C.push(N[e[0]],N[e[1]])}if(S=[...S,{placement:s,overflows:C}],!C.every(e=>e<=0)){var E,T;const e=((null==(E=i.flip)?void 0:E.index)||0)+1,t=j[e];if(t){if(!("alignment"===u&&y!==uA(t))||S.every(e=>uA(e.placement)!==y||e.overflows[0]>0))return{data:{index:e,overflows:S},reset:{placement:t}}}let n=null==(T=S.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:T.placement;if(!n)switch(p){case"bestFit":{var A;const e=null==(A=S.filter(e=>{if(k){const t=uA(e.placement);return t===y||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:A[0];e&&(n=e);break}case"initialPlacement":n=a}if(s!==n)return{reset:{placement:n}}}return{}}}},kM=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:o,elements:a}=t,{apply:l=()=>{},...c}=iA(e,t),d=await o.detectOverflow(t,c),u=oA(s),h=aA(s),p="y"===uA(s),{width:m,height:f}=i.floating;let g,x;"top"===u||"bottom"===u?(g=u,x=h===(await(null==o.isRTL?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=u,g="end"===h?"top":"bottom");const y=f-d.top-d.bottom,v=m-d.left-d.right,b=ZT(f-d[g],y),w=ZT(m-d[x],v),k=!t.middlewareData.shift;let j=b,N=w;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(N=v),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(j=y),k&&!h){const e=QT(d.left,0),t=QT(d.right,0),n=QT(d.top,0),r=QT(d.bottom,0);p?N=m-2*(0!==e||0!==t?e+t:QT(d.left,d.right)):j=f-2*(0!==n||0!==r?n+r:QT(d.top,d.bottom))}await l({...t,availableWidth:N,availableHeight:j});const C=await o.getDimensions(a.floating);return m!==C.width||f!==C.height?{reset:{rects:!0}}:{}}}},jM=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n,platform:r}=t,{strategy:s="referenceHidden",...i}=iA(e,t);switch(s){case"referenceHidden":{const e=CA(await r.detectOverflow(t,{...i,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:SA(e)}}}case"escaped":{const e=CA(await r.detectOverflow(t,{...i,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:SA(e)}}}default:return{}}}}},NM=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=t,{element:c,padding:d=0}=iA(e,t)||{};if(null==c)return{};const u=wA(d),h={x:n,y:r},p=hA(s),m=cA(p),f=await o.getDimensions(c),g="y"===p,x=g?"top":"left",y=g?"bottom":"right",v=g?"clientHeight":"clientWidth",b=i.reference[m]+i.reference[p]-h[p]-i.floating[m],w=h[p]-i.reference[p],k=await(null==o.getOffsetParent?void 0:o.getOffsetParent(c));let j=k?k[v]:0;j&&await(null==o.isElement?void 0:o.isElement(k))||(j=a.floating[v]||i.floating[m]);const N=b/2-w/2,C=j/2-f[m]/2-1,S=ZT(u[x],C),E=ZT(u[y],C),T=S,A=j-f[m]-E,M=j/2-f[m]/2+N,D=sA(T,M,A),O=!l.arrow&&null!=aA(s)&&M!==D&&i.reference[m]/2-(M<T?S:E)-f[m]/2<0,P=O?M<T?M-T:M-A:0;return{[p]:h[p]+P,data:{[p]:D,centerOffset:M-D-P,...O&&{alignmentOffset:P}},reset:O}}}),CM=function(e){return void 0===e&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:s,platform:i,strategy:o}=t,{padding:a=2,x:l,y:c}=iA(e,t),d=Array.from(await(null==i.getClientRects?void 0:i.getClientRects(r.reference))||[]),u=function(e){const t=e.slice().sort((e,t)=>e.y-t.y),n=[];let r=null;for(let s=0;s<t.length;s++){const e=t[s];!r||e.y-r.y>r.height/2?n.push([e]):n[n.length-1].push(e),r=e}return n.map(e=>kA(EA(e)))}(d),h=kA(EA(d)),p=wA(a);const m=await i.getElementRects({reference:{getBoundingClientRect:function(){if(2===u.length&&u[0].left>u[1].right&&null!=l&&null!=c)return u.find(e=>l>e.left-p.left&&l<e.right+p.right&&c>e.top-p.top&&c<e.bottom+p.bottom)||h;if(u.length>=2){if("y"===uA(n)){const e=u[0],t=u[u.length-1],r="top"===oA(n),s=e.top,i=t.bottom,o=r?e.left:t.left,a=r?e.right:t.right;return{top:s,bottom:i,left:o,right:a,width:a-o,height:i-s,x:o,y:s}}const e="left"===oA(n),t=QT(...u.map(e=>e.right)),r=ZT(...u.map(e=>e.left)),s=u.filter(n=>e?n.left===r:n.right===t),i=s[0].top,o=s[s.length-1].bottom;return{top:i,bottom:o,left:r,right:t,width:t-r,height:o-i,x:r,y:i}}return h}},floating:r.floating,strategy:o});return s.reference.x!==m.reference.x||s.reference.y!==m.reference.y||s.reference.width!==m.reference.width||s.reference.height!==m.reference.height?{reset:{rects:m}}:{}}}},SM=(e,t,n)=>{const r=new Map,s={platform:xM,...n},i={...s.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(null==o.isRTL?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:u}=jA(c,r,l),h=r,p={},m=0;for(let g=0;g<a.length;g++){var f;const{name:n,fn:i}=a[g],{x:x,y:y,data:v,reset:b}=await i({x:d,y:u,initialPlacement:r,placement:h,strategy:s,middlewareData:p,rects:c,platform:{...o,detectOverflow:null!=(f=o.detectOverflow)?f:NA},elements:{reference:e,floating:t}});d=null!=x?x:d,u=null!=y?y:u,p={...p,[n]:{...p[n],...v}},b&&m<=50&&(m++,"object"==typeof b&&(b.placement&&(h=b.placement),b.rects&&(c=!0===b.rects?await o.getElementRects({reference:e,floating:t,strategy:s}):b.rects),({x:d,y:u}=jA(c,h,l))),g=-1)}return{x:d,y:u,placement:h,strategy:s,middlewareData:p}})(e,t,{...s,platform:i})};let EM,TM;if("undefined"!=typeof WeakMap){let e=new WeakMap;EM=t=>e.get(t),TM=(t,n)=>(e.set(t,n),n)}else{const e=[],t=10;let n=0;EM=t=>{for(let n=0;n<e.length;n+=2)if(e[n]==t)return e[n+1]},TM=(r,s)=>(n==t&&(n=0),e[n++]=r,e[n++]=s)}var AM=class{constructor(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r}findCell(e){for(let t=0;t<this.map.length;t++){const n=this.map[t];if(n!=e)continue;const r=t%this.width,s=t/this.width|0;let i=r+1,o=s+1;for(let e=1;i<this.width&&this.map[t+e]==n;e++)i++;for(let e=1;o<this.height&&this.map[t+this.width*e]==n;e++)o++;return{left:r,top:s,right:i,bottom:o}}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,t,n){const{left:r,right:s,top:i,bottom:o}=this.findCell(e);return"horiz"==t?(n<0?0==r:s==this.width)?null:this.map[i*this.width+(n<0?r-1:s)]:(n<0?0==i:o==this.height)?null:this.map[r+this.width*(n<0?i-1:o)]}rectBetween(e,t){const{left:n,right:r,top:s,bottom:i}=this.findCell(e),{left:o,right:a,top:l,bottom:c}=this.findCell(t);return{left:Math.min(n,o),top:Math.min(s,l),right:Math.max(r,a),bottom:Math.max(i,c)}}cellsInRect(e){const t=[],n={};for(let r=e.top;r<e.bottom;r++)for(let s=e.left;s<e.right;s++){const i=r*this.width+s,o=this.map[i];n[o]||(n[o]=!0,s==e.left&&s&&this.map[i-1]==o||r==e.top&&r&&this.map[i-this.width]==o||t.push(o))}return t}positionAt(e,t,n){for(let r=0,s=0;;r++){const i=s+n.child(r).nodeSize;if(r==e){let n=t+e*this.width;const r=(e+1)*this.width;for(;n<r&&this.map[n]<s;)n++;return n==r?i-1:this.map[n]}s=i}}static get(e){return EM(e)||TM(e,function(e){if("table"!=e.type.spec.tableRole)throw new RangeError("Not a table node: "+e.type.name);const t=function(e){let t=-1,n=!1;for(let r=0;r<e.childCount;r++){const s=e.child(r);let i=0;if(n)for(let t=0;t<r;t++){const n=e.child(t);for(let e=0;e<n.childCount;e++){const s=n.child(e);t+s.attrs.rowspan>r&&(i+=s.attrs.colspan)}}for(let e=0;e<s.childCount;e++){const t=s.child(e);i+=t.attrs.colspan,t.attrs.rowspan>1&&(n=!0)}-1==t?t=i:t!=i&&(t=Math.max(t,i))}return t}(e),n=e.childCount,r=[];let s=0,i=null;const o=[];for(let c=0,d=t*n;c<d;c++)r[c]=0;for(let c=0,d=0;c<n;c++){const a=e.child(c);d++;for(let e=0;;e++){for(;s<r.length&&0!=r[s];)s++;if(e==a.childCount)break;const l=a.child(e),{colspan:u,rowspan:h,colwidth:p}=l.attrs;for(let e=0;e<h;e++){if(e+c>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:d,n:h-e});break}const a=s+e*t;for(let e=0;e<u;e++){0==r[a+e]?r[a+e]=d:(i||(i=[])).push({type:"collision",row:c,pos:d,n:u-e});const n=p&&p[e];if(n){const r=(a+e)%t*2,s=o[r];null==s||s!=n&&1==o[r+1]?(o[r]=n,o[r+1]=1):s==n&&o[r+1]++}}}s+=u,d+=l.nodeSize}const l=(c+1)*t;let u=0;for(;s<l;)0==r[s++]&&u++;u&&(i||(i=[])).push({type:"missing",row:c,n:u}),d++}0!==t&&0!==n||(i||(i=[])).push({type:"zero_sized"});const a=new AM(t,n,r,i);let l=!1;for(let c=0;!l&&c<o.length;c+=2)null!=o[c]&&o[c+1]<n&&(l=!0);l&&function(e,t,n){e.problems||(e.problems=[]);const r={};for(let s=0;s<e.map.length;s++){const i=e.map[s];if(r[i])continue;r[i]=!0;const o=n.nodeAt(i);if(!o)throw new RangeError(`No cell with offset ${i} found`);let a=null;const l=o.attrs;for(let n=0;n<l.colspan;n++){const r=t[(s+n)%e.width*2];null==r||l.colwidth&&l.colwidth[n]==r||((a||(a=MM(l)))[n]=r)}a&&e.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:a})}}(a,o,e);return a}(e))}};function MM(e){if(e.colwidth)return e.colwidth.slice();const t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}function DM(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(const n in e.nodes){const r=e.nodes[n],s=r.spec.tableRole;s&&(t[s]=r)}}return t}function OM(e){const t=e.selection.$head;for(let n=t.depth;n>0;n--)if("row"==t.node(n).type.spec.tableRole)return!0;return!1}function PM(e){return"row"==e.parent.type.spec.tableRole&&!!e.nodeAfter}function _M(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function IM(e,t,n){const r=e.node(-1),s=AM.get(r),i=e.start(-1),o=s.nextCell(e.pos-i,t,n);return null==o?null:e.node(0).resolve(i+o)}function LM(e,t,n=1){const r={...e,colspan:e.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some(e=>e>0)||(r.colwidth=null)),r}new Jb("selectingCells");var RM=class e extends Eb{constructor(e,t=e){const n=e.node(-1),r=AM.get(n),s=e.start(-1),i=r.rectBetween(e.pos-s,t.pos-s),o=e.node(0),a=r.cellsInRect(i).filter(e=>e!=t.pos-s);a.unshift(t.pos-s);const l=a.map(e=>{const t=n.nodeAt(e);if(!t)throw new RangeError(`No cell with offset ${e} found`);const r=s+e+1;return new Tb(o.resolve(r),o.resolve(r+t.content.size))});super(l[0].$from,l[0].$to,l),this.$anchorCell=e,this.$headCell=t}map(t,n){const r=t.resolve(n.map(this.$anchorCell.pos)),s=t.resolve(n.map(this.$headCell.pos));if(PM(r)&&PM(s)&&_M(r,s)){const t=this.$anchorCell.node(-1)!=r.node(-1);return t&&this.isRowSelection()?e.rowSelection(r,s):t&&this.isColSelection()?e.colSelection(r,s):new e(r,s)}return Db.between(r,s)}content(){const e=this.$anchorCell.node(-1),t=AM.get(e),n=this.$anchorCell.start(-1),r=t.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),s={},i=[];for(let a=r.top;a<r.bottom;a++){const n=[];for(let i=a*t.width+r.left,o=r.left;o<r.right;o++,i++){const o=t.map[i];if(s[o])continue;s[o]=!0;const a=t.findCell(o);let l=e.nodeAt(o);if(!l)throw new RangeError(`No cell with offset ${o} found`);const c=r.left-a.left,d=a.right-r.right;if(c>0||d>0){let e=l.attrs;if(c>0&&(e=LM(e,0,c)),d>0&&(e=LM(e,e.colspan-d,d)),a.left<r.left){if(l=l.type.createAndFill(e),!l)throw new RangeError(`Could not create cell with attrs ${JSON.stringify(e)}`)}else l=l.type.create(e,l.content)}if(a.top<r.top||a.bottom>r.bottom){const e={...l.attrs,rowspan:Math.min(a.bottom,r.bottom)-Math.max(a.top,r.top)};l=a.top<r.top?l.type.createAndFill(e):l.type.create(e,l.content)}n.push(l)}i.push(e.child(a).copy(Ay.from(n)))}const o=this.isColSelection()&&this.isRowSelection()?e:i;return new Iy(Ay.from(o),1,1)}replace(e,t=Iy.empty){const n=e.steps.length,r=this.ranges;for(let i=0;i<r.length;i++){const{$from:s,$to:o}=r[i],a=e.mapping.slice(n);e.replace(a.map(s.pos),a.map(o.pos),i?Iy.empty:t)}const s=Eb.findFrom(e.doc.resolve(e.mapping.slice(n).map(this.to)),-1);s&&e.setSelection(s)}replaceWith(e,t){this.replace(e,new Iy(Ay.from(t),0,0))}forEachCell(e){const t=this.$anchorCell.node(-1),n=AM.get(t),r=this.$anchorCell.start(-1),s=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r));for(let i=0;i<s.length;i++)e(t.nodeAt(s[i]),r+s[i])}isColSelection(){const e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);if(Math.min(e,t)>0)return!1;const n=e+this.$anchorCell.nodeAfter.attrs.rowspan,r=t+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,r)==this.$headCell.node(-1).childCount}static colSelection(t,n=t){const r=t.node(-1),s=AM.get(r),i=t.start(-1),o=s.findCell(t.pos-i),a=s.findCell(n.pos-i),l=t.node(0);return o.top<=a.top?(o.top>0&&(t=l.resolve(i+s.map[o.left])),a.bottom<s.height&&(n=l.resolve(i+s.map[s.width*(s.height-1)+a.right-1]))):(a.top>0&&(n=l.resolve(i+s.map[a.left])),o.bottom<s.height&&(t=l.resolve(i+s.map[s.width*(s.height-1)+o.right-1]))),new e(t,n)}isRowSelection(){const e=this.$anchorCell.node(-1),t=AM.get(e),n=this.$anchorCell.start(-1),r=t.colCount(this.$anchorCell.pos-n),s=t.colCount(this.$headCell.pos-n);if(Math.min(r,s)>0)return!1;const i=r+this.$anchorCell.nodeAfter.attrs.colspan,o=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(i,o)==t.width}eq(t){return t instanceof e&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,n=t){const r=t.node(-1),s=AM.get(r),i=t.start(-1),o=s.findCell(t.pos-i),a=s.findCell(n.pos-i),l=t.node(0);return o.left<=a.left?(o.left>0&&(t=l.resolve(i+s.map[o.top*s.width])),a.right<s.width&&(n=l.resolve(i+s.map[s.width*(a.top+1)-1]))):(a.left>0&&(n=l.resolve(i+s.map[a.top*s.width])),o.right<s.width&&(t=l.resolve(i+s.map[s.width*(o.top+1)-1]))),new e(t,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,n){return new e(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){return new e(t.resolve(n),t.resolve(r))}getBookmark(){return new zM(this.$anchorCell.pos,this.$headCell.pos)}};RM.prototype.visible=!1,Eb.jsonID("cell",RM);var zM=class e{constructor(e,t){this.anchor=e,this.head=t}map(t){return new e(t.map(this.anchor),t.map(this.head))}resolve(e){const t=e.resolve(this.anchor),n=e.resolve(this.head);return"row"==t.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&t.index()<t.parent.childCount&&n.index()<n.parent.childCount&&_M(t,n)?new RM(t,n):Eb.near(n,1)}};function FM(e){const t=e.selection,n=function(e){const t=e.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&"cell"==t.node.type.spec.tableRole)return t.$anchor;const n=function(e){for(let t=e.depth-1;t>0;t--)if("row"==e.node(t).type.spec.tableRole)return e.node(0).resolve(e.before(t+1));return null}(t.$head)||function(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){const r=t.type.spec.tableRole;if("cell"==r||"header_cell"==r)return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){const r=t.type.spec.tableRole;if("cell"==r||"header_cell"==r)return e.doc.resolve(n-t.nodeSize)}}(t.$head);if(n)return n;throw new RangeError(`No cell found around position ${t.head}`)}(e),r=n.node(-1),s=n.start(-1),i=AM.get(r);return{...t instanceof RM?i.rectBetween(t.$anchorCell.pos-s,t.$headCell.pos-s):i.findCell(n.pos-s),tableStart:s,map:i,table:r}}function BM(e,t,n){const r=t.map.cellsInRect({left:0,top:0,right:"row"==e?t.map.width:1,bottom:"column"==e?t.map.height:1});for(let s=0;s<r.length;s++){const e=t.table.nodeAt(r[s]);if(e&&e.type!==n.header_cell)return!1}return!0}function $M(e,t){return(t=t||{useDeprecatedLogic:!1}).useDeprecatedLogic?function(e){return function(t,n){if(!OM(t))return!1;if(n){const r=DM(t.schema),s=FM(t),i=t.tr,o=s.map.cellsInRect("column"==e?{left:s.left,top:0,right:s.right,bottom:s.map.height}:"row"==e?{left:0,top:s.top,right:s.map.width,bottom:s.bottom}:s),a=o.map(e=>s.table.nodeAt(e));for(let e=0;e<o.length;e++)a[e].type==r.header_cell&&i.setNodeMarkup(s.tableStart+o[e],r.cell,a[e].attrs);if(0===i.steps.length)for(let e=0;e<o.length;e++)i.setNodeMarkup(s.tableStart+o[e],r.header_cell,a[e].attrs);n(i)}return!0}}(e):function(t,n){if(!OM(t))return!1;if(n){const r=DM(t.schema),s=FM(t),i=t.tr,o=BM("row",s,r),a=BM("column",s,r),l=("column"===e?o:"row"===e&&a)?1:0,c="column"==e?{left:0,top:l,right:1,bottom:s.map.height}:"row"==e?{left:l,top:0,right:s.map.width,bottom:1}:s,d="column"==e?a?r.cell:r.header_cell:"row"==e?o?r.cell:r.header_cell:r.cell;s.map.cellsInRect(c).forEach(e=>{const t=e+s.tableStart,n=i.doc.nodeAt(t);n&&i.setNodeMarkup(t,d,n.attrs)}),n(i)}return!0}}function VM(e,t){const n=e.selection;if(!(n instanceof RM))return!1;if(t){const r=e.tr,s=DM(e.schema).cell.createAndFill().content;n.forEachCell((e,t)=>{e.content.eq(s)||r.replace(r.mapping.map(t+1),r.mapping.map(t+e.nodeSize-1),new Iy(s,0,0))}),r.docChanged&&t(r)}return!0}function qM(e,t,n){return!n.eq(e.selection)&&(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function HM(e,t){return(n,r,s)=>{if(!s)return!1;const i=n.selection;if(i instanceof RM)return qM(n,r,Eb.near(i.$headCell,t));if("horiz"!=e&&!i.empty)return!1;const o=WM(s,e,t);if(null==o)return!1;if("horiz"==e)return qM(n,r,Eb.near(n.doc.resolve(i.head+t),t));{const s=n.doc.resolve(o),i=IM(s,e,t);let a;return a=i?Eb.near(i,1):t<0?Eb.near(n.doc.resolve(s.before(-1)),-1):Eb.near(n.doc.resolve(s.after(-1)),1),qM(n,r,a)}}}function UM(e,t){return(n,r,s)=>{if(!s)return!1;const i=n.selection;let o;if(i instanceof RM)o=i;else{const r=WM(s,e,t);if(null==r)return!1;o=new RM(n.doc.resolve(r))}const a=IM(o.$headCell,e,t);return!!a&&qM(n,r,new RM(o.$anchorCell,a))}}function WM(e,t,n){if(!(e.state.selection instanceof Db))return null;const{$head:r}=e.state.selection;for(let s=r.depth-1;s>=0;s--){const i=r.node(s);if((n<0?r.index(s):r.indexAfter(s))!=(n<0?0:i.childCount))return null;if("cell"==i.type.spec.tableRole||"header_cell"==i.type.spec.tableRole){const i=r.before(s),o="vert"==t?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(o)?i:null}}return null}new Jb("fix-tables"),$M("row",{useDeprecatedLogic:!0}),$M("column",{useDeprecatedLogic:!0}),$M("cell",{useDeprecatedLogic:!0}),WN({ArrowLeft:HM("horiz",-1),ArrowRight:HM("horiz",1),ArrowUp:HM("vert",-1),ArrowDown:HM("vert",1),"Shift-ArrowLeft":UM("horiz",-1),"Shift-ArrowRight":UM("horiz",1),"Shift-ArrowUp":UM("vert",-1),"Shift-ArrowDown":UM("vert",1),Backspace:VM,"Mod-Backspace":VM,Delete:VM,"Mod-Delete":VM}),new Jb("tableColumnResizing");var GM=class{constructor({editor:e,element:t,view:n,pluginKey:r="bubbleMenu",updateDelay:s=250,resizeDelay:i=60,shouldShow:o,appendTo:a,getReferencedVirtualElement:l,options:c}){var d;this.preventHide=!1,this.isVisible=!1,this.scrollTarget=window,this.floatingUIOptions={strategy:"absolute",placement:"top",offset:8,flip:{},shift:{},arrow:!1,size:!1,autoPlacement:!1,hide:!1,inline:!1,onShow:void 0,onHide:void 0,onUpdate:void 0,onDestroy:void 0},this.shouldShow=({view:e,state:t,from:n,to:r})=>{const{doc:s,selection:i}=t,{empty:o}=i,a=!s.textBetween(n,r).length&&vC(t.selection),l=this.element.contains(document.activeElement);return!(!e.hasFocus()&&!l||o||a||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.resizeHandler=()=>{this.resizeDebounceTimer&&clearTimeout(this.resizeDebounceTimer),this.resizeDebounceTimer=window.setTimeout(()=>{this.updatePosition()},this.resizeDelay)},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:e})=>{var t;this.editor.isDestroyed?this.destroy():this.preventHide?this.preventHide=!1:(null==e?void 0:e.relatedTarget)&&(null==(t=this.element.parentNode)?void 0:t.contains(e.relatedTarget))||(null==e?void 0:e.relatedTarget)!==this.editor.view.dom&&this.hide()},this.handleDebouncedUpdate=(e,t)=>{const n=!(null==t?void 0:t.selection.eq(e.state.selection)),r=!(null==t?void 0:t.doc.eq(e.state.doc));(n||r)&&(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(e,n,r,t)},this.updateDelay))},this.updateHandler=(e,t,n,r)=>{const{composing:s}=e;if(s||!t&&!n)return;this.getShouldShow(r)?(this.updatePosition(),this.show()):this.hide()},this.transactionHandler=({transaction:e})=>{const t=e.getMeta(this.pluginKey);"updatePosition"===t?this.updatePosition():t&&"object"==typeof t&&"updateOptions"===t.type&&this.updateOptions(t.options)},this.editor=e,this.element=t,this.view=n,this.pluginKey=r,this.updateDelay=s,this.resizeDelay=i,this.appendTo=a,this.scrollTarget=null!=(d=null==c?void 0:c.scrollTarget)?d:window,this.getReferencedVirtualElement=l,this.floatingUIOptions={...this.floatingUIOptions,...c},this.element.tabIndex=0,o&&(this.shouldShow=o),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.editor.on("transaction",this.transactionHandler),window.addEventListener("resize",this.resizeHandler),this.scrollTarget.addEventListener("scroll",this.resizeHandler),this.update(n,n.state),this.getShouldShow()&&(this.show(),this.updatePosition())}get middlewares(){const e=[];return this.floatingUIOptions.flip&&e.push(wM("boolean"!=typeof this.floatingUIOptions.flip?this.floatingUIOptions.flip:void 0)),this.floatingUIOptions.shift&&e.push(bM("boolean"!=typeof this.floatingUIOptions.shift?this.floatingUIOptions.shift:void 0)),this.floatingUIOptions.offset&&e.push(yM("boolean"!=typeof this.floatingUIOptions.offset?this.floatingUIOptions.offset:void 0)),this.floatingUIOptions.arrow&&e.push(NM(this.floatingUIOptions.arrow)),this.floatingUIOptions.size&&e.push(kM("boolean"!=typeof this.floatingUIOptions.size?this.floatingUIOptions.size:void 0)),this.floatingUIOptions.autoPlacement&&e.push(vM("boolean"!=typeof this.floatingUIOptions.autoPlacement?this.floatingUIOptions.autoPlacement:void 0)),this.floatingUIOptions.hide&&e.push(jM("boolean"!=typeof this.floatingUIOptions.hide?this.floatingUIOptions.hide:void 0)),this.floatingUIOptions.inline&&e.push(CM("boolean"!=typeof this.floatingUIOptions.inline?this.floatingUIOptions.inline:void 0)),e}get virtualElement(){var e,t,n;const{selection:r}=this.editor.state,s=null==(e=this.getReferencedVirtualElement)?void 0:e.call(this);if(s)return s;if(!(null==(n=null==(t=this.view)?void 0:t.dom)?void 0:n.parentNode))return;const i=zS(this.view,r.from,r.to);let o={getBoundingClientRect:()=>i,getClientRects:()=>[i]};if(r instanceof Pb){let e=this.view.nodeDOM(r.from);const t=e.dataset.nodeViewWrapper?e:e.querySelector("[data-node-view-wrapper]");t&&(e=t),e&&(o={getBoundingClientRect:()=>e.getBoundingClientRect(),getClientRects:()=>[e.getBoundingClientRect()]})}if(r instanceof RM){const{$anchorCell:e,$headCell:t}=r,n=e?e.pos:t.pos,s=t?t.pos:e.pos,i=this.view.nodeDOM(n),a=this.view.nodeDOM(s);if(!i||!a)return;const l=i===a?i.getBoundingClientRect():function(e,t){const n=Math.min(e.top,t.top),r=Math.max(e.bottom,t.bottom),s=Math.min(e.left,t.left),i=Math.max(e.right,t.right);return new DOMRect(s,n,i-s,r-n)}(i.getBoundingClientRect(),a.getBoundingClientRect());o={getBoundingClientRect:()=>l,getClientRects:()=>[l]}}return o}updatePosition(){const e=this.virtualElement;e&&SM(e,this.element,{placement:this.floatingUIOptions.placement,strategy:this.floatingUIOptions.strategy,middleware:this.middlewares}).then(({x:e,y:t,strategy:n,middlewareData:r})=>{var s,i;(null==(s=r.hide)?void 0:s.referenceHidden)||(null==(i=r.hide)?void 0:i.escaped)?this.element.style.visibility="hidden":(this.element.style.visibility="visible",this.element.style.width="max-content",this.element.style.position=n,this.element.style.left=`${e}px`,this.element.style.top=`${t}px`,this.isVisible&&this.floatingUIOptions.onUpdate&&this.floatingUIOptions.onUpdate())})}update(e,t){const{state:n}=e,r=n.selection.from!==n.selection.to;if(this.updateDelay>0&&r)return void this.handleDebouncedUpdate(e,t);const s=!(null==t?void 0:t.selection.eq(e.state.selection)),i=!(null==t?void 0:t.doc.eq(e.state.doc));this.updateHandler(e,s,i,t)}getShouldShow(e){var t;const{state:n}=this.view,{selection:r}=n,{ranges:s}=r,i=Math.min(...s.map(e=>e.$from.pos)),o=Math.max(...s.map(e=>e.$to.pos));return(null==(t=this.shouldShow)?void 0:t.call(this,{editor:this.editor,element:this.element,view:this.view,state:n,oldState:e,from:i,to:o}))||!1}show(){var e;if(this.isVisible)return;this.element.style.visibility="visible",this.element.style.opacity="1";const t="function"==typeof this.appendTo?this.appendTo():this.appendTo;null==(e=null!=t?t:this.view.dom.parentElement)||e.appendChild(this.element),this.floatingUIOptions.onShow&&this.floatingUIOptions.onShow(),this.isVisible=!0}hide(){this.isVisible&&(this.element.style.visibility="hidden",this.element.style.opacity="0",this.element.remove(),this.floatingUIOptions.onHide&&this.floatingUIOptions.onHide(),this.isVisible=!1)}updateOptions(e){var t;if(void 0!==e.updateDelay&&(this.updateDelay=e.updateDelay),void 0!==e.resizeDelay&&(this.resizeDelay=e.resizeDelay),void 0!==e.appendTo&&(this.appendTo=e.appendTo),void 0!==e.getReferencedVirtualElement&&(this.getReferencedVirtualElement=e.getReferencedVirtualElement),void 0!==e.shouldShow&&e.shouldShow&&(this.shouldShow=e.shouldShow),void 0!==e.options){const n=null!=(t=e.options.scrollTarget)?t:window;n!==this.scrollTarget&&(this.scrollTarget.removeEventListener("scroll",this.resizeHandler),this.scrollTarget=n,this.scrollTarget.addEventListener("scroll",this.resizeHandler)),this.floatingUIOptions={...this.floatingUIOptions,...e.options}}}destroy(){this.hide(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),window.removeEventListener("resize",this.resizeHandler),this.scrollTarget.removeEventListener("scroll",this.resizeHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler),this.editor.off("transaction",this.transactionHandler),this.floatingUIOptions.onDestroy&&this.floatingUIOptions.onDestroy()}},KM=e=>new Wb({key:"string"==typeof e.pluginKey?new Jb(e.pluginKey):e.pluginKey,view:t=>new GM({view:t,...e})}),JM=wE.create({name:"bubbleMenu",addOptions:()=>({element:null,pluginKey:"bubbleMenu",updateDelay:void 0,appendTo:void 0,shouldShow:null}),addProseMirrorPlugins(){return this.options.element?[KM({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,updateDelay:this.options.updateDelay,options:this.options.options,appendTo:this.options.appendTo,getReferencedVirtualElement:this.options.getReferencedVirtualElement,shouldShow:this.options.shouldShow})]:[]}}),YM=class{constructor({editor:e,element:t,view:n,pluginKey:r="floatingMenu",updateDelay:s=250,resizeDelay:i=60,options:o,appendTo:a,shouldShow:l}){var c;this.preventHide=!1,this.isVisible=!1,this.scrollTarget=window,this.shouldShow=({view:e,state:t})=>{const{selection:n}=t,{$anchor:r,empty:s}=n,i=1===r.depth,o=r.parent.isTextblock&&!r.parent.type.spec.code&&!r.parent.textContent&&0===r.parent.childCount&&!this.getTextContent(r.parent);return!!(e.hasFocus()&&s&&i&&o&&this.editor.isEditable)},this.floatingUIOptions={strategy:"absolute",placement:"right",offset:8,flip:{},shift:{},arrow:!1,size:!1,autoPlacement:!1,hide:!1,inline:!1},this.updateHandler=(e,t,n,r)=>{const{composing:s}=e;if(s||!t&&!n)return;this.getShouldShow(r)?(this.updatePosition(),this.show()):this.hide()},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:e})=>{var t;this.preventHide?this.preventHide=!1:(null==e?void 0:e.relatedTarget)&&(null==(t=this.element.parentNode)?void 0:t.contains(e.relatedTarget))||(null==e?void 0:e.relatedTarget)!==this.editor.view.dom&&this.hide()},this.transactionHandler=({transaction:e})=>{const t=e.getMeta(this.pluginKey);"updatePosition"===t?this.updatePosition():t&&"object"==typeof t&&"updateOptions"===t.type&&this.updateOptions(t.options)},this.resizeHandler=()=>{this.resizeDebounceTimer&&clearTimeout(this.resizeDebounceTimer),this.resizeDebounceTimer=window.setTimeout(()=>{this.updatePosition()},this.resizeDelay)},this.editor=e,this.element=t,this.view=n,this.pluginKey=r,this.updateDelay=s,this.resizeDelay=i,this.appendTo=a,this.scrollTarget=null!=(c=null==o?void 0:o.scrollTarget)?c:window,this.floatingUIOptions={...this.floatingUIOptions,...o},this.element.tabIndex=0,l&&(this.shouldShow=l),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.editor.on("transaction",this.transactionHandler),window.addEventListener("resize",this.resizeHandler),this.scrollTarget.addEventListener("scroll",this.resizeHandler),this.update(n,n.state),this.getShouldShow()&&(this.show(),this.updatePosition())}getTextContent(e){return kS(e,{textSerializers:jS(this.editor.schema)})}get middlewares(){const e=[];return this.floatingUIOptions.flip&&e.push(wM("boolean"!=typeof this.floatingUIOptions.flip?this.floatingUIOptions.flip:void 0)),this.floatingUIOptions.shift&&e.push(bM("boolean"!=typeof this.floatingUIOptions.shift?this.floatingUIOptions.shift:void 0)),this.floatingUIOptions.offset&&e.push(yM("boolean"!=typeof this.floatingUIOptions.offset?this.floatingUIOptions.offset:void 0)),this.floatingUIOptions.arrow&&e.push(NM(this.floatingUIOptions.arrow)),this.floatingUIOptions.size&&e.push(kM("boolean"!=typeof this.floatingUIOptions.size?this.floatingUIOptions.size:void 0)),this.floatingUIOptions.autoPlacement&&e.push(vM("boolean"!=typeof this.floatingUIOptions.autoPlacement?this.floatingUIOptions.autoPlacement:void 0)),this.floatingUIOptions.hide&&e.push(jM("boolean"!=typeof this.floatingUIOptions.hide?this.floatingUIOptions.hide:void 0)),this.floatingUIOptions.inline&&e.push(CM("boolean"!=typeof this.floatingUIOptions.inline?this.floatingUIOptions.inline:void 0)),e}getShouldShow(e){var t;const{state:n}=this.view,{selection:r}=n,{ranges:s}=r,i=Math.min(...s.map(e=>e.$from.pos)),o=Math.max(...s.map(e=>e.$to.pos));return null==(t=this.shouldShow)?void 0:t.call(this,{editor:this.editor,view:this.view,state:n,oldState:e,from:i,to:o})}updateOptions(e){var t;if(void 0!==e.updateDelay&&(this.updateDelay=e.updateDelay),void 0!==e.resizeDelay&&(this.resizeDelay=e.resizeDelay),void 0!==e.appendTo&&(this.appendTo=e.appendTo),void 0!==e.shouldShow&&e.shouldShow&&(this.shouldShow=e.shouldShow),void 0!==e.options){const n=null!=(t=e.options.scrollTarget)?t:window;n!==this.scrollTarget&&(this.scrollTarget.removeEventListener("scroll",this.resizeHandler),this.scrollTarget=n,this.scrollTarget.addEventListener("scroll",this.resizeHandler)),this.floatingUIOptions={...this.floatingUIOptions,...e.options}}}updatePosition(){const{selection:e}=this.editor.state,t=zS(this.view,e.from,e.to);SM({getBoundingClientRect:()=>t,getClientRects:()=>[t]},this.element,{placement:this.floatingUIOptions.placement,strategy:this.floatingUIOptions.strategy,middleware:this.middlewares}).then(({x:e,y:t,strategy:n,middlewareData:r})=>{var s,i;(null==(s=r.hide)?void 0:s.referenceHidden)||(null==(i=r.hide)?void 0:i.escaped)?this.element.style.visibility="hidden":(this.element.style.visibility="visible",this.element.style.width="max-content",this.element.style.position=n,this.element.style.left=`${e}px`,this.element.style.top=`${t}px`,this.isVisible&&this.floatingUIOptions.onUpdate&&this.floatingUIOptions.onUpdate())})}update(e,t){const n=!(null==t?void 0:t.selection.eq(e.state.selection)),r=!(null==t?void 0:t.doc.eq(e.state.doc));this.updateHandler(e,n,r,t)}show(){var e;if(this.isVisible)return;this.element.style.visibility="visible",this.element.style.opacity="1";const t="function"==typeof this.appendTo?this.appendTo():this.appendTo;null==(e=null!=t?t:this.view.dom.parentElement)||e.appendChild(this.element),this.floatingUIOptions.onShow&&this.floatingUIOptions.onShow(),this.isVisible=!0}hide(){this.isVisible&&(this.element.style.visibility="hidden",this.element.style.opacity="0",this.element.remove(),this.floatingUIOptions.onHide&&this.floatingUIOptions.onHide(),this.isVisible=!1)}destroy(){this.hide(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),window.removeEventListener("resize",this.resizeHandler),this.scrollTarget.removeEventListener("scroll",this.resizeHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler),this.editor.off("transaction",this.transactionHandler),this.floatingUIOptions.onDestroy&&this.floatingUIOptions.onDestroy()}},XM=e=>new Wb({key:"string"==typeof e.pluginKey?new Jb(e.pluginKey):e.pluginKey,view:t=>new YM({view:t,...e})});wE.create({name:"floatingMenu",addOptions:()=>({element:null,options:{},pluginKey:"floatingMenu",updateDelay:void 0,resizeDelay:void 0,appendTo:void 0,shouldShow:null}),addCommands(){return{updateFloatingMenuPosition:()=>({tr:e,dispatch:t})=>(t&&e.setMeta(this.options.pluginKey,"updatePosition"),!0)}},addProseMirrorPlugins(){return this.options.element?[XM({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,updateDelay:this.options.updateDelay,resizeDelay:this.options.resizeDelay,options:this.options.options,appendTo:this.options.appendTo,shouldShow:this.options.shouldShow})]:[]}});var ZM=s.forwardRef(({pluginKey:e="bubbleMenu",editor:t,updateDelay:n,resizeDelay:s,appendTo:i,shouldShow:o=null,getReferencedVirtualElement:a,options:l,children:c,...d},h)=>{const p=r.useRef(document.createElement("div"));"function"==typeof h?h(p.current):h&&(h.current=p.current);const{editor:m}=HT(),f=t||m,g={updateDelay:n,resizeDelay:s,appendTo:i,pluginKey:e,shouldShow:o,getReferencedVirtualElement:a,options:l},x=r.useRef(g);x.current=g;const[y,v]=r.useState(!1),b=r.useRef(!0);return r.useEffect(()=>{if(null==f?void 0:f.isDestroyed)return;if(!f)return void console.warn("BubbleMenu component is not rendered inside of an editor component or does not have editor prop.");const e=p.current;e.style.visibility="hidden",e.style.position="absolute";const t=KM({...x.current,editor:f,element:e});f.registerPlugin(t);const n=x.current.pluginKey;return b.current=!0,v(!0),()=>{v(!1),f.unregisterPlugin(n),window.requestAnimationFrame(()=>{e.parentNode&&e.parentNode.removeChild(e)})}},[f]),r.useEffect(()=>{y&&f&&!f.isDestroyed&&(b.current?b.current=!1:f.view.dispatch(f.state.tr.setMeta(e,{type:"updateOptions",options:x.current})))},[y,f,n,s,o,l,i,a]),u.createPortal(ct.jsx("div",{...d,children:c}),p.current)});s.forwardRef(({pluginKey:e="floatingMenu",editor:t,updateDelay:n,resizeDelay:s,appendTo:i,shouldShow:o=null,options:a,children:l,...c},d)=>{const h=r.useRef(document.createElement("div"));"function"==typeof d?d(h.current):d&&(d.current=h.current);const{editor:p}=HT(),m=t||p,f={updateDelay:n,resizeDelay:s,appendTo:i,pluginKey:e,shouldShow:o,options:a},g=r.useRef(f);g.current=f;const[x,y]=r.useState(!1),v=r.useRef(!0);return r.useEffect(()=>{if(null==m?void 0:m.isDestroyed)return;if(!m)return void console.warn("FloatingMenu component is not rendered inside of an editor component or does not have editor prop.");const e=h.current;e.style.visibility="hidden",e.style.position="absolute";const t=XM({...g.current,editor:m,element:e});m.registerPlugin(t);const n=g.current.pluginKey;return v.current=!0,y(!0),()=>{y(!1),m.unregisterPlugin(n),window.requestAnimationFrame(()=>{e.parentNode&&e.parentNode.removeChild(e)})}},[m]),r.useEffect(()=>{x&&m&&!m.isDestroyed&&(v.current?v.current=!1:m.view.dispatch(m.state.tr.setMeta(e,{type:"updateOptions",options:g.current})))},[x,m,n,s,o,a,i]),u.createPortal(ct.jsx("div",{...c,children:l}),h.current)});var QM=(e,t)=>{if("slot"===e)return 0;if(e instanceof Function)return e(t);const{children:n,...r}=null!=t?t:{};if("svg"===e)throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,r,n]},eD=/^\s*>\s$/,tD=KE.create({name:"blockquote",addOptions:()=>({HTMLAttributes:{}}),content:"block+",group:"block",defining:!0,parseHTML:()=>[{tag:"blockquote"}],renderHTML({HTMLAttributes:e}){return QM("blockquote",{...mS(this.options.HTMLAttributes,e),children:QM("slot",{})})},parseMarkdown:(e,t)=>t.createNode("blockquote",void 0,t.parseChildren(e.tokens||[])),renderMarkdown:(e,t)=>{if(!e.content)return"";const n=[];return e.content.forEach(e=>{const r=t.renderChildren([e]).split("\n").map(e=>""===e.trim()?">":`> ${e}`);n.push(r.join("\n"))}),n.join("\n>\n")},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[zE({find:eD,type:this.type})]}}),nD=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,rD=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,sD=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,iD=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,oD=mE.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>"normal"!==e.style.fontWeight&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return QM("strong",{...mS(this.options.HTMLAttributes,e),children:QM("slot",{})})},markdownTokenName:"strong",parseMarkdown:(e,t)=>t.applyMark("bold",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`**${t.renderChildren(e)}**`,addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[IE({find:nD,type:this.type}),IE({find:sD,type:this.type})]},addPasteRules(){return[JE({find:rD,type:this.type}),JE({find:iD,type:this.type})]}}),aD=/(^|[^`])`([^`]+)`(?!`)$/,lD=/(^|[^`])`([^`]+)`(?!`)/g,cD=mE.create({name:"code",addOptions:()=>({HTMLAttributes:{}}),excludes:"_",code:!0,exitable:!0,parseHTML:()=>[{tag:"code"}],renderHTML({HTMLAttributes:e}){return["code",mS(this.options.HTMLAttributes,e),0]},markdownTokenName:"codespan",parseMarkdown:(e,t)=>t.applyMark("code",[{type:"text",text:e.text||""}]),renderMarkdown:(e,t)=>e.content?`\`${t.renderChildren(e.content)}\``:"",addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[IE({find:aD,type:this.type})]},addPasteRules(){return[JE({find:lD,type:this.type})]}}),dD=/^```([a-z]+)?[\s\n]$/,uD=/^~~~([a-z]+)?[\s\n]$/,hD=KE.create({name:"codeBlock",addOptions:()=>({languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:4,HTMLAttributes:{}}),content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options;if(!n)return null;const r=[...(null==(t=e.firstElementChild)?void 0:t.classList)||[]].filter(e=>e.startsWith(n)).map(e=>e.replace(n,""))[0];return r||null},rendered:!1}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML({node:e,HTMLAttributes:t}){return["pre",mS(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(e,t)=>{var n;return!1===(null==(n=e.raw)?void 0:n.startsWith("```"))&&"indented"!==e.codeBlockStyle?[]:t.createNode("codeBlock",{language:e.lang||null},e.text?[t.createTextNode(e.text)]:[])},renderMarkdown:(e,t)=>{var n;let r="";const s=(null==(n=e.attrs)?void 0:n.language)||"";if(e.content){r=[`\`\`\`${s}`,t.renderChildren(e.content),"```"].join("\n")}else r=`\`\`\`${s}\n\n\`\`\``;return r},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=1===t.pos;return!(!e||t.parent.type.name!==this.name)&&(!(!n&&t.parent.textContent.length)&&this.editor.commands.clearNodes())},Tab:({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=null!=(t=this.options.tabSize)?t:4,{state:r}=e,{selection:s}=r,{$from:i,empty:o}=s;if(i.parent.type!==this.type)return!1;const a=" ".repeat(n);return o?e.commands.insertContent(a):e.commands.command(({tr:e})=>{const{from:t,to:n}=s,i=r.doc.textBetween(t,n,"\n","\n").split("\n").map(e=>a+e).join("\n");return e.replaceWith(t,n,r.schema.text(i)),!0})},"Shift-Tab":({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=null!=(t=this.options.tabSize)?t:4,{state:r}=e,{selection:s}=r,{$from:i,empty:o}=s;return i.parent.type===this.type&&(o?e.commands.command(({tr:e})=>{var t;const{pos:s}=i,o=i.start(),a=i.end(),l=r.doc.textBetween(o,a,"\n","\n").split("\n");let c=0,d=0;const u=s-o;for(let n=0;n<l.length;n+=1){if(d+l[n].length>=u){c=n;break}d+=l[n].length+1}const h=(null==(t=l[c].match(/^ */))?void 0:t[0])||"",p=Math.min(h.length,n);if(0===p)return!0;let m=o;for(let n=0;n<c;n+=1)m+=l[n].length+1;e.delete(m,m+p);return s-m<=p&&e.setSelection(Db.create(e.doc,m)),!0}):e.commands.command(({tr:e})=>{const{from:t,to:i}=s,o=r.doc.textBetween(t,i,"\n","\n").split("\n").map(e=>{var t;const r=(null==(t=e.match(/^ */))?void 0:t[0])||"",s=Math.min(r.length,n);return e.slice(s)}).join("\n");return e.replaceWith(t,i,r.schema.text(o)),!0}))},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type)return!1;const i=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith("\n\n");return!(!i||!o)&&e.chain().command(({tr:e})=>(e.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:r}=t,{$from:s,empty:i}=n;if(!i||s.parent.type!==this.type)return!1;if(!(s.parentOffset===s.parent.nodeSize-2))return!1;const o=s.after();if(void 0===o)return!1;return r.nodeAt(o)?e.commands.command(({tr:e})=>(e.setSelection(Eb.near(r.resolve(o))),!0)):e.commands.exitCode()}}},addInputRules(){return[RE({find:dD,type:this.type,getAttributes:e=>({language:e[1]})}),RE({find:uD,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new Wb({key:new Jb("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData)return!1;if(this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,i=null==s?void 0:s.mode;if(!n||!i)return!1;const{tr:o,schema:a}=e.state,l=a.text(n.replace(/\r\n?/g,"\n"));return o.replaceSelectionWith(this.type.create({language:i},l)),o.selection.$from.parent.type!==this.type&&o.setSelection(Db.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),e.dispatch(o),!0}}})]}}),pD=KE.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,"\n\n"):""}),mD=KE.create({name:"hardBreak",markdownTokenName:"br",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:e}){return["br",mS(this.options.HTMLAttributes,e)]},renderText:()=>"\n",renderMarkdown:()=>"  \n",parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:e,storedMarks:s}=n;if(e.$from.parent.type.spec.isolating)return!1;const{keepMarks:i}=this.options,{splittableMarks:o}=r.extensionManager,a=s||e.$to.parentOffset&&e.$from.marks();return t().insertContent({type:this.name}).command(({tr:e,dispatch:t})=>{if(t&&a&&i){const t=a.filter(e=>o.includes(e.type.name));e.ensureMarks(t)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),fD=KE.create({name:"heading",addOptions:()=>({levels:[1,2,3,4,5,6],HTMLAttributes:{}}),content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,mS(this.options.HTMLAttributes,t),0]},parseMarkdown:(e,t)=>t.createNode("heading",{level:e.depth||1},t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>{var n;const r=(null==(n=e.attrs)?void 0:n.level)?parseInt(e.attrs.level,10):1,s="#".repeat(r);return e.content?`${s} ${t.renderChildren(e.content)}`:""},addCommands(){return{setHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.setNode(this.name,e),toggleHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>RE({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),gD=KE.create({name:"horizontalRule",addOptions:()=>({HTMLAttributes:{},nextNodeType:"paragraph"}),group:"block",parseHTML:()=>[{tag:"hr"}],renderHTML({HTMLAttributes:e}){return["hr",mS(this.options.HTMLAttributes,e)]},markdownTokenName:"hr",parseMarkdown:(e,t)=>t.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{if(!function(e,t){const{selection:n}=e,{$from:r}=n;if(n instanceof Pb){const e=r.index();return r.parent.canReplaceWith(e,e+1,t)}let s=r.depth;for(;s>=0;){const e=r.index(s);if(r.node(s).contentMatchAt(e).matchType(t))return!0;s-=1}return!1}(t,t.schema.nodes[this.name]))return!1;const{selection:n}=t,{$to:r}=n,s=e();return _S(n)?s.insertContentAt(r.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({state:e,tr:t,dispatch:n})=>{if(n){const{$to:n}=t.selection,r=n.end();if(n.nodeAfter)n.nodeAfter.isTextblock?t.setSelection(Db.create(t.doc,n.pos+1)):n.nodeAfter.isBlock?t.setSelection(Pb.create(t.doc,n.pos)):t.setSelection(Db.create(t.doc,n.pos));else{const s=e.schema.nodes[this.options.nextNodeType]||n.parent.type.contentMatch.defaultType,i=null==s?void 0:s.create();i&&(t.insert(r,i),t.setSelection(Db.create(t.doc,r+1)))}t.scrollIntoView()}return!0}).run()}}},addInputRules(){return[LE({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),xD=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,yD=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,vD=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,bD=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,wD=mE.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>"normal"!==e.style.fontStyle&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",mS(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(e,t)=>t.applyMark("italic",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`*${t.renderChildren(e)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[IE({find:xD,type:this.type}),IE({find:vD,type:this.type})]},addPasteRules(){return[JE({find:yD,type:this.type}),JE({find:bD,type:this.type})]}});const kD="numeric",jD="ascii",ND="alpha",CD="asciinumeric",SD="alphanumeric",ED="domain",TD="emoji",AD="scheme",MD="slashscheme",DD="whitespace";function OD(e,t){return e in t||(t[e]=[]),t[e]}function PD(e,t,n){t[kD]&&(t[CD]=!0,t[SD]=!0),t[jD]&&(t[CD]=!0,t[ND]=!0),t[CD]&&(t[SD]=!0),t[ND]&&(t[SD]=!0),t[SD]&&(t[ED]=!0),t[TD]&&(t[ED]=!0);for(const r in t){const t=OD(r,n);t.indexOf(e)<0&&t.push(e)}}function _D(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}_D.groups={},_D.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let r=0;r<t.jr.length;r++){const n=t.jr[r][0],s=t.jr[r][1];if(s&&n.test(e))return s}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let s=0;s<e.length;s++)this.tt(e[s],t,n,r)},tr(e,t,n,r){let s;return r=r||_D.groups,t&&t.j?s=t:(s=new _D(t),n&&r&&PD(t,n,r)),this.jr.push([e,s]),s},ts(e,t,n,r){let s=this;const i=e.length;if(!i)return s;for(let o=0;o<i-1;o++)s=s.tt(e[o]);return s.tt(e[i-1],t,n,r)},tt(e,t,n,r){r=r||_D.groups;const s=this;if(t&&t.j)return s.j[e]=t,t;const i=t;let o,a=s.go(e);if(a?(o=new _D,Object.assign(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new _D,i){if(r)if(o.t&&"string"==typeof o.t){const e=Object.assign(function(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}(o.t,r),n);PD(i,e,r)}else n&&PD(i,n,r);o.t=i}return s.j[e]=o,o}};const ID=(e,t,n,r,s)=>e.ta(t,n,r,s),LD=(e,t,n,r,s)=>e.tr(t,n,r,s),RD=(e,t,n,r,s)=>e.ts(t,n,r,s),zD=(e,t,n,r,s)=>e.tt(t,n,r,s),FD="WORD",BD="UWORD",$D="ASCIINUMERICAL",VD="ALPHANUMERICAL",qD="LOCALHOST",HD="TLD",UD="UTLD",WD="SCHEME",GD="SLASH_SCHEME",KD="NUM",JD="WS",YD="NL",XD="OPENBRACE",ZD="CLOSEBRACE",QD="OPENBRACKET",eO="CLOSEBRACKET",tO="OPENPAREN",nO="CLOSEPAREN",rO="OPENANGLEBRACKET",sO="CLOSEANGLEBRACKET",iO="FULLWIDTHLEFTPAREN",oO="FULLWIDTHRIGHTPAREN",aO="LEFTCORNERBRACKET",lO="RIGHTCORNERBRACKET",cO="LEFTWHITECORNERBRACKET",dO="RIGHTWHITECORNERBRACKET",uO="FULLWIDTHLESSTHAN",hO="FULLWIDTHGREATERTHAN",pO="AMPERSAND",mO="APOSTROPHE",fO="ASTERISK",gO="AT",xO="BACKSLASH",yO="BACKTICK",vO="CARET",bO="COLON",wO="COMMA",kO="DOLLAR",jO="DOT",NO="EQUALS",CO="EXCLAMATION",SO="HYPHEN",EO="PERCENT",TO="PIPE",AO="PLUS",MO="POUND",DO="QUERY",OO="QUOTE",PO="FULLWIDTHMIDDLEDOT",_O="SEMI",IO="SLASH",LO="TILDE",RO="UNDERSCORE",zO="EMOJI",FO="SYM";var BO=Object.freeze({__proto__:null,ALPHANUMERICAL:VD,AMPERSAND:pO,APOSTROPHE:mO,ASCIINUMERICAL:$D,ASTERISK:fO,AT:gO,BACKSLASH:xO,BACKTICK:yO,CARET:vO,CLOSEANGLEBRACKET:sO,CLOSEBRACE:ZD,CLOSEBRACKET:eO,CLOSEPAREN:nO,COLON:bO,COMMA:wO,DOLLAR:kO,DOT:jO,EMOJI:zO,EQUALS:NO,EXCLAMATION:CO,FULLWIDTHGREATERTHAN:hO,FULLWIDTHLEFTPAREN:iO,FULLWIDTHLESSTHAN:uO,FULLWIDTHMIDDLEDOT:PO,FULLWIDTHRIGHTPAREN:oO,HYPHEN:SO,LEFTCORNERBRACKET:aO,LEFTWHITECORNERBRACKET:cO,LOCALHOST:qD,NL:YD,NUM:KD,OPENANGLEBRACKET:rO,OPENBRACE:XD,OPENBRACKET:QD,OPENPAREN:tO,PERCENT:EO,PIPE:TO,PLUS:AO,POUND:MO,QUERY:DO,QUOTE:OO,RIGHTCORNERBRACKET:lO,RIGHTWHITECORNERBRACKET:dO,SCHEME:WD,SEMI:_O,SLASH:IO,SLASH_SCHEME:GD,SYM:FO,TILDE:LO,TLD:HD,UNDERSCORE:RO,UTLD:UD,UWORD:BD,WORD:FD,WS:JD});const $O=/[a-z]/,VO=/\p{L}/u,qO=/\p{Emoji}/u,HO=/\d/,UO=/\s/;let WO=null,GO=null;function KO(e,t){const n=function(e){const t=[],n=e.length;let r=0;for(;r<n;){let s,i=e.charCodeAt(r),o=i<55296||i>56319||r+1===n||(s=e.charCodeAt(r+1))<56320||s>57343?e[r]:e.slice(r,r+2);t.push(o),r+=o.length}return t}(t.replace(/[A-Z]/g,e=>e.toLowerCase())),r=n.length,s=[];let i=0,o=0;for(;o<r;){let a=e,l=null,c=0,d=null,u=-1,h=-1;for(;o<r&&(l=a.go(n[o]));)a=l,a.accepts()?(u=0,h=0,d=a):u>=0&&(u+=n[o].length,h++),c+=n[o].length,i+=n[o].length,o++;i-=u,o-=h,c-=u,s.push({t:d.t,v:t.slice(i-c,i),s:i-c,e:i})}return s}function JO(e,t,n,r,s){let i;const o=t.length;for(let a=0;a<o-1;a++){const n=t[a];e.j[n]?i=e.j[n]:(i=new _D(r),i.jr=s.slice(),e.j[n]=i),e=i}return i=new _D(n),i.jr=s.slice(),e.j[t[o-1]]=i,i}function YO(e){const t=[],n=[];let r=0;for(;r<e.length;){let s=0;for(;"0123456789".indexOf(e[r+s])>=0;)s++;if(s>0){t.push(n.join(""));for(let t=parseInt(e.substring(r,r+s),10);t>0;t--)n.pop();r+=s}else n.push(e[r]),r++}return t}const XO={defaultProtocol:"http",events:null,format:QO,formatHref:QO,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function ZO(e,t=null){let n=Object.assign({},XO);e&&(n=Object.assign(n,e instanceof ZO?e.o:e));const r=n.ignoreTags,s=[];for(let i=0;i<r.length;i++)s.push(r[i].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=s}function QO(e){return e}function eP(e,t){this.t="token",this.v=e,this.tk=t}function tP(e,t){class n extends eP{constructor(t,n){super(t,n),this.t=e}}for(const r in t)n.prototype[r]=t[r];return n.t=e,n}ZO.prototype={o:XO,ignoreTags:[],defaultRender:e=>e,check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=null!=t;let s=this.o[e];return s?("object"==typeof s?(s=n.t in s?s[n.t]:XO[e],"function"==typeof s&&r&&(s=s(t,n))):"function"==typeof s&&r&&(s=s(t,n.t,n)),s):s},getObj(e,t,n){let r=this.o[e];return"function"==typeof r&&null!=t&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}},eP.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=XO.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),r=e.get("formatHref",n,this),s=e.get("tagName",n,t),i=this.toFormattedString(e),o={},a=e.get("className",n,t),l=e.get("target",n,t),c=e.get("rel",n,t),d=e.getObj("attributes",n,t),u=e.getObj("events",n,t);return o.href=r,a&&(o.class=a),l&&(o.target=l),c&&(o.rel=c),d&&Object.assign(o,d),{tagName:s,attributes:o,content:i,eventListeners:u}}};const nP=tP("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),rP=tP("text"),sP=tP("nl"),iP=tP("url",{isLink:!0,toHref(e=XO.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==qD&&e[1].t===bO}}),oP=e=>new _D(e);function aP(e,t,n){const r=n[0].s,s=n[n.length-1].e;return new e(t.slice(r,s),n)}const lP="undefined"!=typeof console&&console&&console.warn||(()=>{}),cP={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function dP(e,t=!1){if(cP.initialized&&lP(`linkifyjs: already initialized - will not register custom scheme "${e}" until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error('linkifyjs: incorrect scheme format.\n1. Must only contain digits, lowercase ASCII letters or "-"\n2. Cannot start or end with "-"\n3. "-" cannot repeat');cP.customSchemes.push([e,t])}function uP(){cP.scanner=function(e=[]){const t={};_D.groups=t;const n=new _D;null==WO&&(WO=YO("aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2")),null==GO&&(GO=YO("121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222")),zD(n,"'",mO),zD(n,"{",XD),zD(n,"}",ZD),zD(n,"[",QD),zD(n,"]",eO),zD(n,"(",tO),zD(n,")",nO),zD(n,"<",rO),zD(n,">",sO),zD(n,"",iO),zD(n,"",oO),zD(n,"",aO),zD(n,"",lO),zD(n,"",cO),zD(n,"",dO),zD(n,"",uO),zD(n,"",hO),zD(n,"&",pO),zD(n,"*",fO),zD(n,"@",gO),zD(n,"`",yO),zD(n,"^",vO),zD(n,":",bO),zD(n,",",wO),zD(n,"$",kO),zD(n,".",jO),zD(n,"=",NO),zD(n,"!",CO),zD(n,"-",SO),zD(n,"%",EO),zD(n,"|",TO),zD(n,"+",AO),zD(n,"#",MO),zD(n,"?",DO),zD(n,'"',OO),zD(n,"/",IO),zD(n,";",_O),zD(n,"~",LO),zD(n,"_",RO),zD(n,"\\",xO),zD(n,"",PO);const r=LD(n,HO,KD,{[kD]:!0});LD(r,HO,r);const s=LD(r,$O,$D,{[CD]:!0}),i=LD(r,VO,VD,{[SD]:!0}),o=LD(n,$O,FD,{[jD]:!0});LD(o,HO,s),LD(o,$O,o),LD(s,HO,s),LD(s,$O,s);const a=LD(n,VO,BD,{[ND]:!0});LD(a,$O),LD(a,HO,i),LD(a,VO,a),LD(i,HO,i),LD(i,$O),LD(i,VO,i);const l=zD(n,"\n",YD,{[DD]:!0}),c=zD(n,"\r",JD,{[DD]:!0}),d=LD(n,UO,JD,{[DD]:!0});zD(n,"",d),zD(c,"\n",l),zD(c,"",d),LD(c,UO,d),zD(d,"\r"),zD(d,"\n"),LD(d,UO,d),zD(d,"",d);const u=LD(n,qO,zO,{[TD]:!0});zD(u,"#"),LD(u,qO,u),zD(u,"",u);const h=zD(u,"");zD(h,"#"),LD(h,qO,u);const p=[[$O,o],[HO,s]],m=[[$O,null],[VO,a],[HO,i]];for(let f=0;f<WO.length;f++)JO(n,WO[f],HD,FD,p);for(let f=0;f<GO.length;f++)JO(n,GO[f],UD,BD,m);PD(HD,{tld:!0,ascii:!0},t),PD(UD,{utld:!0,alpha:!0},t),JO(n,"file",WD,FD,p),JO(n,"mailto",WD,FD,p),JO(n,"http",GD,FD,p),JO(n,"https",GD,FD,p),JO(n,"ftp",GD,FD,p),JO(n,"ftps",GD,FD,p),PD(WD,{scheme:!0,ascii:!0},t),PD(GD,{slashscheme:!0,ascii:!0},t),e=e.sort((e,t)=>e[0]>t[0]?1:-1);for(let f=0;f<e.length;f++){const t=e[f][0],r=e[f][1]?{[AD]:!0}:{[MD]:!0};t.indexOf("-")>=0?r[ED]=!0:$O.test(t)?HO.test(t)?r[CD]=!0:r[jD]=!0:r[kD]=!0,RD(n,t,t,r)}return RD(n,"localhost",qD,{ascii:!0}),n.jd=new _D(FO),{start:n,tokens:Object.assign({groups:t},BO)}}(cP.customSchemes);for(let e=0;e<cP.tokenQueue.length;e++)cP.tokenQueue[e][1]({scanner:cP.scanner});cP.parser=function({groups:e}){const t=e.domain.concat([pO,fO,gO,xO,yO,vO,kO,NO,SO,KD,EO,TO,AO,MO,IO,FO,LO,RO]),n=[mO,bO,wO,jO,CO,EO,DO,OO,_O,rO,sO,XD,ZD,eO,QD,tO,nO,iO,oO,aO,lO,cO,dO,uO,hO],r=[pO,mO,fO,xO,yO,vO,kO,NO,SO,XD,ZD,EO,TO,AO,MO,DO,IO,FO,LO,RO],s=oP(),i=zD(s,LO);ID(i,r,i),ID(i,e.domain,i);const o=oP(),a=oP(),l=oP();ID(s,e.domain,o),ID(s,e.scheme,a),ID(s,e.slashscheme,l),ID(o,r,i),ID(o,e.domain,o);const c=zD(o,gO);zD(i,gO,c),zD(a,gO,c),zD(l,gO,c);const d=zD(i,jO);ID(d,r,i),ID(d,e.domain,i);const u=oP();ID(c,e.domain,u),ID(u,e.domain,u);const h=zD(u,jO);ID(h,e.domain,u);const p=oP(nP);ID(h,e.tld,p),ID(h,e.utld,p),zD(c,qD,p);const m=zD(u,SO);zD(m,SO,m),ID(m,e.domain,u),ID(p,e.domain,u),zD(p,jO,h),zD(p,SO,m);const f=zD(p,bO);ID(f,e.numeric,nP);const g=zD(o,SO),x=zD(o,jO);zD(g,SO,g),ID(g,e.domain,o),ID(x,r,i),ID(x,e.domain,o);const y=oP(iP);ID(x,e.tld,y),ID(x,e.utld,y),ID(y,e.domain,o),ID(y,r,i),zD(y,jO,x),zD(y,SO,g),zD(y,gO,c);const v=zD(y,bO),b=oP(iP);ID(v,e.numeric,b);const w=oP(iP),k=oP();ID(w,t,w),ID(w,n,k),ID(k,t,w),ID(k,n,k),zD(y,IO,w),zD(b,IO,w);const j=zD(a,bO),N=zD(l,bO),C=zD(N,IO),S=zD(C,IO);ID(a,e.domain,o),zD(a,jO,x),zD(a,SO,g),ID(l,e.domain,o),zD(l,jO,x),zD(l,SO,g),ID(j,e.domain,w),zD(j,IO,w),zD(j,DO,w),ID(S,e.domain,w),ID(S,t,w),zD(S,IO,w);const E=[[XD,ZD],[QD,eO],[tO,nO],[rO,sO],[iO,oO],[aO,lO],[cO,dO],[uO,hO]];for(let T=0;T<E.length;T++){const[e,r]=E[T],s=zD(w,e);zD(k,e,s),zD(s,r,w);const i=oP(iP);ID(s,t,i);const o=oP();ID(s,n),ID(i,t,i),ID(i,n,o),ID(o,t,i),ID(o,n,o),zD(i,r,w),zD(o,r,w)}return zD(s,qD,y),zD(s,YD,sP),{start:s,tokens:BO}}(cP.scanner.tokens);for(let e=0;e<cP.pluginQueue.length;e++)cP.pluginQueue[e][1]({scanner:cP.scanner,parser:cP.parser});return cP.initialized=!0,cP}function hP(e){return cP.initialized||uP(),function(e,t,n){let r=n.length,s=0,i=[],o=[];for(;s<r;){let a=e,l=null,c=null,d=0,u=null,h=-1;for(;s<r&&!(l=a.go(n[s].t));)o.push(n[s++]);for(;s<r&&(c=l||a.go(n[s].t));)l=null,a=c,a.accepts()?(h=0,u=a):h>=0&&h++,s++,d++;if(h<0)s-=d,s<r&&(o.push(n[s]),s++);else{o.length>0&&(i.push(aP(rP,t,o)),o=[]),s-=h,d-=h;const e=u.t,r=n.slice(s-d,s);i.push(aP(e,t,r))}}return o.length>0&&i.push(aP(rP,t,o)),i}(cP.parser.start,e,KO(cP.scanner.start,e))}function pP(e,t=null,n=null){if(t&&"object"==typeof t){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const r=new ZO(n),s=hP(e),i=[];for(let o=0;o<s.length;o++){const e=s[o];!e.isLink||t&&e.t!==t||!r.check(e)||i.push(e.toFormattedObject(r))}return i}hP.scan=KO;var mP="[\0- -\u2029]",fP=new RegExp(mP),gP=new RegExp(`${mP}$`),xP=new RegExp(mP,"g");function yP(e,t){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(e=>{const t="string"==typeof e?e:e.scheme;t&&n.push(t)}),!e||e.replace(xP,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var vP=mE.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{"string"!=typeof e?dP(e.scheme,e.optionalSlashes):dP(e)})},onDestroy(){_D.groups={},cP.scanner=null,cP.parser=null,cP.tokenQueue=[],cP.pluginQueue=[],cP.customSchemes=[],cP.initialized=!1},inclusive(){return this.options.autolink},addOptions:()=>({openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!yP(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>{const t=/^[a-z][a-z0-9+.-]*:\/\//i.test(e),n=/^[a-z][a-z0-9+.-]*:/i.test(e);if(t||n&&!e.includes("@"))return!0;const r=(e.includes("@")?e.split("@").pop():e).split(/[/?#:]/)[0];return!/^\d{1,3}(\.\d{1,3}){3}$/.test(r)&&!!/\./.test(r)}}),addAttributes(){return{href:{default:null,parseHTML:e=>e.getAttribute("href")},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class},title:{default:null}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!(!t||!this.options.isAllowedUri(t,{defaultValidate:e=>!!yP(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol}))&&null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:e=>!!yP(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",mS(this.options.HTMLAttributes,e),0]:["a",mS(this.options.HTMLAttributes,{...e,href:""}),0]},markdownTokenName:"link",parseMarkdown:(e,t)=>t.applyMark("link",t.parseInline(e.tokens||[]),{href:e.href,title:e.title||null}),renderMarkdown:(e,t)=>{var n,r,s,i;const o=null!=(r=null==(n=e.attrs)?void 0:n.href)?r:"",a=null!=(i=null==(s=e.attrs)?void 0:s.title)?i:"",l=t.renderChildren(e);return a?`[${l}](${o} "${a}")`:`[${l}](${o})`},addCommands(){return{setLink:e=>({chain:t})=>{const{href:n}=e;return!!this.options.isAllowedUri(n,{defaultValidate:e=>!!yP(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})&&t().setMark(this.name,e).setMeta("preventAutolink",!0).run()},toggleLink:e=>({chain:t})=>{const{href:n}=e||{};return!(n&&!this.options.isAllowedUri(n,{defaultValidate:e=>!!yP(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol}))&&t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[JE({find:e=>{const t=[];if(e){const{protocols:n,defaultProtocol:r}=this.options,s=pP(e).filter(e=>e.isLink&&this.options.isAllowedUri(e.value,{defaultValidate:e=>!!yP(e,n),protocols:n,defaultProtocol:r}));s.length&&s.forEach(e=>{this.options.shouldAutoLink(e.value)&&t.push({text:e.value,data:{href:e.href},index:e.start})})}return t},type:this.type,getAttributes:e=>{var t;return{href:null==(t=e.data)?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:n}=this.options;var r;return this.options.autolink&&e.push((r={type:this.type,defaultProtocol:this.options.defaultProtocol,validate:e=>this.options.isAllowedUri(e,{defaultValidate:e=>!!yP(e,t),protocols:t,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink},new Wb({key:new Jb("autolink"),appendTransaction:(e,t,n)=>{const s=e.some(e=>e.docChanged)&&!t.doc.eq(n.doc),i=e.some(e=>e.getMeta("preventAutolink"));if(!s||i)return;const{tr:o}=n;return SS(iS(t.doc,[...e])).forEach(({newRange:e})=>{const t=function(e,t,n){const r=[];return e.nodesBetween(t.from,t.to,(e,t)=>{n(e)&&r.push({node:e,pos:t})}),r}(n.doc,e,e=>e.isTextblock);let s,i;if(t.length>1)s=t[0],i=n.doc.textBetween(s.pos,s.pos+s.node.nodeSize,void 0," ");else if(t.length){const r=n.doc.textBetween(e.from,e.to," "," ");if(!gP.test(r))return;s=t[0],i=n.doc.textBetween(s.pos,e.to,void 0," ")}if(s&&i){const e=i.split(fP).filter(Boolean);if(e.length<=0)return!1;const t=e[e.length-1],l=s.pos+i.lastIndexOf(t);if(!t)return!1;const c=hP(t).map(e=>e.toObject(r.defaultProtocol));if(!(1===(a=c).length?a[0].isLink:3===a.length&&a[1].isLink&&["()","[]"].includes(a[0].value+a[2].value)))return!1;c.filter(e=>e.isLink).map(e=>({...e,from:l+e.start+1,to:l+e.end+1})).filter(e=>!n.schema.marks.code||!n.doc.rangeHasMark(e.from,e.to,n.schema.marks.code)).filter(e=>r.validate(e.value)).filter(e=>r.shouldAutoLink(e.value)).forEach(e=>{ES(e.from,e.to,n.doc).some(e=>e.mark.type===r.type)||o.addMark(e.from,e.to,r.type.create({href:e.href}))})}var a}),o.steps.length?o:void 0}}))),e.push(function(e){return new Wb({key:new Jb("handleClickLink"),props:{handleClick:(t,n,r)=>{var s,i;if(0!==r.button)return!1;if(!t.editable)return!1;let o=null;if(r.target instanceof HTMLAnchorElement)o=r.target;else{const t=r.target;if(!t)return!1;const n=e.editor.view.dom;o=t.closest("a"),o&&!n.contains(o)&&(o=null)}if(!o)return!1;let a=!1;if(e.enableClickSelection&&(a=e.editor.commands.extendMarkRange(e.type.name)),e.openOnClick){const n=NS(t.state,e.type.name),r=null!=(s=o.href)?s:n.href,l=null!=(i=o.target)?i:n.target;r&&(window.open(r,l),a=!0)}return a}}})}({type:this.type,editor:this.editor,openOnClick:"whenNotEditable"===this.options.openOnClick||this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push(function(e){return new Wb({key:new Jb("handlePasteLink"),props:{handlePaste:(t,n,r)=>{const{shouldAutoLink:s}=e,{state:i}=t,{selection:o}=i,{empty:a}=o;if(a)return!1;let l="";r.content.forEach(e=>{l+=e.textContent});const c=pP(l,{defaultProtocol:e.defaultProtocol}).find(e=>e.isLink&&e.value===l);return!(!l||!c||void 0!==s&&!s(c.value))&&e.editor.commands.setMark(e.type,{href:c.href})}}})}({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),e}}),bP=vP,wP=Object.defineProperty,kP="textStyle",jP=/^\s*([-+*])\s$/,NP=KE.create({name:"bulletList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML:()=>[{tag:"ul"}],renderHTML({HTMLAttributes:e}){return["ul",mS(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>"list"!==e.type||e.ordered?[]:{type:"bulletList",content:e.items?t.parseChildren(e.items):[]},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,"\n"):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes("listItem",this.editor.getAttributes(kP)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=zE({find:jP,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=zE({find:jP,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(kP),editor:this.editor})),[e]}}),CP=KE.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:e}){return["li",mS(this.options.HTMLAttributes,e),0]},markdownTokenName:"list_item",parseMarkdown:(e,t)=>{if("list_item"!==e.type)return[];let n=[];if(e.tokens&&e.tokens.length>0){if(e.tokens.some(e=>"paragraph"===e.type))n=t.parseChildren(e.tokens);else{const r=e.tokens[0];if(r&&"text"===r.type&&r.tokens&&r.tokens.length>0){if(n=[{type:"paragraph",content:t.parseInline(r.tokens)}],e.tokens.length>1){const r=e.tokens.slice(1),s=t.parseChildren(r);n.push(...s)}}else n=t.parseChildren(e.tokens)}}return 0===n.length&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(e,t,n)=>GE(e,t,e=>{var t,n;if("bulletList"===e.parentType)return"- ";if("orderedList"===e.parentType){return`${((null==(n=null==(t=e.meta)?void 0:t.parentAttrs)?void 0:n.start)||1)+e.index}. `}return"- "},n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}});((e,t)=>{for(var n in t)wP(e,n,{get:t[n],enumerable:!0})})({},{findListItemPos:()=>SP,getNextListDepth:()=>EP,handleBackspace:()=>DP,handleDelete:()=>_P,hasListBefore:()=>TP,hasListItemAfter:()=>IP,hasListItemBefore:()=>AP,listItemHasSubList:()=>MP,nextListIsDeeper:()=>OP,nextListIsHigher:()=>PP});var SP=(e,t)=>{const{$from:n}=t.selection,r=iC(e,t.schema);let s=null,i=n.depth,o=n.pos,a=null;for(;i>0&&null===a;)s=n.node(i),s.type===r?a=i:(i-=1,o-=1);return null===a?null:{$pos:t.doc.resolve(o),depth:a}},EP=(e,t)=>{const n=SP(e,t);if(!n)return!1;const[,r]=((e,t,n,r=20)=>{const s=e.doc.resolve(n);let i=r,o=null;for(;i>0&&null===o;){const e=s.node(i);(null==e?void 0:e.type.name)===t?o=e:i-=1}return[o,i]})(t,e,n.$pos.pos+4);return r},TP=(e,t,n)=>{const{$anchor:r}=e.selection,s=Math.max(0,r.pos-2),i=e.doc.resolve(s).node();return!(!i||!n.includes(i.type.name))},AP=(e,t)=>{var n;const{$anchor:r}=t.selection,s=t.doc.resolve(r.pos-2);return 0!==s.index()&&(null==(n=s.nodeBefore)?void 0:n.type.name)===e},MP=(e,t,n)=>{if(!n)return!1;const r=iC(e,t.schema);let s=!1;return n.descendants(e=>{e.type===r&&(s=!0)}),s},DP=(e,t,n)=>{if(e.commands.undoInputRule())return!0;if(e.state.selection.from!==e.state.selection.to)return!1;if(!$C(e.state,t)&&TP(e.state,t,n)){const{$anchor:n}=e.state.selection,r=e.state.doc.resolve(n.before()-1),s=[];r.node().descendants((e,n)=>{e.type.name===t&&s.push({node:e,pos:n})});const i=s.at(-1);if(!i)return!1;const o=e.state.doc.resolve(r.start()+i.pos+1);return e.chain().cut({from:n.start()-1,to:n.end()+1},o.end()).joinForward().run()}if(!$C(e.state,t))return!1;if(!(e=>{const{$from:t,$to:n}=e.selection;return!(t.parentOffset>0||t.pos!==n.pos)})(e.state))return!1;const r=SP(t,e.state);if(!r)return!1;const s=e.state.doc.resolve(r.$pos.pos-2).node(r.depth),i=MP(t,e.state,s);return AP(t,e.state)&&!i?e.commands.joinItemBackward():e.chain().liftListItem(t).run()},OP=(e,t)=>{const n=EP(e,t),r=SP(e,t);return!(!r||!n)&&n>r.depth},PP=(e,t)=>{const n=EP(e,t),r=SP(e,t);return!(!r||!n)&&n<r.depth},_P=(e,t)=>{if(!$C(e.state,t))return!1;if(!((e,t)=>{const{$from:n,$to:r,$anchor:s}=e.selection;if(t){const n=oS(e=>e.type.name===t)(e.selection);if(!n)return!1;const r=e.doc.resolve(n.pos+1);return s.pos+1===r.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)})(e.state,t))return!1;const{selection:n}=e.state,{$from:r,$to:s}=n;return!(!n.empty&&r.sameParent(s))&&(OP(t,e.state)?e.chain().focus(e.state.selection.from+4).lift(t).joinBackward().run():PP(t,e.state)?e.chain().joinForward().joinBackward().run():e.commands.joinItemForward())},IP=(e,t)=>{var n;const{$anchor:r}=t.selection,s=t.doc.resolve(r.pos-r.parentOffset-2);return s.index()!==s.parent.childCount-1&&(null==(n=s.nodeAfter)?void 0:n.type.name)===e},LP=wE.create({name:"listKeymap",addOptions:()=>({listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}),addKeyboardShortcuts(){return{Delete:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{void 0!==e.state.schema.nodes[n]&&_P(e,n)&&(t=!0)}),t},"Mod-Delete":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{void 0!==e.state.schema.nodes[n]&&_P(e,n)&&(t=!0)}),t},Backspace:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{void 0!==e.state.schema.nodes[n]&&DP(e,n,r)&&(t=!0)}),t},"Mod-Backspace":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{void 0!==e.state.schema.nodes[n]&&DP(e,n,r)&&(t=!0)}),t}}}}),RP=/^(\s*)(\d+)\.\s+(.*)$/,zP=/^\s/;function FP(e,t,n){var r;const s=[];let i=0;for(;i<e.length;){const o=e[i];if(o.indent===t){const a=o.content.split("\n"),l=(null==(r=a[0])?void 0:r.trim())||"",c=[];l&&c.push({type:"paragraph",raw:l,tokens:n.inlineTokens(l)});const d=a.slice(1).join("\n").trim();if(d){const e=n.blockTokens(d);c.push(...e)}let u=i+1;const h=[];for(;u<e.length&&e[u].indent>t;)h.push(e[u]),u+=1;if(h.length>0){const e=Math.min(...h.map(e=>e.indent)),t=FP(h,e,n);c.push({type:"list",ordered:!0,start:h[0].number,items:t,raw:h.map(e=>e.raw).join("\n")})}s.push({type:"list_item",raw:o.raw,tokens:c}),i=u}else i+=1}return s}var BP="textStyle",$P=/^(\d+)\.\s$/,VP=KE.create({name:"orderedList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes:()=>({start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}),parseHTML:()=>[{tag:"ol"}],renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return 1===t?["ol",mS(this.options.HTMLAttributes,n),0]:["ol",mS(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>{if("list"!==e.type||!e.ordered)return[];const n=e.start||1,r=e.items?function(e,t){return e.map(e=>{if("list_item"!==e.type)return t.parseChildren([e])[0];const n=[];return e.tokens&&e.tokens.length>0&&e.tokens.forEach(e=>{if("paragraph"===e.type||"list"===e.type||"blockquote"===e.type||"code"===e.type)n.push(...t.parseChildren([e]));else if("text"===e.type&&e.tokens){const r=t.parseChildren([e]);n.push({type:"paragraph",content:r})}else{const r=t.parseChildren([e]);r.length>0&&n.push(...r)}}),{type:"listItem",content:n}})}(e.items,t):[];return 1!==n?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,"\n"):"",markdownTokenizer:{name:"orderedList",level:"block",start:e=>{const t=e.match(/^(\s*)(\d+)\.\s+/),n=null==t?void 0:t.index;return void 0!==n?n:-1},tokenize:(e,t,n)=>{var r;const s=e.split("\n"),[i,o]=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n],i=s.match(RP);if(!i)break;const[,o,a,l]=i,c=o.length;let d=l,u=n+1;const h=[s];for(;u<e.length;){const t=e[u];if(t.match(RP))break;if(""===t.trim())h.push(t),d+="\n",u+=1;else{if(!t.match(zP))break;h.push(t),d+=`\n${t.slice(c+2)}`,u+=1}}t.push({indent:c,number:parseInt(a,10),content:d.trim(),raw:h.join("\n")}),r=u,n=u}return[t,r]}(s);if(0===i.length)return;const a=FP(i,0,n);if(0===a.length)return;return{type:"list",ordered:!0,start:(null==(r=i[0])?void 0:r.number)||1,items:a,raw:s.slice(0,o).join("\n")}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes("listItem",this.editor.getAttributes(BP)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=zE({find:$P,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=zE({find:$P,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(BP)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[e]}}),qP=/^\s*(\[([( |x])?\])\s$/,HP=KE.create({name:"taskItem",addOptions:()=>({nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}),content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes:()=>({checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return""===t||"true"===t},renderHTML:e=>({"data-checked":e.checked})}}),parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",mS(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(e,t)=>{const n=[];if(e.tokens&&e.tokens.length>0?n.push(t.createNode("paragraph",{},t.parseInline(e.tokens))):e.text?n.push(t.createNode("paragraph",{},[t.createNode("text",{text:e.text})])):n.push(t.createNode("paragraph",{},[])),e.nestedTokens&&e.nestedTokens.length>0){const r=t.parseChildren(e.nestedTokens);n.push(...r)}return t.createNode("taskItem",{checked:e.checked||!1},n)},renderMarkdown:(e,t)=>{var n;return GE(e,t,`- [${(null==(n=e.attrs)?void 0:n.checked)?"x":" "}] `)},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:n,editor:r})=>{const s=document.createElement("li"),i=document.createElement("label"),o=document.createElement("span"),a=document.createElement("input"),l=document.createElement("div"),c=e=>{var t,n;a.ariaLabel=(null==(n=null==(t=this.options.a11y)?void 0:t.checkboxLabel)?void 0:n.call(t,e,a.checked))||`Task item checkbox for ${e.textContent||"empty task item"}`};c(e),i.contentEditable="false",a.type="checkbox",a.addEventListener("mousedown",e=>e.preventDefault()),a.addEventListener("change",t=>{if(!r.isEditable&&!this.options.onReadOnlyChecked)return void(a.checked=!a.checked);const{checked:s}=t.target;r.isEditable&&"function"==typeof n&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:e})=>{const t=n();if("number"!=typeof t)return!1;const r=e.doc.nodeAt(t);return e.setNodeMarkup(t,void 0,{...null==r?void 0:r.attrs,checked:s}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,s)||(a.checked=!a.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([e,t])=>{s.setAttribute(e,t)}),s.dataset.checked=e.attrs.checked,a.checked=e.attrs.checked,i.append(a,o),s.append(i,l),Object.entries(t).forEach(([e,t])=>{s.setAttribute(e,t)});let d=new Set(Object.keys(t));return{dom:s,contentDOM:l,update:e=>{if(e.type!==this.type)return!1;s.dataset.checked=e.attrs.checked,a.checked=e.attrs.checked,c(e);const t=fS(e,r.extensionManager.attributes),n=new Set(Object.keys(t)),i=this.options.HTMLAttributes;return d.forEach(e=>{n.has(e)||(e in i?s.setAttribute(e,i[e]):s.removeAttribute(e))}),Object.entries(t).forEach(([e,t])=>{null==t?e in i?s.setAttribute(e,i[e]):s.removeAttribute(e):s.setAttribute(e,t)}),d=n,!0}}}},addInputRules(){return[zE({find:qP,type:this.type,getAttributes:e=>({checked:"x"===e[e.length-1]})})]}}),UP=KE.create({name:"taskList",addOptions:()=>({itemTypeName:"taskItem",HTMLAttributes:{}}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",mS(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},parseMarkdown:(e,t)=>t.createNode("taskList",{},t.parseChildren(e.items||[])),renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,"\n"):"",markdownTokenizer:{name:"taskList",level:"block",start(e){var t;const n=null==(t=e.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))?void 0:t.index;return void 0!==n?n:-1},tokenize(e,t,n){const r=e=>{const t=WE(e,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:e=>({indentLevel:e[1].length,mainContent:e[4],checked:"x"===e[3].toLowerCase()}),createToken:(e,t)=>({type:"taskItem",raw:"",mainContent:e.mainContent,indentLevel:e.indentLevel,checked:e.checked,text:e.mainContent,tokens:n.inlineTokens(e.mainContent),nestedTokens:t}),customNestedParser:r},n);return t?[{type:"taskList",raw:t.raw,items:t.items}]:n.blockTokens(e)},s=WE(e,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:e=>({indentLevel:e[1].length,mainContent:e[4],checked:"x"===e[3].toLowerCase()}),createToken:(e,t)=>({type:"taskItem",raw:"",mainContent:e.mainContent,indentLevel:e.indentLevel,checked:e.checked,text:e.mainContent,tokens:n.inlineTokens(e.mainContent),nestedTokens:t}),customNestedParser:r},n);if(s)return{type:"taskList",raw:s.raw,items:s.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});wE.create({name:"listKit",addExtensions(){const e=[];return!1!==this.options.bulletList&&e.push(NP.configure(this.options.bulletList)),!1!==this.options.listItem&&e.push(CP.configure(this.options.listItem)),!1!==this.options.listKeymap&&e.push(LP.configure(this.options.listKeymap)),!1!==this.options.orderedList&&e.push(VP.configure(this.options.orderedList)),!1!==this.options.taskItem&&e.push(HP.configure(this.options.taskItem)),!1!==this.options.taskList&&e.push(UP.configure(this.options.taskList)),e}});var WP="&nbsp;",GP=KE.create({name:"paragraph",priority:1e3,addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:e}){return["p",mS(this.options.HTMLAttributes,e),0]},parseMarkdown:(e,t)=>{const n=e.tokens||[];if(1===n.length&&"image"===n[0].type)return t.parseChildren([n[0]]);const r=t.parseInline(n);return 1!==r.length||"text"!==r[0].type||r[0].text!==WP&&""!==r[0].text?t.createNode("paragraph",void 0,r):t.createNode("paragraph",void 0,[])},renderMarkdown:(e,t)=>{if(!e)return"";const n=Array.isArray(e.content)?e.content:[];return 0===n.length?WP:t.renderChildren(n)},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),KP=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,JP=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,YP=mE.create({name:"strike",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("line-through")&&{}}],renderHTML({HTMLAttributes:e}){return["s",mS(this.options.HTMLAttributes,e),0]},markdownTokenName:"del",parseMarkdown:(e,t)=>t.applyMark("strike",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`~~${t.renderChildren(e)}~~`,addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[IE({find:KP,type:this.type})]},addPasteRules(){return[JE({find:JP,type:this.type})]}}),XP=KE.create({name:"text",group:"inline",parseMarkdown:e=>({type:"text",text:e.text||""}),renderMarkdown:e=>e.text||""}),ZP=mE.create({name:"underline",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("underline")&&{}}],renderHTML({HTMLAttributes:e}){return["u",mS(this.options.HTMLAttributes,e),0]},parseMarkdown(e,t){return t.applyMark(this.name||"underline",t.parseInline(e.tokens||[]))},renderMarkdown:(e,t)=>`++${t.renderChildren(e)}++`,markdownTokenizer:{name:"underline",level:"inline",start:e=>e.indexOf("++"),tokenize(e,t,n){const r=/^(\+\+)([\s\S]+?)(\+\+)/.exec(e);if(!r)return;const s=r[2].trim();return{type:"underline",raw:r[0],text:s,tokens:n.inlineTokens(s)}}},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function QP(e={}){return new Wb({view:t=>new e_(t,e)})}class e_{constructor(e,t){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=null!==(n=t.width)&&void 0!==n?n:1,this.color=!1===t.color?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(t=>{let n=e=>{this[t](e)};return e.dom.addEventListener(t,n),{name:t,handler:n}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e,t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,r=this.editorView.dom,s=r.getBoundingClientRect(),i=s.width/r.offsetWidth,o=s.height/r.offsetHeight;if(n){let n=t.nodeBefore,r=t.nodeAfter;if(n||r){let t=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0));if(t){let s=t.getBoundingClientRect(),i=n?s.bottom:s.top;n&&r&&(i=(i+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let a=this.width/2*o;e={left:s.left,right:s.right,top:i-a,bottom:i+a}}}}if(!e){let t=this.editorView.coordsAtPos(this.cursorPos),n=this.width/2*i;e={left:t.left-n,right:t.left+n,top:t.top,bottom:t.bottom}}let a,l,c=this.editorView.dom.offsetParent;if(this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n),!c||c==document.body&&"static"==getComputedStyle(c).position)a=-pageXOffset,l=-pageYOffset;else{let e=c.getBoundingClientRect(),t=e.width/c.offsetWidth,n=e.height/c.offsetHeight;a=e.left-c.scrollLeft*t,l=e.top-c.scrollTop*n}this.element.style.left=(e.left-a)/i+"px",this.element.style.top=(e.top-l)/o+"px",this.element.style.width=(e.right-e.left)/i+"px",this.element.style.height=(e.bottom-e.top)/o+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),r=n&&n.type.spec.disableDropCursor,s="function"==typeof r?r(this.editorView,t,e):r;if(t&&!s){let e=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let t=db(this.editorView.state.doc,e,this.editorView.dragging.slice);null!=t&&(e=t)}this.setCursor(e),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class t_ extends Eb{constructor(e){super(e,e)}map(e,t){let n=e.resolve(t.map(this.head));return t_.valid(n)?new t_(n):Eb.near(n)}content(){return Iy.empty}eq(e){return e instanceof t_&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new t_(e.resolve(t.pos))}getBookmark(){return new n_(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!function(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(0!=n)for(let e=r.child(n-1);;e=e.lastChild){if(0==e.childCount&&!e.inlineContent||r_(e.type))return!0;if(e.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(e)||!function(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n!=r.childCount)for(let e=r.child(n);;e=e.firstChild){if(0==e.childCount&&!e.inlineContent||r_(e.type))return!0;if(e.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(e))return!1;let n=t.type.spec.allowGapCursor;if(null!=n)return n;let r=t.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,t,n=!1){e:for(;;){if(!n&&t_.valid(e))return e;let r=e.pos,s=null;for(let n=e.depth;;n--){let i=e.node(n);if(t>0?e.indexAfter(n)<i.childCount:e.index(n)>0){s=i.child(t>0?e.indexAfter(n):e.index(n)-1);break}if(0==n)return null;r+=t;let o=e.doc.resolve(r);if(t_.valid(o))return o}for(;;){let i=t>0?s.firstChild:s.lastChild;if(!i){if(s.isAtom&&!s.isText&&!Pb.isSelectable(s)){e=e.doc.resolve(r+s.nodeSize*t),n=!1;continue e}break}s=i,r+=t;let o=e.doc.resolve(r);if(t_.valid(o))return o}return null}}}t_.prototype.visible=!1,t_.findFrom=t_.findGapCursorFrom,Eb.jsonID("gapcursor",t_);class n_{constructor(e){this.pos=e}map(e){return new n_(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return t_.valid(t)?new t_(t):Eb.near(t)}}function r_(e){return e.isAtom||e.spec.isolating||e.spec.createGapCursor}const s_=WN({ArrowLeft:i_("horiz",-1),ArrowRight:i_("horiz",1),ArrowUp:i_("vert",-1),ArrowDown:i_("vert",1)});function i_(e,t){const n="vert"==e?t>0?"down":"up":t>0?"right":"left";return function(e,r,s){let i=e.selection,o=t>0?i.$to:i.$from,a=i.empty;if(i instanceof Db){if(!s.endOfTextblock(n)||0==o.depth)return!1;a=!1,o=e.doc.resolve(t>0?o.after():o.before())}let l=t_.findGapCursorFrom(o,t,a);return!!l&&(r&&r(e.tr.setSelection(new t_(l))),!0)}}function o_(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!t_.valid(r))return!1;let s=e.posAtCoords({left:n.clientX,top:n.clientY});return!(s&&s.inside>-1&&Pb.isSelectable(e.state.doc.nodeAt(s.inside)))&&(e.dispatch(e.state.tr.setSelection(new t_(r))),!0)}function a_(e,t){if("insertCompositionText"!=t.inputType||!(e.state.selection instanceof t_))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let s=Ay.empty;for(let o=r.length-1;o>=0;o--)s=Ay.from(r[o].createAndFill(null,s));let i=e.state.tr.replace(n.pos,n.pos,new Iy(s,0,0));return i.setSelection(Db.near(i.doc.resolve(n.pos+1))),e.dispatch(i),!1}function l_(e){if(!(e.selection instanceof t_))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",iN.create(e.doc,[nN.widget(e.selection.head,t,{key:"gapcursor"})])}var c_=200,d_=function(){};d_.prototype.append=function(e){return e.length?(e=d_.from(e),!this.length&&e||e.length<c_&&this.leafAppend(e)||this.length<c_&&e.leafPrepend(this)||this.appendInner(e)):this},d_.prototype.prepend=function(e){return e.length?d_.from(e).append(this):this},d_.prototype.appendInner=function(e){return new h_(this,e)},d_.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?d_.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},d_.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},d_.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},d_.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach(function(t,n){return r.push(e(t,n))},t,n),r},d_.from=function(e){return e instanceof d_?e:e&&e.length?new u_(e):d_.empty};var u_=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var s=t;s<n;s++)if(!1===e(this.values[s],r+s))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var s=t-1;s>=n;s--)if(!1===e(this.values[s],r+s))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=c_)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=c_)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(d_);d_.empty=new u_([]);var h_=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var s=this.left.length;return!(t<s&&!1===this.left.forEachInner(e,t,Math.min(n,s),r))&&(!(n>s&&!1===this.right.forEachInner(e,Math.max(t-s,0),Math.min(this.length,n)-s,r+s))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,r){var s=this.left.length;return!(t>s&&!1===this.right.forEachInvertedInner(e,t-s,Math.max(n,s)-s,r+s))&&(!(n<s&&!1===this.left.forEachInvertedInner(e,Math.min(t,s),n,r))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(d_);class p_{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(0==this.eventCount)return null;let n,r,s=this.items.length;for(;;s--){if(this.items.get(s-1).selection){--s;break}}t&&(n=this.remapping(s,this.items.length),r=n.maps.length);let i,o,a=e.tr,l=[],c=[];return this.items.forEach((e,t)=>{if(!e.step)return n||(n=this.remapping(s,t+1),r=n.maps.length),r--,void c.push(e);if(n){c.push(new m_(e.map));let t,s=e.step.map(n.slice(r));s&&a.maybeStep(s).doc&&(t=a.mapping.maps[a.mapping.maps.length-1],l.push(new m_(t,void 0,void 0,l.length+c.length))),r--,t&&n.appendMap(t,r)}else a.maybeStep(e.step);return e.selection?(i=n?e.selection.map(n.slice(r)):e.selection,o=new p_(this.items.slice(0,s).append(c.reverse().concat(l)),this.eventCount-1),!1):void 0},this.items.length,0),{remaining:o,transform:a,selection:i}}addTransform(e,t,n,r){let s=[],i=this.eventCount,o=this.items,a=!r&&o.length?o.get(o.length-1):null;for(let c=0;c<e.steps.length;c++){let n,l=e.steps[c].invert(e.docs[c]),d=new m_(e.mapping.maps[c],l,t);(n=a&&a.merge(d))&&(d=n,c?s.pop():o=o.slice(0,o.length-1)),s.push(d),t&&(i++,t=void 0),r||(a=d)}let l=i-n.depth;return l>g_&&(o=function(e,t){let n;return e.forEach((e,r)=>{if(e.selection&&0==t--)return n=r,!1}),e.slice(n)}(o,l),i-=l),new p_(o.append(s),i)}remapping(e,t){let n=new $v;return this.items.forEach((t,r)=>{let s=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:void 0;n.appendMap(t.map,s)},e,t),n}addMaps(e){return 0==this.eventCount?this:new p_(this.items.append(e.map(e=>new m_(e))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-t),s=e.mapping,i=e.steps.length,o=this.eventCount;this.items.forEach(e=>{e.selection&&o--},r);let a=t;this.items.forEach(t=>{let r=s.getMirror(--a);if(null==r)return;i=Math.min(i,r);let l=s.maps[r];if(t.step){let i=e.steps[r].invert(e.docs[r]),c=t.selection&&t.selection.map(s.slice(a+1,r));c&&o++,n.push(new m_(l,i,c))}else n.push(new m_(l))},r);let l=[];for(let u=t;u<i;u++)l.push(new m_(s.maps[u]));let c=this.items.slice(0,r).append(l).append(n),d=new p_(c,o);return d.emptyItemCount()>500&&(d=d.compress(this.items.length-n.length)),d}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,r=[],s=0;return this.items.forEach((i,o)=>{if(o>=e)r.push(i),i.selection&&s++;else if(i.step){let e=i.step.map(t.slice(n)),o=e&&e.getMap();if(n--,o&&t.appendMap(o,n),e){let a=i.selection&&i.selection.map(t.slice(n));a&&s++;let l,c=new m_(o.invert(),e,a),d=r.length-1;(l=r.length&&r[d].merge(c))?r[d]=l:r.push(c)}}else i.map&&n--},this.items.length,0),new p_(d_.from(r.reverse()),s)}}p_.empty=new p_(d_.empty,0);class m_{constructor(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new m_(t.getMap().invert(),t,this.selection)}}}class f_{constructor(e,t,n,r,s){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r,this.prevComposition=s}}const g_=20;function x_(e){let t=[];for(let n=e.length-1;n>=0&&0==t.length;n--)e[n].forEach((e,n,r,s)=>t.push(r,s));return t}function y_(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let s=t.map(e[r],1),i=t.map(e[r+1],-1);s<=i&&n.push(s,i)}return n}let v_=!1,b_=null;function w_(e){let t=e.plugins;if(b_!=t){v_=!1,b_=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){v_=!0;break}}return v_}const k_=new Jb("history"),j_=new Jb("closeHistory");function N_(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new Wb({key:k_,state:{init:()=>new f_(p_.empty,p_.empty,null,0,-1),apply:(t,n,r)=>function(e,t,n,r){let s,i=n.getMeta(k_);if(i)return i.historyState;n.getMeta(j_)&&(e=new f_(e.done,e.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(o&&o.getMeta(k_))return o.getMeta(k_).redo?new f_(e.done.addTransform(n,void 0,r,w_(t)),e.undone,x_(n.mapping.maps),e.prevTime,e.prevComposition):new f_(e.done,e.undone.addTransform(n,void 0,r,w_(t)),null,e.prevTime,e.prevComposition);if(!1===n.getMeta("addToHistory")||o&&!1===o.getMeta("addToHistory"))return(s=n.getMeta("rebased"))?new f_(e.done.rebased(n,s),e.undone.rebased(n,s),y_(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new f_(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),y_(e.prevRanges,n.mapping),e.prevTime,e.prevComposition);{let s=n.getMeta("composition"),i=0==e.prevTime||!o&&e.prevComposition!=s&&(e.prevTime<(n.time||0)-r.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((e,r)=>{for(let s=0;s<t.length;s+=2)e<=t[s+1]&&r>=t[s]&&(n=!0)}),n}(n,e.prevRanges)),a=o?y_(e.prevRanges,n.mapping):x_(n.mapping.maps);return new f_(e.done.addTransform(n,i?t.selection.getBookmark():void 0,r,w_(t)),p_.empty,a,n.time,null==s?e.prevComposition:s)}}(n,r,t,e)},config:e,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,r="historyUndo"==n?S_:"historyRedo"==n?E_:null;return!(!r||!e.editable)&&(t.preventDefault(),r(e.state,e.dispatch))}}}})}function C_(e,t){return(n,r)=>{let s=k_.getState(n);if(!s||0==(e?s.undone:s.done).eventCount)return!1;if(r){let i=function(e,t,n){let r=w_(t),s=k_.get(t).spec.config,i=(n?e.undone:e.done).popEvent(t,r);if(!i)return null;let o=i.selection.resolve(i.transform.doc),a=(n?e.done:e.undone).addTransform(i.transform,t.selection.getBookmark(),s,r),l=new f_(n?a:i.remaining,n?i.remaining:a,null,0,-1);return i.transform.setSelection(o).setMeta(k_,{redo:n,historyState:l})}(s,n,e);i&&r(t?i.scrollIntoView():i)}return!0}}const S_=C_(!1,!0),E_=C_(!0,!0);wE.create({name:"characterCount",addOptions:()=>({limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(e=>""!==e).length}),addStorage:()=>({characters:()=>0,words:()=>0}),onBeforeCreate(){this.storage.characters=e=>{const t=(null==e?void 0:e.node)||this.editor.state.doc;if("textSize"===((null==e?void 0:e.mode)||this.options.mode)){const e=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(e)}return t.nodeSize},this.storage.words=e=>{const t=(null==e?void 0:e.node)||this.editor.state.doc,n=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let e=!1;return[new Wb({key:new Jb("characterCount"),appendTransaction:(t,n,r)=>{if(e)return;const s=this.options.limit;if(null==s||0===s)return void(e=!0);const i=this.storage.characters({node:r.doc});if(i>s){const t=0,n=i-s;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const o=r.tr.deleteRange(t,n);return e=!0,o}e=!0},filterTransaction:(e,t)=>{const n=this.options.limit;if(!e.docChanged||0===n||null==n)return!0;const r=this.storage.characters({node:t.doc}),s=this.storage.characters({node:e.doc});if(s<=n)return!0;if(r>n&&s>n&&s<=r)return!0;if(r>n&&s>n&&s>r)return!1;if(!e.getMeta("paste"))return!1;const i=e.selection.$head.pos,o=i-(s-n),a=i;e.deleteRange(o,a);return!(this.storage.characters({node:e.doc})>n)}})]}});var T_=wE.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:void 0}),addProseMirrorPlugins(){return[QP(this.options)]}});wE.create({name:"focus",addOptions:()=>({className:"has-focus",mode:"all"}),addProseMirrorPlugins(){return[new Wb({key:new Jb("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:s}=t,i=[];if(!n||!r)return iN.create(e,[]);let o=0;"deepest"===this.options.mode&&e.descendants((e,t)=>{if(e.isText)return;if(!(s>=t&&s<=t+e.nodeSize-1))return!1;o+=1});let a=0;return e.descendants((e,t)=>{if(e.isText)return!1;if(!(s>=t&&s<=t+e.nodeSize-1))return!1;a+=1;if("deepest"===this.options.mode&&o-a>0||"shallowest"===this.options.mode&&a>1)return"deepest"===this.options.mode;i.push(nN.node(t,t+e.nodeSize,{class:this.options.className}))}),iN.create(e,i)}}})]}});var A_=wE.create({name:"gapCursor",addProseMirrorPlugins:()=>[new Wb({props:{decorations:l_,createSelectionBetween:(e,t,n)=>t.pos==n.pos&&t_.valid(n)?new t_(n):null,handleClick:o_,handleKeyDown:s_,handleDOMEvents:{beforeinput:a_}}})],extendNodeSchema(e){var t;return{allowGapCursor:null!=(t=uS(aS(e,"allowGapCursor",{name:e.name,options:e.options,storage:e.storage})))?t:null}}}),M_="placeholder";function D_({types:e,node:t}){return t&&Array.isArray(e)&&e.includes(t.type)||(null==t?void 0:t.type)===e}wE.create({name:"placeholder",addOptions:()=>({emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",dataAttribute:M_,placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}),addProseMirrorPlugins(){const e=this.options.dataAttribute?`data-${t=this.options.dataAttribute,t.replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-]/g,"").replace(/^[0-9-]+/,"").replace(/^-+/,"").toLowerCase()}`:`data-${M_}`;var t;return[new Wb({key:new Jb("placeholder"),props:{decorations:({doc:t,selection:n})=>{const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:s}=n,i=[];if(!r)return null;const o=this.editor.isEmpty;return t.descendants((t,n)=>{const r=s>=n&&s<=n+t.nodeSize,a=!t.isLeaf&&PS(t);if((r||!this.options.showOnlyCurrent)&&a){const s=[this.options.emptyNodeClass];o&&s.push(this.options.emptyEditorClass);const a=nN.node(n,n+t.nodeSize,{class:s.join(" "),[e]:"function"==typeof this.options.placeholder?this.options.placeholder({editor:this.editor,node:t,pos:n,hasAnchor:r}):this.options.placeholder});i.push(a)}return this.options.includeChildren}),iN.create(t,i)}}})]}}),wE.create({name:"selection",addOptions:()=>({className:"selection"}),addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new Wb({key:new Jb("selection"),props:{decorations:n=>n.selection.empty||e.isFocused||!e.isEditable||_S(n.selection)||e.view.dragging?null:iN.create(n.doc,[nN.inline(n.selection.from,n.selection.to,{class:t.className})])}})]}});var O_=wE.create({name:"trailingNode",addOptions:()=>({node:void 0,notAfter:[]}),addProseMirrorPlugins(){var e;const t=new Jb(this.name),n=this.options.node||(null==(e=this.editor.schema.topNodeType.contentMatch.defaultType)?void 0:e.name)||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,e])=>e).filter(e=>(this.options.notAfter||[]).concat(n).includes(e.name));return[new Wb({key:t,appendTransaction:(e,r,s)=>{const{doc:i,tr:o,schema:a}=s,l=t.getState(s),c=i.content.size,d=a.nodes[n];if(l)return o.insert(c,d.create())},state:{init:(e,t)=>!D_({node:t.tr.doc.lastChild,types:r}),apply:(e,t)=>{if(!e.docChanged)return t;if(e.getMeta("__uniqueIDTransaction"))return t;return!D_({node:e.doc.lastChild,types:r})}}})]}}),P_=wE.create({name:"undoRedo",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>({state:e,dispatch:t})=>S_(e,t),redo:()=>({state:e,dispatch:t})=>E_(e,t)}),addProseMirrorPlugins(){return[N_(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),__=wE.create({name:"starterKit",addExtensions(){var e,t,n,r;const s=[];return!1!==this.options.bold&&s.push(oD.configure(this.options.bold)),!1!==this.options.blockquote&&s.push(tD.configure(this.options.blockquote)),!1!==this.options.bulletList&&s.push(NP.configure(this.options.bulletList)),!1!==this.options.code&&s.push(cD.configure(this.options.code)),!1!==this.options.codeBlock&&s.push(hD.configure(this.options.codeBlock)),!1!==this.options.document&&s.push(pD.configure(this.options.document)),!1!==this.options.dropcursor&&s.push(T_.configure(this.options.dropcursor)),!1!==this.options.gapcursor&&s.push(A_.configure(this.options.gapcursor)),!1!==this.options.hardBreak&&s.push(mD.configure(this.options.hardBreak)),!1!==this.options.heading&&s.push(fD.configure(this.options.heading)),!1!==this.options.undoRedo&&s.push(P_.configure(this.options.undoRedo)),!1!==this.options.horizontalRule&&s.push(gD.configure(this.options.horizontalRule)),!1!==this.options.italic&&s.push(wD.configure(this.options.italic)),!1!==this.options.listItem&&s.push(CP.configure(this.options.listItem)),!1!==this.options.listKeymap&&s.push(LP.configure(null==(e=this.options)?void 0:e.listKeymap)),!1!==this.options.link&&s.push(vP.configure(null==(t=this.options)?void 0:t.link)),!1!==this.options.orderedList&&s.push(VP.configure(this.options.orderedList)),!1!==this.options.paragraph&&s.push(GP.configure(this.options.paragraph)),!1!==this.options.strike&&s.push(YP.configure(this.options.strike)),!1!==this.options.text&&s.push(XP.configure(this.options.text)),!1!==this.options.underline&&s.push(ZP.configure(null==(n=this.options)?void 0:n.underline)),!1!==this.options.trailingNode&&s.push(O_.configure(null==(r=this.options)?void 0:r.trailingNode)),s}}),I_=__;const L_={};function R_(e,t){"string"!=typeof t&&(t=R_.defaultChars);const n=function(e){let t=L_[e];if(t)return t;t=L_[e]=[];for(let n=0;n<128;n++){const e=String.fromCharCode(n);t.push(e)}for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t[r]="%"+("0"+r.toString(16).toUpperCase()).slice(-2)}return t}(t);return e.replace(/(%[a-f0-9]{2})+/gi,function(e){let t="";for(let r=0,s=e.length;r<s;r+=3){const i=parseInt(e.slice(r+1,r+3),16);if(i<128)t+=n[i];else{if(192==(224&i)&&r+3<s){const n=parseInt(e.slice(r+4,r+6),16);if(128==(192&n)){const e=i<<6&1984|63&n;t+=e<128?"":String.fromCharCode(e),r+=3;continue}}if(224==(240&i)&&r+6<s){const n=parseInt(e.slice(r+4,r+6),16),s=parseInt(e.slice(r+7,r+9),16);if(128==(192&n)&&128==(192&s)){const e=i<<12&61440|n<<6&4032|63&s;t+=e<2048||e>=55296&&e<=57343?"":String.fromCharCode(e),r+=6;continue}}if(240==(248&i)&&r+9<s){const n=parseInt(e.slice(r+4,r+6),16),s=parseInt(e.slice(r+7,r+9),16),o=parseInt(e.slice(r+10,r+12),16);if(128==(192&n)&&128==(192&s)&&128==(192&o)){let e=i<<18&1835008|n<<12&258048|s<<6&4032|63&o;e<65536||e>1114111?t+="":(e-=65536,t+=String.fromCharCode(55296+(e>>10),56320+(1023&e))),r+=9;continue}}t+=""}}return t})}R_.defaultChars=";/?:@&=+$,#",R_.componentChars="";const z_={};function F_(e,t,n){"string"!=typeof t&&(n=t,t=F_.defaultChars),void 0===n&&(n=!0);const r=function(e){let t=z_[e];if(t)return t;t=z_[e]=[];for(let n=0;n<128;n++){const e=String.fromCharCode(n);/^[0-9a-z]$/i.test(e)?t.push(e):t.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<e.length;n++)t[e.charCodeAt(n)]=e[n];return t}(t);let s="";for(let i=0,o=e.length;i<o;i++){const t=e.charCodeAt(i);if(n&&37===t&&i+2<o&&/^[0-9a-f]{2}$/i.test(e.slice(i+1,i+3)))s+=e.slice(i,i+3),i+=2;else if(t<128)s+=r[t];else if(t>=55296&&t<=57343){if(t>=55296&&t<=56319&&i+1<o){const t=e.charCodeAt(i+1);if(t>=56320&&t<=57343){s+=encodeURIComponent(e[i]+e[i+1]),i++;continue}}s+="%EF%BF%BD"}else s+=encodeURIComponent(e[i])}return s}function B_(e){let t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||"",t}function $_(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}F_.defaultChars=";/?:@&=+$,-_.!~*'()#",F_.componentChars="-_.!~*'()";const V_=/^([a-z0-9.+-]+:)/i,q_=/:[0-9]*$/,H_=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,U_=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),W_=["'"].concat(U_),G_=["%","/","?",";","#"].concat(W_),K_=["/","?","#"],J_=/^[+a-z0-9A-Z_-]{0,63}$/,Y_=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,X_={javascript:!0,"javascript:":!0},Z_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Q_(e,t){if(e&&e instanceof $_)return e;const n=new $_;return n.parse(e,t),n}$_.prototype.parse=function(e,t){let n,r,s,i=e;if(i=i.trim(),!t&&1===e.split("#").length){const e=H_.exec(i);if(e)return this.pathname=e[1],e[2]&&(this.search=e[2]),this}let o=V_.exec(i);if(o&&(o=o[0],n=o.toLowerCase(),this.protocol=o,i=i.substr(o.length)),(t||o||i.match(/^\/\/[^@\/]+@[^@\/]+/))&&(s="//"===i.substr(0,2),!s||o&&X_[o]||(i=i.substr(2),this.slashes=!0)),!X_[o]&&(s||o&&!Z_[o])){let e,t,n=-1;for(let a=0;a<K_.length;a++)r=i.indexOf(K_[a]),-1!==r&&(-1===n||r<n)&&(n=r);t=-1===n?i.lastIndexOf("@"):i.lastIndexOf("@",n),-1!==t&&(e=i.slice(0,t),i=i.slice(t+1),this.auth=e),n=-1;for(let a=0;a<G_.length;a++)r=i.indexOf(G_[a]),-1!==r&&(-1===n||r<n)&&(n=r);-1===n&&(n=i.length),":"===i[n-1]&&n--;const s=i.slice(0,n);i=i.slice(n),this.parseHost(s),this.hostname=this.hostname||"";const o="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!o){const e=this.hostname.split(/\./);for(let t=0,n=e.length;t<n;t++){const n=e[t];if(n&&!n.match(J_)){let r="";for(let e=0,t=n.length;e<t;e++)n.charCodeAt(e)>127?r+="x":r+=n[e];if(!r.match(J_)){const r=e.slice(0,t),s=e.slice(t+1),o=n.match(Y_);o&&(r.push(o[1]),s.unshift(o[2])),s.length&&(i=s.join(".")+i),this.hostname=r.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),o&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const a=i.indexOf("#");-1!==a&&(this.hash=i.substr(a),i=i.slice(0,a));const l=i.indexOf("?");return-1!==l&&(this.search=i.substr(l),i=i.slice(0,l)),i&&(this.pathname=i),Z_[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this},$_.prototype.parseHost=function(e){let t=q_.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};const eI=Object.freeze(Object.defineProperty({__proto__:null,decode:R_,encode:F_,format:B_,parse:Q_},Symbol.toStringTag,{value:"Module"})),tI=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,nI=/[\0-\x1F\x7F-\x9F]/,rI=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,sI=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,iI=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,oI=Object.freeze(Object.defineProperty({__proto__:null,Any:tI,Cc:nI,Cf:/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,P:rI,S:sI,Z:iI},Symbol.toStringTag,{value:"Module"})),aI=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),lI=new Uint16Array("aglq\t\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var cI;const dI=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),uI=null!==(cI=String.fromCodePoint)&&void 0!==cI?cI:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e),t};var hI;!function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"}(hI||(hI={}));var pI,mI,fI;function gI(e){return e>=hI.ZERO&&e<=hI.NINE}function xI(e){return e>=hI.UPPER_A&&e<=hI.UPPER_F||e>=hI.LOWER_A&&e<=hI.LOWER_F}function yI(e){return e===hI.EQUALS||function(e){return e>=hI.UPPER_A&&e<=hI.UPPER_Z||e>=hI.LOWER_A&&e<=hI.LOWER_Z||gI(e)}(e)}!function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"}(pI||(pI={})),function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"}(mI||(mI={})),function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"}(fI||(fI={}));class vI{constructor(e,t,n){this.decodeTree=e,this.emitCodePoint=t,this.errors=n,this.state=mI.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=fI.Strict}startEntity(e){this.decodeMode=e,this.state=mI.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case mI.EntityStart:return e.charCodeAt(t)===hI.NUM?(this.state=mI.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=mI.NamedEntity,this.stateNamedEntity(e,t));case mI.NumericStart:return this.stateNumericStart(e,t);case mI.NumericDecimal:return this.stateNumericDecimal(e,t);case mI.NumericHex:return this.stateNumericHex(e,t);case mI.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(32|e.charCodeAt(t))===hI.LOWER_X?(this.state=mI.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=mI.NumericDecimal,this.stateNumericDecimal(e,t))}addToNumericResult(e,t,n,r){if(t!==n){const s=n-t;this.result=this.result*Math.pow(r,s)+parseInt(e.substr(t,s),r),this.consumed+=s}}stateNumericHex(e,t){const n=t;for(;t<e.length;){const r=e.charCodeAt(t);if(!gI(r)&&!xI(r))return this.addToNumericResult(e,n,t,16),this.emitNumericEntity(r,3);t+=1}return this.addToNumericResult(e,n,t,16),-1}stateNumericDecimal(e,t){const n=t;for(;t<e.length;){const r=e.charCodeAt(t);if(!gI(r))return this.addToNumericResult(e,n,t,10),this.emitNumericEntity(r,2);t+=1}return this.addToNumericResult(e,n,t,10),-1}emitNumericEntity(e,t){var n;if(this.consumed<=t)return null===(n=this.errors)||void 0===n||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===hI.SEMI)this.consumed+=1;else if(this.decodeMode===fI.Strict)return 0;return this.emitCodePoint(function(e){var t;return e>=55296&&e<=57343||e>1114111?65533:null!==(t=dI.get(e))&&void 0!==t?t:e}(this.result),this.consumed),this.errors&&(e!==hI.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){const{decodeTree:n}=this;let r=n[this.treeIndex],s=(r&pI.VALUE_LENGTH)>>14;for(;t<e.length;t++,this.excess++){const i=e.charCodeAt(t);if(this.treeIndex=wI(n,r,this.treeIndex+Math.max(1,s),i),this.treeIndex<0)return 0===this.result||this.decodeMode===fI.Attribute&&(0===s||yI(i))?0:this.emitNotTerminatedNamedEntity();if(r=n[this.treeIndex],s=(r&pI.VALUE_LENGTH)>>14,0!==s){if(i===hI.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==fI.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:t,decodeTree:n}=this,r=(n[t]&pI.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,r,this.consumed),null===(e=this.errors)||void 0===e||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,n){const{decodeTree:r}=this;return this.emitCodePoint(1===t?r[e]&~pI.VALUE_LENGTH:r[e+1],n),3===t&&this.emitCodePoint(r[e+2],n),n}end(){var e;switch(this.state){case mI.NamedEntity:return 0===this.result||this.decodeMode===fI.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case mI.NumericDecimal:return this.emitNumericEntity(0,2);case mI.NumericHex:return this.emitNumericEntity(0,3);case mI.NumericStart:return null===(e=this.errors)||void 0===e||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case mI.EntityStart:return 0}}}function bI(e){let t="";const n=new vI(e,e=>t+=uI(e));return function(e,r){let s=0,i=0;for(;(i=e.indexOf("&",i))>=0;){t+=e.slice(s,i),n.startEntity(r);const o=n.write(e,i+1);if(o<0){s=i+n.end();break}s=i+o,i=0===o?s+1:s}const o=t+e.slice(s);return t="",o}}function wI(e,t,n,r){const s=(t&pI.BRANCH_LENGTH)>>7,i=t&pI.JUMP_TABLE;if(0===s)return 0!==i&&r===i?n:-1;if(i){const t=r-i;return t<0||t>=s?-1:e[n+t]-1}let o=n,a=o+s-1;for(;o<=a;){const t=o+a>>>1,n=e[t];if(n<r)o=t+1;else{if(!(n>r))return e[t+s];a=t-1}}return-1}const kI=bI(aI);function jI(e,t=fI.Legacy){return kI(e,t)}function NI(e){return"[object String]"===function(e){return Object.prototype.toString.call(e)}(e)}bI(lI);const CI=Object.prototype.hasOwnProperty;function SI(e){return Array.prototype.slice.call(arguments,1).forEach(function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach(function(n){e[n]=t[n]})}}),e}function EI(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))}function TI(e){return!(e>=55296&&e<=57343)&&(!(e>=64976&&e<=65007)&&(!!(65535&~e&&65534!=(65535&e))&&(!(e>=0&&e<=8)&&(11!==e&&(!(e>=14&&e<=31)&&(!(e>=127&&e<=159)&&!(e>1114111)))))))}function AI(e){if(e>65535){const t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}const MI=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,DI=new RegExp(MI.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),OI=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function PI(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(DI,function(e,t,n){return t||function(e,t){if(35===t.charCodeAt(0)&&OI.test(t)){const n="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10);return TI(n)?AI(n):e}const n=jI(e);return n!==e?n:e}(e,n)})}const _I=/[&<>"]/,II=/[&<>"]/g,LI={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function RI(e){return LI[e]}function zI(e){return _I.test(e)?e.replace(II,RI):e}const FI=/[.?*+^$[\]\\(){}|-]/g;function BI(e){switch(e){case 9:case 32:return!0}return!1}function $I(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function VI(e){return rI.test(e)||sI.test(e)}function qI(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function HI(e){return e=e.trim().replace(/\s+/g," "),""==="".toLowerCase()&&(e=e.replace(//g,"")),e.toLowerCase().toUpperCase()}const UI={mdurl:eI,ucmicro:oI},WI=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:EI,assign:SI,escapeHtml:zI,escapeRE:function(e){return e.replace(FI,"\\$&")},fromCodePoint:AI,has:function(e,t){return CI.call(e,t)},isMdAsciiPunct:qI,isPunctChar:VI,isSpace:BI,isString:NI,isValidEntityCode:TI,isWhiteSpace:$I,lib:UI,normalizeReference:HI,unescapeAll:PI,unescapeMd:function(e){return e.indexOf("\\")<0?e:e.replace(MI,"$1")}},Symbol.toStringTag,{value:"Module"}));const GI=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:function(e,t,n){let r,s=t;const i={ok:!1,pos:0,str:""};if(60===e.charCodeAt(s)){for(s++;s<n;){if(r=e.charCodeAt(s),10===r)return i;if(60===r)return i;if(62===r)return i.pos=s+1,i.str=PI(e.slice(t+1,s)),i.ok=!0,i;92===r&&s+1<n?s+=2:s++}return i}let o=0;for(;s<n&&(r=e.charCodeAt(s),32!==r)&&!(r<32||127===r);)if(92===r&&s+1<n){if(32===e.charCodeAt(s+1))break;s+=2}else{if(40===r&&(o++,o>32))return i;if(41===r){if(0===o)break;o--}s++}return t===s||0!==o||(i.str=PI(e.slice(t,s)),i.pos=s,i.ok=!0),i},parseLinkLabel:function(e,t,n){let r,s,i,o;const a=e.posMax,l=e.pos;for(e.pos=t+1,r=1;e.pos<a;){if(i=e.src.charCodeAt(e.pos),93===i&&(r--,0===r)){s=!0;break}if(o=e.pos,e.md.inline.skipToken(e),91===i)if(o===e.pos-1)r++;else if(n)return e.pos=l,-1}let c=-1;return s&&(c=e.pos),e.pos=l,c},parseLinkTitle:function(e,t,n,r){let s,i=t;const o={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(r)o.str=r.str,o.marker=r.marker;else{if(i>=n)return o;let r=e.charCodeAt(i);if(34!==r&&39!==r&&40!==r)return o;t++,i++,40===r&&(r=41),o.marker=r}for(;i<n;){if(s=e.charCodeAt(i),s===o.marker)return o.pos=i+1,o.str+=PI(e.slice(t,i)),o.ok=!0,o;if(40===s&&41===o.marker)return o;92===s&&i+1<n&&i++,i++}return o.can_continue=!0,o.str+=PI(e.slice(t,i)),o}},Symbol.toStringTag,{value:"Module"})),KI={};function JI(){this.rules=SI({},KI)}function YI(){this.__rules__=[],this.__cache__=null}function XI(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}function ZI(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}KI.code_inline=function(e,t,n,r,s){const i=e[t];return"<code"+s.renderAttrs(i)+">"+zI(i.content)+"</code>"},KI.code_block=function(e,t,n,r,s){const i=e[t];return"<pre"+s.renderAttrs(i)+"><code>"+zI(e[t].content)+"</code></pre>\n"},KI.fence=function(e,t,n,r,s){const i=e[t],o=i.info?PI(i.info).trim():"";let a,l="",c="";if(o){const e=o.split(/(\s+)/g);l=e[0],c=e.slice(2).join("")}if(a=n.highlight&&n.highlight(i.content,l,c)||zI(i.content),0===a.indexOf("<pre"))return a+"\n";if(o){const e=i.attrIndex("class"),t=i.attrs?i.attrs.slice():[];e<0?t.push(["class",n.langPrefix+l]):(t[e]=t[e].slice(),t[e][1]+=" "+n.langPrefix+l);const r={attrs:t};return`<pre><code${s.renderAttrs(r)}>${a}</code></pre>\n`}return`<pre><code${s.renderAttrs(i)}>${a}</code></pre>\n`},KI.image=function(e,t,n,r,s){const i=e[t];return i.attrs[i.attrIndex("alt")][1]=s.renderInlineAsText(i.children,n,r),s.renderToken(e,t,n)},KI.hardbreak=function(e,t,n){return n.xhtmlOut?"<br />\n":"<br>\n"},KI.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},KI.text=function(e,t){return zI(e[t].content)},KI.html_block=function(e,t){return e[t].content},KI.html_inline=function(e,t){return e[t].content},JI.prototype.renderAttrs=function(e){let t,n,r;if(!e.attrs)return"";for(r="",t=0,n=e.attrs.length;t<n;t++)r+=" "+zI(e.attrs[t][0])+'="'+zI(e.attrs[t][1])+'"';return r},JI.prototype.renderToken=function(e,t,n){const r=e[t];let s="";if(r.hidden)return"";r.block&&-1!==r.nesting&&t&&e[t-1].hidden&&(s+="\n"),s+=(-1===r.nesting?"</":"<")+r.tag,s+=this.renderAttrs(r),0===r.nesting&&n.xhtmlOut&&(s+=" /");let i=!1;if(r.block&&(i=!0,1===r.nesting&&t+1<e.length)){const n=e[t+1];("inline"===n.type||n.hidden||-1===n.nesting&&n.tag===r.tag)&&(i=!1)}return s+=i?">\n":">",s},JI.prototype.renderInline=function(e,t,n){let r="";const s=this.rules;for(let i=0,o=e.length;i<o;i++){const o=e[i].type;void 0!==s[o]?r+=s[o](e,i,t,n,this):r+=this.renderToken(e,i,t)}return r},JI.prototype.renderInlineAsText=function(e,t,n){let r="";for(let s=0,i=e.length;s<i;s++)switch(e[s].type){case"text":case"html_inline":case"html_block":r+=e[s].content;break;case"image":r+=this.renderInlineAsText(e[s].children,t,n);break;case"softbreak":case"hardbreak":r+="\n"}return r},JI.prototype.render=function(e,t,n){let r="";const s=this.rules;for(let i=0,o=e.length;i<o;i++){const o=e[i].type;"inline"===o?r+=this.renderInline(e[i].children,t,n):void 0!==s[o]?r+=s[o](e,i,t,n,this):r+=this.renderToken(e,i,t,n)}return r},YI.prototype.__find__=function(e){for(let t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},YI.prototype.__compile__=function(){const e=this,t=[""];e.__rules__.forEach(function(e){e.enabled&&e.alt.forEach(function(e){t.indexOf(e)<0&&t.push(e)})}),e.__cache__={},t.forEach(function(t){e.__cache__[t]=[],e.__rules__.forEach(function(n){n.enabled&&(t&&n.alt.indexOf(t)<0||e.__cache__[t].push(n.fn))})})},YI.prototype.at=function(e,t,n){const r=this.__find__(e),s=n||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=s.alt||[],this.__cache__=null},YI.prototype.before=function(e,t,n,r){const s=this.__find__(e),i=r||{};if(-1===s)throw new Error("Parser rule not found: "+e);this.__rules__.splice(s,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},YI.prototype.after=function(e,t,n,r){const s=this.__find__(e),i=r||{};if(-1===s)throw new Error("Parser rule not found: "+e);this.__rules__.splice(s+1,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},YI.prototype.push=function(e,t,n){const r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null},YI.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach(function(e){const r=this.__find__(e);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!0,n.push(e)},this),this.__cache__=null,n},YI.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(e){e.enabled=!1}),this.enable(e,t)},YI.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach(function(e){const r=this.__find__(e);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!1,n.push(e)},this),this.__cache__=null,n},YI.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},XI.prototype.attrIndex=function(e){if(!this.attrs)return-1;const t=this.attrs;for(let n=0,r=t.length;n<r;n++)if(t[n][0]===e)return n;return-1},XI.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},XI.prototype.attrSet=function(e,t){const n=this.attrIndex(e),r=[e,t];n<0?this.attrPush(r):this.attrs[n]=r},XI.prototype.attrGet=function(e){const t=this.attrIndex(e);let n=null;return t>=0&&(n=this.attrs[t][1]),n},XI.prototype.attrJoin=function(e,t){const n=this.attrIndex(e);n<0?this.attrPush([e,t]):this.attrs[n][1]=this.attrs[n][1]+" "+t},ZI.prototype.Token=XI;const QI=/\r\n?|\n/g,eL=/\0/g;function tL(e){return/^<a[>\s]/i.test(e)}function nL(e){return/^<\/a\s*>/i.test(e)}const rL=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,sL=/\((c|tm|r)\)/i,iL=/\((c|tm|r)\)/gi,oL={c:"",r:"",tm:""};function aL(e,t){return oL[t.toLowerCase()]}function lL(e){let t=0;for(let n=e.length-1;n>=0;n--){const r=e[n];"text"!==r.type||t||(r.content=r.content.replace(iL,aL)),"link_open"===r.type&&"auto"===r.info&&t--,"link_close"===r.type&&"auto"===r.info&&t++}}function cL(e){let t=0;for(let n=e.length-1;n>=0;n--){const r=e[n];"text"!==r.type||t||rL.test(r.content)&&(r.content=r.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1").replace(/(^|\s)--(?=\s|$)/gm,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1")),"link_open"===r.type&&"auto"===r.info&&t--,"link_close"===r.type&&"auto"===r.info&&t++}}const dL=/['"]/,uL=/['"]/g;function hL(e,t,n){return e.slice(0,t)+n+e.slice(t+1)}function pL(e,t){let n;const r=[];for(let s=0;s<e.length;s++){const i=e[s],o=e[s].level;for(n=r.length-1;n>=0&&!(r[n].level<=o);n--);if(r.length=n+1,"text"!==i.type)continue;let a=i.content,l=0,c=a.length;e:for(;l<c;){uL.lastIndex=l;const d=uL.exec(a);if(!d)break;let u=!0,h=!0;l=d.index+1;const p="'"===d[0];let m=32;if(d.index-1>=0)m=a.charCodeAt(d.index-1);else for(n=s-1;n>=0&&("softbreak"!==e[n].type&&"hardbreak"!==e[n].type);n--)if(e[n].content){m=e[n].content.charCodeAt(e[n].content.length-1);break}let f=32;if(l<c)f=a.charCodeAt(l);else for(n=s+1;n<e.length&&("softbreak"!==e[n].type&&"hardbreak"!==e[n].type);n++)if(e[n].content){f=e[n].content.charCodeAt(0);break}const g=qI(m)||VI(String.fromCharCode(m)),x=qI(f)||VI(String.fromCharCode(f)),y=$I(m),v=$I(f);if(v?u=!1:x&&(y||g||(u=!1)),y?h=!1:g&&(v||x||(h=!1)),34===f&&'"'===d[0]&&m>=48&&m<=57&&(h=u=!1),u&&h&&(u=g,h=x),u||h){if(h)for(n=r.length-1;n>=0;n--){let u=r[n];if(r[n].level<o)break;if(u.single===p&&r[n].level===o){let o,h;u=r[n],p?(o=t.md.options.quotes[2],h=t.md.options.quotes[3]):(o=t.md.options.quotes[0],h=t.md.options.quotes[1]),i.content=hL(i.content,d.index,h),e[u.token].content=hL(e[u.token].content,u.pos,o),l+=h.length-1,u.token===s&&(l+=o.length-1),a=i.content,c=a.length,r.length=n;continue e}}u?r.push({token:s,pos:d.index,single:p,level:o}):h&&p&&(i.content=hL(i.content,d.index,""))}else p&&(i.content=hL(i.content,d.index,""))}}}const mL=[["normalize",function(e){let t;t=e.src.replace(QI,"\n"),t=t.replace(eL,""),e.src=t}],["block",function(e){let t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}],["inline",function(e){const t=e.tokens;for(let n=0,r=t.length;n<r;n++){const r=t[n];"inline"===r.type&&e.md.inline.parse(r.content,e.md,e.env,r.children)}}],["linkify",function(e){const t=e.tokens;if(e.md.options.linkify)for(let n=0,r=t.length;n<r;n++){if("inline"!==t[n].type||!e.md.linkify.pretest(t[n].content))continue;let r=t[n].children,s=0;for(let i=r.length-1;i>=0;i--){const o=r[i];if("link_close"!==o.type){if("html_inline"===o.type&&(tL(o.content)&&s>0&&s--,nL(o.content)&&s++),!(s>0)&&"text"===o.type&&e.md.linkify.test(o.content)){const s=o.content;let a=e.md.linkify.match(s);const l=[];let c=o.level,d=0;a.length>0&&0===a[0].index&&i>0&&"text_special"===r[i-1].type&&(a=a.slice(1));for(let t=0;t<a.length;t++){const n=a[t].url,r=e.md.normalizeLink(n);if(!e.md.validateLink(r))continue;let i=a[t].text;i=a[t].schema?"mailto:"!==a[t].schema||/^mailto:/i.test(i)?e.md.normalizeLinkText(i):e.md.normalizeLinkText("mailto:"+i).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+i).replace(/^http:\/\//,"");const o=a[t].index;if(o>d){const t=new e.Token("text","",0);t.content=s.slice(d,o),t.level=c,l.push(t)}const u=new e.Token("link_open","a",1);u.attrs=[["href",r]],u.level=c++,u.markup="linkify",u.info="auto",l.push(u);const h=new e.Token("text","",0);h.content=i,h.level=c,l.push(h);const p=new e.Token("link_close","a",-1);p.level=--c,p.markup="linkify",p.info="auto",l.push(p),d=a[t].lastIndex}if(d<s.length){const t=new e.Token("text","",0);t.content=s.slice(d),t.level=c,l.push(t)}t[n].children=r=EI(r,i,l)}}else for(i--;r[i].level!==o.level&&"link_open"!==r[i].type;)i--}}}],["replacements",function(e){let t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&(sL.test(e.tokens[t].content)&&lL(e.tokens[t].children),rL.test(e.tokens[t].content)&&cL(e.tokens[t].children))}],["smartquotes",function(e){if(e.md.options.typographer)for(let t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&dL.test(e.tokens[t].content)&&pL(e.tokens[t].children,e)}],["text_join",function(e){let t,n;const r=e.tokens,s=r.length;for(let i=0;i<s;i++){if("inline"!==r[i].type)continue;const e=r[i].children,s=e.length;for(t=0;t<s;t++)"text_special"===e[t].type&&(e[t].type="text");for(t=n=0;t<s;t++)"text"===e[t].type&&t+1<s&&"text"===e[t+1].type?e[t+1].content=e[t].content+e[t+1].content:(t!==n&&(e[n]=e[t]),n++);t!==n&&(e.length=n)}}]];function fL(){this.ruler=new YI;for(let e=0;e<mL.length;e++)this.ruler.push(mL[e][0],mL[e][1])}function gL(e,t,n,r){this.src=e,this.md=t,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const s=this.src;for(let i=0,o=0,a=0,l=0,c=s.length,d=!1;o<c;o++){const e=s.charCodeAt(o);if(!d){if(BI(e)){a++,9===e?l+=4-l%4:l++;continue}d=!0}10!==e&&o!==c-1||(10!==e&&o++,this.bMarks.push(i),this.eMarks.push(o),this.tShift.push(a),this.sCount.push(l),this.bsCount.push(0),d=!1,a=0,l=0,i=o+1)}this.bMarks.push(s.length),this.eMarks.push(s.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}fL.prototype.process=function(e){const t=this.ruler.getRules("");for(let n=0,r=t.length;n<r;n++)t[n](e)},fL.prototype.State=ZI,gL.prototype.push=function(e,t,n){const r=new XI(e,t,n);return r.block=!0,n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r},gL.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},gL.prototype.skipEmptyLines=function(e){for(let t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},gL.prototype.skipSpaces=function(e){for(let t=this.src.length;e<t;e++){if(!BI(this.src.charCodeAt(e)))break}return e},gL.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;for(;e>t;)if(!BI(this.src.charCodeAt(--e)))return e+1;return e},gL.prototype.skipChars=function(e,t){for(let n=this.src.length;e<n&&this.src.charCodeAt(e)===t;e++);return e},gL.prototype.skipCharsBack=function(e,t,n){if(e<=n)return e;for(;e>n;)if(t!==this.src.charCodeAt(--e))return e+1;return e},gL.prototype.getLines=function(e,t,n,r){if(e>=t)return"";const s=new Array(t-e);for(let i=0,o=e;o<t;o++,i++){let e=0;const a=this.bMarks[o];let l,c=a;for(l=o+1<t||r?this.eMarks[o]+1:this.eMarks[o];c<l&&e<n;){const t=this.src.charCodeAt(c);if(BI(t))9===t?e+=4-(e+this.bsCount[o])%4:e++;else{if(!(c-a<this.tShift[o]))break;e++}c++}s[i]=e>n?new Array(e-n+1).join(" ")+this.src.slice(c,l):this.src.slice(c,l)}return s.join("")},gL.prototype.Token=XI;function xL(e,t){const n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];return e.src.slice(n,r)}function yL(e){const t=[],n=e.length;let r=0,s=e.charCodeAt(r),i=!1,o=0,a="";for(;r<n;)124===s&&(i?(a+=e.substring(o,r-1),o=r):(t.push(a+e.substring(o,r)),a="",o=r+1)),i=92===s,r++,s=e.charCodeAt(r);return t.push(a+e.substring(o)),t}function vL(e,t){const n=e.eMarks[t];let r=e.bMarks[t]+e.tShift[t];const s=e.src.charCodeAt(r++);if(42!==s&&45!==s&&43!==s)return-1;if(r<n){if(!BI(e.src.charCodeAt(r)))return-1}return r}function bL(e,t){const n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];let s=n;if(s+1>=r)return-1;let i=e.src.charCodeAt(s++);if(i<48||i>57)return-1;for(;;){if(s>=r)return-1;if(i=e.src.charCodeAt(s++),!(i>=48&&i<=57)){if(41===i||46===i)break;return-1}if(s-n>=10)return-1}return s<r&&(i=e.src.charCodeAt(s),!BI(i))?-1:s}const wL="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",kL="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",jL=new RegExp("^(?:"+wL+"|"+kL+"|\x3c!---?>|\x3c!--(?:[^-]|-[^-]|--[^>])*--\x3e|<[?][\\s\\S]*?[?]>|<![A-Za-z][^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),NL=new RegExp("^(?:"+wL+"|"+kL+")"),CL=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"].join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(NL.source+"\\s*$"),/^$/,!1]];const SL=[["table",function(e,t,n,r){if(t+2>n)return!1;let s=t+1;if(e.sCount[s]<e.blkIndent)return!1;if(e.sCount[s]-e.blkIndent>=4)return!1;let i=e.bMarks[s]+e.tShift[s];if(i>=e.eMarks[s])return!1;const o=e.src.charCodeAt(i++);if(124!==o&&45!==o&&58!==o)return!1;if(i>=e.eMarks[s])return!1;const a=e.src.charCodeAt(i++);if(124!==a&&45!==a&&58!==a&&!BI(a))return!1;if(45===o&&BI(a))return!1;for(;i<e.eMarks[s];){const t=e.src.charCodeAt(i);if(124!==t&&45!==t&&58!==t&&!BI(t))return!1;i++}let l=xL(e,t+1),c=l.split("|");const d=[];for(let x=0;x<c.length;x++){const e=c[x].trim();if(!e){if(0===x||x===c.length-1)continue;return!1}if(!/^:?-+:?$/.test(e))return!1;58===e.charCodeAt(e.length-1)?d.push(58===e.charCodeAt(0)?"center":"right"):58===e.charCodeAt(0)?d.push("left"):d.push("")}if(l=xL(e,t).trim(),-1===l.indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;c=yL(l),c.length&&""===c[0]&&c.shift(),c.length&&""===c[c.length-1]&&c.pop();const u=c.length;if(0===u||u!==d.length)return!1;if(r)return!0;const h=e.parentType;e.parentType="table";const p=e.md.block.ruler.getRules("blockquote"),m=[t,0];e.push("table_open","table",1).map=m,e.push("thead_open","thead",1).map=[t,t+1],e.push("tr_open","tr",1).map=[t,t+1];for(let x=0;x<c.length;x++){const t=e.push("th_open","th",1);d[x]&&(t.attrs=[["style","text-align:"+d[x]]]);const n=e.push("inline","",0);n.content=c[x].trim(),n.children=[],e.push("th_close","th",-1)}let f;e.push("tr_close","tr",-1),e.push("thead_close","thead",-1);let g=0;for(s=t+2;s<n&&!(e.sCount[s]<e.blkIndent);s++){let r=!1;for(let t=0,i=p.length;t<i;t++)if(p[t](e,s,n,!0)){r=!0;break}if(r)break;if(l=xL(e,s).trim(),!l)break;if(e.sCount[s]-e.blkIndent>=4)break;if(c=yL(l),c.length&&""===c[0]&&c.shift(),c.length&&""===c[c.length-1]&&c.pop(),g+=u-c.length,g>65536)break;if(s===t+2){e.push("tbody_open","tbody",1).map=f=[t+2,0]}e.push("tr_open","tr",1).map=[s,s+1];for(let t=0;t<u;t++){const n=e.push("td_open","td",1);d[t]&&(n.attrs=[["style","text-align:"+d[t]]]);const r=e.push("inline","",0);r.content=c[t]?c[t].trim():"",r.children=[],e.push("td_close","td",-1)}e.push("tr_close","tr",-1)}return f&&(e.push("tbody_close","tbody",-1),f[1]=s),e.push("table_close","table",-1),m[1]=s,e.parentType=h,e.line=s,!0},["paragraph","reference"]],["code",function(e,t,n){if(e.sCount[t]-e.blkIndent<4)return!1;let r=t+1,s=r;for(;r<n;)if(e.isEmpty(r))r++;else{if(!(e.sCount[r]-e.blkIndent>=4))break;r++,s=r}e.line=s;const i=e.push("code_block","code",0);return i.content=e.getLines(t,s,4+e.blkIndent,!1)+"\n",i.map=[t,e.line],!0}],["fence",function(e,t,n,r){let s=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(s+3>i)return!1;const o=e.src.charCodeAt(s);if(126!==o&&96!==o)return!1;let a=s;s=e.skipChars(s,o);let l=s-a;if(l<3)return!1;const c=e.src.slice(a,s),d=e.src.slice(s,i);if(96===o&&d.indexOf(String.fromCharCode(o))>=0)return!1;if(r)return!0;let u=t,h=!1;for(;(u++,!(u>=n))&&(s=a=e.bMarks[u]+e.tShift[u],i=e.eMarks[u],!(s<i&&e.sCount[u]<e.blkIndent));)if(e.src.charCodeAt(s)===o&&!(e.sCount[u]-e.blkIndent>=4||(s=e.skipChars(s,o),s-a<l||(s=e.skipSpaces(s),s<i)))){h=!0;break}l=e.sCount[t],e.line=u+(h?1:0);const p=e.push("fence","code",0);return p.info=d,p.content=e.getLines(t+1,u,l,!0),p.markup=c,p.map=[t,e.line],!0},["paragraph","reference","blockquote","list"]],["blockquote",function(e,t,n,r){let s=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];const o=e.lineMax;if(e.sCount[t]-e.blkIndent>=4)return!1;if(62!==e.src.charCodeAt(s))return!1;if(r)return!0;const a=[],l=[],c=[],d=[],u=e.md.block.ruler.getRules("blockquote"),h=e.parentType;e.parentType="blockquote";let p,m=!1;for(p=t;p<n;p++){const t=e.sCount[p]<e.blkIndent;if(s=e.bMarks[p]+e.tShift[p],i=e.eMarks[p],s>=i)break;if(62===e.src.charCodeAt(s++)&&!t){let t,n,r=e.sCount[p]+1;32===e.src.charCodeAt(s)?(s++,r++,n=!1,t=!0):9===e.src.charCodeAt(s)?(t=!0,(e.bsCount[p]+r)%4==3?(s++,r++,n=!1):n=!0):t=!1;let o=r;for(a.push(e.bMarks[p]),e.bMarks[p]=s;s<i;){const t=e.src.charCodeAt(s);if(!BI(t))break;9===t?o+=4-(o+e.bsCount[p]+(n?1:0))%4:o++,s++}m=s>=i,l.push(e.bsCount[p]),e.bsCount[p]=e.sCount[p]+1+(t?1:0),c.push(e.sCount[p]),e.sCount[p]=o-r,d.push(e.tShift[p]),e.tShift[p]=s-e.bMarks[p];continue}if(m)break;let r=!1;for(let s=0,i=u.length;s<i;s++)if(u[s](e,p,n,!0)){r=!0;break}if(r){e.lineMax=p,0!==e.blkIndent&&(a.push(e.bMarks[p]),l.push(e.bsCount[p]),d.push(e.tShift[p]),c.push(e.sCount[p]),e.sCount[p]-=e.blkIndent);break}a.push(e.bMarks[p]),l.push(e.bsCount[p]),d.push(e.tShift[p]),c.push(e.sCount[p]),e.sCount[p]=-1}const f=e.blkIndent;e.blkIndent=0;const g=e.push("blockquote_open","blockquote",1);g.markup=">";const x=[t,0];g.map=x,e.md.block.tokenize(e,t,p),e.push("blockquote_close","blockquote",-1).markup=">",e.lineMax=o,e.parentType=h,x[1]=e.line;for(let y=0;y<d.length;y++)e.bMarks[y+t]=a[y],e.tShift[y+t]=d[y],e.sCount[y+t]=c[y],e.bsCount[y+t]=l[y];return e.blkIndent=f,!0},["paragraph","reference","blockquote","list"]],["hr",function(e,t,n,r){const s=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let i=e.bMarks[t]+e.tShift[t];const o=e.src.charCodeAt(i++);if(42!==o&&45!==o&&95!==o)return!1;let a=1;for(;i<s;){const t=e.src.charCodeAt(i++);if(t!==o&&!BI(t))return!1;t===o&&a++}if(a<3)return!1;if(r)return!0;e.line=t+1;const l=e.push("hr","hr",0);return l.map=[t,e.line],l.markup=Array(a+1).join(String.fromCharCode(o)),!0},["paragraph","reference","blockquote","list"]],["list",function(e,t,n,r){let s,i,o,a,l=t,c=!0;if(e.sCount[l]-e.blkIndent>=4)return!1;if(e.listIndent>=0&&e.sCount[l]-e.listIndent>=4&&e.sCount[l]<e.blkIndent)return!1;let d,u,h,p=!1;if(r&&"paragraph"===e.parentType&&e.sCount[l]>=e.blkIndent&&(p=!0),(h=bL(e,l))>=0){if(d=!0,o=e.bMarks[l]+e.tShift[l],u=Number(e.src.slice(o,h-1)),p&&1!==u)return!1}else{if(!((h=vL(e,l))>=0))return!1;d=!1}if(p&&e.skipSpaces(h)>=e.eMarks[l])return!1;if(r)return!0;const m=e.src.charCodeAt(h-1),f=e.tokens.length;d?(a=e.push("ordered_list_open","ol",1),1!==u&&(a.attrs=[["start",u]])):a=e.push("bullet_list_open","ul",1);const g=[l,0];a.map=g,a.markup=String.fromCharCode(m);let x=!1;const y=e.md.block.ruler.getRules("list"),v=e.parentType;for(e.parentType="list";l<n;){i=h,s=e.eMarks[l];const t=e.sCount[l]+h-(e.bMarks[l]+e.tShift[l]);let r=t;for(;i<s;){const t=e.src.charCodeAt(i);if(9===t)r+=4-(r+e.bsCount[l])%4;else{if(32!==t)break;r++}i++}const u=i;let p;p=u>=s?1:r-t,p>4&&(p=1);const f=t+p;a=e.push("list_item_open","li",1),a.markup=String.fromCharCode(m);const g=[l,0];a.map=g,d&&(a.info=e.src.slice(o,h-1));const v=e.tight,b=e.tShift[l],w=e.sCount[l],k=e.listIndent;if(e.listIndent=e.blkIndent,e.blkIndent=f,e.tight=!0,e.tShift[l]=u-e.bMarks[l],e.sCount[l]=r,u>=s&&e.isEmpty(l+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,l,n,!0),e.tight&&!x||(c=!1),x=e.line-l>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=k,e.tShift[l]=b,e.sCount[l]=w,e.tight=v,a=e.push("list_item_close","li",-1),a.markup=String.fromCharCode(m),l=e.line,g[1]=l,l>=n)break;if(e.sCount[l]<e.blkIndent)break;if(e.sCount[l]-e.blkIndent>=4)break;let j=!1;for(let s=0,i=y.length;s<i;s++)if(y[s](e,l,n,!0)){j=!0;break}if(j)break;if(d){if(h=bL(e,l),h<0)break;o=e.bMarks[l]+e.tShift[l]}else if(h=vL(e,l),h<0)break;if(m!==e.src.charCodeAt(h-1))break}return a=d?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1),a.markup=String.fromCharCode(m),g[1]=l,e.line=l,e.parentType=v,c&&function(e,t){const n=e.level+2;for(let r=t+2,s=e.tokens.length-2;r<s;r++)e.tokens[r].level===n&&"paragraph_open"===e.tokens[r].type&&(e.tokens[r+2].hidden=!0,e.tokens[r].hidden=!0,r+=2)}(e,f),!0},["paragraph","reference","blockquote"]],["reference",function(e,t,n,r){let s=e.bMarks[t]+e.tShift[t],i=e.eMarks[t],o=t+1;if(e.sCount[t]-e.blkIndent>=4)return!1;if(91!==e.src.charCodeAt(s))return!1;function a(t){const n=e.lineMax;if(t>=n||e.isEmpty(t))return null;let r=!1;if(e.sCount[t]-e.blkIndent>3&&(r=!0),e.sCount[t]<0&&(r=!0),!r){const r=e.md.block.ruler.getRules("reference"),s=e.parentType;e.parentType="reference";let i=!1;for(let o=0,a=r.length;o<a;o++)if(r[o](e,t,n,!0)){i=!0;break}if(e.parentType=s,i)return null}const s=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];return e.src.slice(s,i+1)}let l=e.src.slice(s,i+1);i=l.length;let c=-1;for(s=1;s<i;s++){const e=l.charCodeAt(s);if(91===e)return!1;if(93===e){c=s;break}if(10===e){const e=a(o);null!==e&&(l+=e,i=l.length,o++)}else if(92===e&&(s++,s<i&&10===l.charCodeAt(s))){const e=a(o);null!==e&&(l+=e,i=l.length,o++)}}if(c<0||58!==l.charCodeAt(c+1))return!1;for(s=c+2;s<i;s++){const e=l.charCodeAt(s);if(10===e){const e=a(o);null!==e&&(l+=e,i=l.length,o++)}else if(!BI(e))break}const d=e.md.helpers.parseLinkDestination(l,s,i);if(!d.ok)return!1;const u=e.md.normalizeLink(d.str);if(!e.md.validateLink(u))return!1;s=d.pos;const h=s,p=o,m=s;for(;s<i;s++){const e=l.charCodeAt(s);if(10===e){const e=a(o);null!==e&&(l+=e,i=l.length,o++)}else if(!BI(e))break}let f,g=e.md.helpers.parseLinkTitle(l,s,i);for(;g.can_continue;){const t=a(o);if(null===t)break;l+=t,s=i,i=l.length,o++,g=e.md.helpers.parseLinkTitle(l,s,i,g)}for(s<i&&m!==s&&g.ok?(f=g.str,s=g.pos):(f="",s=h,o=p);s<i;){if(!BI(l.charCodeAt(s)))break;s++}if(s<i&&10!==l.charCodeAt(s)&&f)for(f="",s=h,o=p;s<i;){if(!BI(l.charCodeAt(s)))break;s++}if(s<i&&10!==l.charCodeAt(s))return!1;const x=HI(l.slice(1,c));return!!x&&(r||(void 0===e.env.references&&(e.env.references={}),void 0===e.env.references[x]&&(e.env.references[x]={title:f,href:u}),e.line=o),!0)}],["html_block",function(e,t,n,r){let s=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(s))return!1;let o=e.src.slice(s,i),a=0;for(;a<CL.length&&!CL[a][0].test(o);a++);if(a===CL.length)return!1;if(r)return CL[a][2];let l=t+1;if(!CL[a][1].test(o))for(;l<n&&!(e.sCount[l]<e.blkIndent);l++)if(s=e.bMarks[l]+e.tShift[l],i=e.eMarks[l],o=e.src.slice(s,i),CL[a][1].test(o)){0!==o.length&&l++;break}e.line=l;const c=e.push("html_block","",0);return c.map=[t,l],c.content=e.getLines(t,l,e.blkIndent,!0),!0},["paragraph","reference","blockquote"]],["heading",function(e,t,n,r){let s=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let o=e.src.charCodeAt(s);if(35!==o||s>=i)return!1;let a=1;for(o=e.src.charCodeAt(++s);35===o&&s<i&&a<=6;)a++,o=e.src.charCodeAt(++s);if(a>6||s<i&&!BI(o))return!1;if(r)return!0;i=e.skipSpacesBack(i,s);const l=e.skipCharsBack(i,35,s);l>s&&BI(e.src.charCodeAt(l-1))&&(i=l),e.line=t+1;const c=e.push("heading_open","h"+String(a),1);c.markup="########".slice(0,a),c.map=[t,e.line];const d=e.push("inline","",0);return d.content=e.src.slice(s,i).trim(),d.map=[t,e.line],d.children=[],e.push("heading_close","h"+String(a),-1).markup="########".slice(0,a),!0},["paragraph","reference","blockquote"]],["lheading",function(e,t,n){const r=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;const s=e.parentType;e.parentType="paragraph";let i,o=0,a=t+1;for(;a<n&&!e.isEmpty(a);a++){if(e.sCount[a]-e.blkIndent>3)continue;if(e.sCount[a]>=e.blkIndent){let t=e.bMarks[a]+e.tShift[a];const n=e.eMarks[a];if(t<n&&(i=e.src.charCodeAt(t),(45===i||61===i)&&(t=e.skipChars(t,i),t=e.skipSpaces(t),t>=n))){o=61===i?1:2;break}}if(e.sCount[a]<0)continue;let t=!1;for(let s=0,i=r.length;s<i;s++)if(r[s](e,a,n,!0)){t=!0;break}if(t)break}if(!o)return!1;const l=e.getLines(t,a,e.blkIndent,!1).trim();e.line=a+1;const c=e.push("heading_open","h"+String(o),1);c.markup=String.fromCharCode(i),c.map=[t,e.line];const d=e.push("inline","",0);return d.content=l,d.map=[t,e.line-1],d.children=[],e.push("heading_close","h"+String(o),-1).markup=String.fromCharCode(i),e.parentType=s,!0}],["paragraph",function(e,t,n){const r=e.md.block.ruler.getRules("paragraph"),s=e.parentType;let i=t+1;for(e.parentType="paragraph";i<n&&!e.isEmpty(i);i++){if(e.sCount[i]-e.blkIndent>3)continue;if(e.sCount[i]<0)continue;let t=!1;for(let s=0,o=r.length;s<o;s++)if(r[s](e,i,n,!0)){t=!0;break}if(t)break}const o=e.getLines(t,i,e.blkIndent,!1).trim();e.line=i,e.push("paragraph_open","p",1).map=[t,e.line];const a=e.push("inline","",0);return a.content=o,a.map=[t,e.line],a.children=[],e.push("paragraph_close","p",-1),e.parentType=s,!0}]];function EL(){this.ruler=new YI;for(let e=0;e<SL.length;e++)this.ruler.push(SL[e][0],SL[e][1],{alt:(SL[e][2]||[]).slice()})}function TL(e,t,n,r){this.src=e,this.env=n,this.md=t,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}function AL(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}EL.prototype.tokenize=function(e,t,n){const r=this.ruler.getRules(""),s=r.length,i=e.md.options.maxNesting;let o=t,a=!1;for(;o<n&&(e.line=o=e.skipEmptyLines(o),!(o>=n))&&!(e.sCount[o]<e.blkIndent);){if(e.level>=i){e.line=n;break}const t=e.line;let l=!1;for(let i=0;i<s;i++)if(l=r[i](e,o,n,!1),l){if(t>=e.line)throw new Error("block rule didn't increment state.line");break}if(!l)throw new Error("none of the block rules matched");e.tight=!a,e.isEmpty(e.line-1)&&(a=!0),o=e.line,o<n&&e.isEmpty(o)&&(a=!0,o++,e.line=o)}},EL.prototype.parse=function(e,t,n,r){if(!e)return;const s=new this.State(e,t,n,r);this.tokenize(s,s.line,s.lineMax)},EL.prototype.State=gL,TL.prototype.pushPending=function(){const e=new XI("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},TL.prototype.push=function(e,t,n){this.pending&&this.pushPending();const r=new XI(e,t,n);let s=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],s={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(s),r},TL.prototype.scanDelims=function(e,t){const n=this.posMax,r=this.src.charCodeAt(e),s=e>0?this.src.charCodeAt(e-1):32;let i=e;for(;i<n&&this.src.charCodeAt(i)===r;)i++;const o=i-e,a=i<n?this.src.charCodeAt(i):32,l=qI(s)||VI(String.fromCharCode(s)),c=qI(a)||VI(String.fromCharCode(a)),d=$I(s),u=$I(a),h=!u&&(!c||d||l),p=!d&&(!l||u||c);return{can_open:h&&(t||!p||l),can_close:p&&(t||!h||c),length:o}},TL.prototype.Token=XI;const ML=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;const DL=[];for(let os=0;os<256;os++)DL.push(0);function OL(e,t){let n;const r=[],s=t.length;for(let i=0;i<s;i++){const s=t[i];if(126!==s.marker)continue;if(-1===s.end)continue;const o=t[s.end];n=e.tokens[s.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=e.tokens[o.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="","text"===e.tokens[o.token-1].type&&"~"===e.tokens[o.token-1].content&&r.push(o.token-1)}for(;r.length;){const t=r.pop();let s=t+1;for(;s<e.tokens.length&&"s_close"===e.tokens[s].type;)s++;s--,t!==s&&(n=e.tokens[s],e.tokens[s]=e.tokens[t],e.tokens[t]=n)}}"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){DL[e.charCodeAt(0)]=1});const PL={tokenize:function(e,t){const n=e.pos,r=e.src.charCodeAt(n);if(t)return!1;if(126!==r)return!1;const s=e.scanDelims(e.pos,!0);let i=s.length;const o=String.fromCharCode(r);if(i<2)return!1;let a;i%2&&(a=e.push("text","",0),a.content=o,i--);for(let l=0;l<i;l+=2)a=e.push("text","",0),a.content=o+o,e.delimiters.push({marker:r,length:0,token:e.tokens.length-1,end:-1,open:s.can_open,close:s.can_close});return e.pos+=s.length,!0},postProcess:function(e){const t=e.tokens_meta,n=e.tokens_meta.length;OL(e,e.delimiters);for(let r=0;r<n;r++)t[r]&&t[r].delimiters&&OL(e,t[r].delimiters)}};function _L(e,t){for(let n=t.length-1;n>=0;n--){const r=t[n];if(95!==r.marker&&42!==r.marker)continue;if(-1===r.end)continue;const s=t[r.end],i=n>0&&t[n-1].end===r.end+1&&t[n-1].marker===r.marker&&t[n-1].token===r.token-1&&t[r.end+1].token===s.token+1,o=String.fromCharCode(r.marker),a=e.tokens[r.token];a.type=i?"strong_open":"em_open",a.tag=i?"strong":"em",a.nesting=1,a.markup=i?o+o:o,a.content="";const l=e.tokens[s.token];l.type=i?"strong_close":"em_close",l.tag=i?"strong":"em",l.nesting=-1,l.markup=i?o+o:o,l.content="",i&&(e.tokens[t[n-1].token].content="",e.tokens[t[r.end+1].token].content="",n--)}}const IL={tokenize:function(e,t){const n=e.pos,r=e.src.charCodeAt(n);if(t)return!1;if(95!==r&&42!==r)return!1;const s=e.scanDelims(e.pos,42===r);for(let i=0;i<s.length;i++){e.push("text","",0).content=String.fromCharCode(r),e.delimiters.push({marker:r,length:s.length,token:e.tokens.length-1,end:-1,open:s.can_open,close:s.can_close})}return e.pos+=s.length,!0},postProcess:function(e){const t=e.tokens_meta,n=e.tokens_meta.length;_L(e,e.delimiters);for(let r=0;r<n;r++)t[r]&&t[r].delimiters&&_L(e,t[r].delimiters)}};const LL=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,RL=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;const zL=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,FL=/^&([a-z][a-z0-9]{1,31});/i;function BL(e){const t={},n=e.length;if(!n)return;let r=0,s=-2;const i=[];for(let o=0;o<n;o++){const n=e[o];if(i.push(0),e[r].marker===n.marker&&s===n.token-1||(r=o),s=n.token,n.length=n.length||0,!n.close)continue;t.hasOwnProperty(n.marker)||(t[n.marker]=[-1,-1,-1,-1,-1,-1]);const a=t[n.marker][(n.open?3:0)+n.length%3];let l=r-i[r]-1,c=l;for(;l>a;l-=i[l]+1){const t=e[l];if(t.marker===n.marker&&(t.open&&t.end<0)){let r=!1;if((t.close||n.open)&&(t.length+n.length)%3==0&&(t.length%3==0&&n.length%3==0||(r=!0)),!r){const r=l>0&&!e[l-1].open?i[l-1]+1:0;i[o]=o-l+r,i[l]=r,n.open=!1,t.end=o,t.close=!1,c=-1,s=-2;break}}}-1!==c&&(t[n.marker][(n.open?3:0)+(n.length||0)%3]=c)}}const $L=[["text",function(e,t){let n=e.pos;for(;n<e.posMax&&!AL(e.src.charCodeAt(n));)n++;return n!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}],["linkify",function(e,t){if(!e.md.options.linkify)return!1;if(e.linkLevel>0)return!1;const n=e.pos;if(n+3>e.posMax)return!1;if(58!==e.src.charCodeAt(n))return!1;if(47!==e.src.charCodeAt(n+1))return!1;if(47!==e.src.charCodeAt(n+2))return!1;const r=e.pending.match(ML);if(!r)return!1;const s=r[1],i=e.md.linkify.matchAtStart(e.src.slice(n-s.length));if(!i)return!1;let o=i.url;if(o.length<=s.length)return!1;let a=o.length;for(;a>0&&42===o.charCodeAt(a-1);)a--;a!==o.length&&(o=o.slice(0,a));const l=e.md.normalizeLink(o);if(!e.md.validateLink(l))return!1;if(!t){e.pending=e.pending.slice(0,-s.length);const t=e.push("link_open","a",1);t.attrs=[["href",l]],t.markup="linkify",t.info="auto";e.push("text","",0).content=e.md.normalizeLinkText(o);const n=e.push("link_close","a",-1);n.markup="linkify",n.info="auto"}return e.pos+=o.length-s.length,!0}],["newline",function(e,t){let n=e.pos;if(10!==e.src.charCodeAt(n))return!1;const r=e.pending.length-1,s=e.posMax;if(!t)if(r>=0&&32===e.pending.charCodeAt(r))if(r>=1&&32===e.pending.charCodeAt(r-1)){let t=r-1;for(;t>=1&&32===e.pending.charCodeAt(t-1);)t--;e.pending=e.pending.slice(0,t),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(n++;n<s&&BI(e.src.charCodeAt(n));)n++;return e.pos=n,!0}],["escape",function(e,t){let n=e.pos;const r=e.posMax;if(92!==e.src.charCodeAt(n))return!1;if(n++,n>=r)return!1;let s=e.src.charCodeAt(n);if(10===s){for(t||e.push("hardbreak","br",0),n++;n<r&&(s=e.src.charCodeAt(n),BI(s));)n++;return e.pos=n,!0}let i=e.src[n];if(s>=55296&&s<=56319&&n+1<r){const t=e.src.charCodeAt(n+1);t>=56320&&t<=57343&&(i+=e.src[n+1],n++)}const o="\\"+i;if(!t){const t=e.push("text_special","",0);s<256&&0!==DL[s]?t.content=i:t.content=o,t.markup=o,t.info="escape"}return e.pos=n+1,!0}],["backticks",function(e,t){let n=e.pos;if(96!==e.src.charCodeAt(n))return!1;const r=n;n++;const s=e.posMax;for(;n<s&&96===e.src.charCodeAt(n);)n++;const i=e.src.slice(r,n),o=i.length;if(e.backticksScanned&&(e.backticks[o]||0)<=r)return t||(e.pending+=i),e.pos+=o,!0;let a,l=n;for(;-1!==(a=e.src.indexOf("`",l));){for(l=a+1;l<s&&96===e.src.charCodeAt(l);)l++;const r=l-a;if(r===o){if(!t){const t=e.push("code_inline","code",0);t.markup=i,t.content=e.src.slice(n,a).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return e.pos=l,!0}e.backticks[r]=a}return e.backticksScanned=!0,t||(e.pending+=i),e.pos+=o,!0}],["strikethrough",PL.tokenize],["emphasis",IL.tokenize],["link",function(e,t){let n,r,s,i,o="",a="",l=e.pos,c=!0;if(91!==e.src.charCodeAt(e.pos))return!1;const d=e.pos,u=e.posMax,h=e.pos+1,p=e.md.helpers.parseLinkLabel(e,e.pos,!0);if(p<0)return!1;let m=p+1;if(m<u&&40===e.src.charCodeAt(m)){for(c=!1,m++;m<u&&(n=e.src.charCodeAt(m),BI(n)||10===n);m++);if(m>=u)return!1;if(l=m,s=e.md.helpers.parseLinkDestination(e.src,m,e.posMax),s.ok){for(o=e.md.normalizeLink(s.str),e.md.validateLink(o)?m=s.pos:o="",l=m;m<u&&(n=e.src.charCodeAt(m),BI(n)||10===n);m++);if(s=e.md.helpers.parseLinkTitle(e.src,m,e.posMax),m<u&&l!==m&&s.ok)for(a=s.str,m=s.pos;m<u&&(n=e.src.charCodeAt(m),BI(n)||10===n);m++);}(m>=u||41!==e.src.charCodeAt(m))&&(c=!0),m++}if(c){if(void 0===e.env.references)return!1;if(m<u&&91===e.src.charCodeAt(m)?(l=m+1,m=e.md.helpers.parseLinkLabel(e,m),m>=0?r=e.src.slice(l,m++):m=p+1):m=p+1,r||(r=e.src.slice(h,p)),i=e.env.references[HI(r)],!i)return e.pos=d,!1;o=i.href,a=i.title}if(!t){e.pos=h,e.posMax=p;const t=[["href",o]];e.push("link_open","a",1).attrs=t,a&&t.push(["title",a]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)}return e.pos=m,e.posMax=u,!0}],["image",function(e,t){let n,r,s,i,o,a,l,c,d="";const u=e.pos,h=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;const p=e.pos+2,m=e.md.helpers.parseLinkLabel(e,e.pos+1,!1);if(m<0)return!1;if(i=m+1,i<h&&40===e.src.charCodeAt(i)){for(i++;i<h&&(n=e.src.charCodeAt(i),BI(n)||10===n);i++);if(i>=h)return!1;for(c=i,a=e.md.helpers.parseLinkDestination(e.src,i,e.posMax),a.ok&&(d=e.md.normalizeLink(a.str),e.md.validateLink(d)?i=a.pos:d=""),c=i;i<h&&(n=e.src.charCodeAt(i),BI(n)||10===n);i++);if(a=e.md.helpers.parseLinkTitle(e.src,i,e.posMax),i<h&&c!==i&&a.ok)for(l=a.str,i=a.pos;i<h&&(n=e.src.charCodeAt(i),BI(n)||10===n);i++);else l="";if(i>=h||41!==e.src.charCodeAt(i))return e.pos=u,!1;i++}else{if(void 0===e.env.references)return!1;if(i<h&&91===e.src.charCodeAt(i)?(c=i+1,i=e.md.helpers.parseLinkLabel(e,i),i>=0?s=e.src.slice(c,i++):i=m+1):i=m+1,s||(s=e.src.slice(p,m)),o=e.env.references[HI(s)],!o)return e.pos=u,!1;d=o.href,l=o.title}if(!t){r=e.src.slice(p,m);const t=[];e.md.inline.parse(r,e.md,e.env,t);const n=e.push("image","img",0),s=[["src",d],["alt",""]];n.attrs=s,n.children=t,n.content=r,l&&s.push(["title",l])}return e.pos=i,e.posMax=h,!0}],["autolink",function(e,t){let n=e.pos;if(60!==e.src.charCodeAt(n))return!1;const r=e.pos,s=e.posMax;for(;;){if(++n>=s)return!1;const t=e.src.charCodeAt(n);if(60===t)return!1;if(62===t)break}const i=e.src.slice(r+1,n);if(RL.test(i)){const n=e.md.normalizeLink(i);if(!e.md.validateLink(n))return!1;if(!t){const t=e.push("link_open","a",1);t.attrs=[["href",n]],t.markup="autolink",t.info="auto";e.push("text","",0).content=e.md.normalizeLinkText(i);const r=e.push("link_close","a",-1);r.markup="autolink",r.info="auto"}return e.pos+=i.length+2,!0}if(LL.test(i)){const n=e.md.normalizeLink("mailto:"+i);if(!e.md.validateLink(n))return!1;if(!t){const t=e.push("link_open","a",1);t.attrs=[["href",n]],t.markup="autolink",t.info="auto";e.push("text","",0).content=e.md.normalizeLinkText(i);const r=e.push("link_close","a",-1);r.markup="autolink",r.info="auto"}return e.pos+=i.length+2,!0}return!1}],["html_inline",function(e,t){if(!e.md.options.html)return!1;const n=e.posMax,r=e.pos;if(60!==e.src.charCodeAt(r)||r+2>=n)return!1;const s=e.src.charCodeAt(r+1);if(33!==s&&63!==s&&47!==s&&!function(e){const t=32|e;return t>=97&&t<=122}(s))return!1;const i=e.src.slice(r).match(jL);if(!i)return!1;if(!t){const t=e.push("html_inline","",0);t.content=i[0],o=t.content,/^<a[>\s]/i.test(o)&&e.linkLevel++,function(e){return/^<\/a\s*>/i.test(e)}(t.content)&&e.linkLevel--}var o;return e.pos+=i[0].length,!0}],["entity",function(e,t){const n=e.pos,r=e.posMax;if(38!==e.src.charCodeAt(n))return!1;if(n+1>=r)return!1;if(35===e.src.charCodeAt(n+1)){const r=e.src.slice(n).match(zL);if(r){if(!t){const t="x"===r[1][0].toLowerCase()?parseInt(r[1].slice(1),16):parseInt(r[1],10),n=e.push("text_special","",0);n.content=TI(t)?AI(t):AI(65533),n.markup=r[0],n.info="entity"}return e.pos+=r[0].length,!0}}else{const r=e.src.slice(n).match(FL);if(r){const n=jI(r[0]);if(n!==r[0]){if(!t){const t=e.push("text_special","",0);t.content=n,t.markup=r[0],t.info="entity"}return e.pos+=r[0].length,!0}}}return!1}]],VL=[["balance_pairs",function(e){const t=e.tokens_meta,n=e.tokens_meta.length;BL(e.delimiters);for(let r=0;r<n;r++)t[r]&&t[r].delimiters&&BL(t[r].delimiters)}],["strikethrough",PL.postProcess],["emphasis",IL.postProcess],["fragments_join",function(e){let t,n,r=0;const s=e.tokens,i=e.tokens.length;for(t=n=0;t<i;t++)s[t].nesting<0&&r--,s[t].level=r,s[t].nesting>0&&r++,"text"===s[t].type&&t+1<i&&"text"===s[t+1].type?s[t+1].content=s[t].content+s[t+1].content:(t!==n&&(s[n]=s[t]),n++);t!==n&&(s.length=n)}]];function qL(){this.ruler=new YI;for(let e=0;e<$L.length;e++)this.ruler.push($L[e][0],$L[e][1]);this.ruler2=new YI;for(let e=0;e<VL.length;e++)this.ruler2.push(VL[e][0],VL[e][1])}function HL(e){return Array.prototype.slice.call(arguments,1).forEach(function(t){t&&Object.keys(t).forEach(function(n){e[n]=t[n]})}),e}function UL(e){return Object.prototype.toString.call(e)}function WL(e){return"[object Function]"===UL(e)}function GL(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}qL.prototype.skipToken=function(e){const t=e.pos,n=this.ruler.getRules(""),r=n.length,s=e.md.options.maxNesting,i=e.cache;if(void 0!==i[t])return void(e.pos=i[t]);let o=!1;if(e.level<s){for(let a=0;a<r;a++)if(e.level++,o=n[a](e,!0),e.level--,o){if(t>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}else e.pos=e.posMax;o||e.pos++,i[t]=e.pos},qL.prototype.tokenize=function(e){const t=this.ruler.getRules(""),n=t.length,r=e.posMax,s=e.md.options.maxNesting;for(;e.pos<r;){const i=e.pos;let o=!1;if(e.level<s)for(let r=0;r<n;r++)if(o=t[r](e,!1),o){if(i>=e.pos)throw new Error("inline rule didn't increment state.pos");break}if(o){if(e.pos>=r)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},qL.prototype.parse=function(e,t,n,r){const s=new this.State(e,t,n,r);this.tokenize(s);const i=this.ruler2.getRules(""),o=i.length;for(let a=0;a<o;a++)i[a](s)},qL.prototype.State=TL;const KL={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};const JL={"http:":{validate:function(e,t,n){const r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){const r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){const r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},YL="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function XL(e){const t=e.re=function(e){const t={};e=e||{},t.src_Any=tI.source,t.src_Cc=nI.source,t.src_Z=iI.source,t.src_P=rI.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");const n="[><]";return t.src_pseudo_letter="(?:(?![><]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><]|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+n+"|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}(e.__opts__),n=e.__tlds__.slice();function r(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||n.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),n.push(t.src_xn),t.src_tlds=n.join("|"),t.email_fuzzy=RegExp(r(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(r(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(r(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(r(t.tpl_host_fuzzy_test),"i");const s=[];function i(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach(function(t){const n=e.__schemas__[t];if(null===n)return;const r={validate:null,link:null};if(e.__compiled__[t]=r,"[object Object]"===UL(n))return!function(e){return"[object RegExp]"===UL(e)}(n.validate)?WL(n.validate)?r.validate=n.validate:i(t,n):r.validate=function(e){return function(t,n){const r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}(n.validate),void(WL(n.normalize)?r.normalize=n.normalize:n.normalize?i(t,n):r.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===UL(e)}(n)?i(t,n):s.push(t)}),s.forEach(function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)}),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};const o=Object.keys(e.__compiled__).filter(function(t){return t.length>0&&e.__compiled__[t]}).map(GL).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+o+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+o+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function ZL(e,t){const n=e.__index__,r=e.__last_index__,s=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=s,this.text=s,this.url=s}function QL(e,t){const n=new ZL(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function eR(e,t){if(!(this instanceof eR))return new eR(e,t);var n;t||(n=e,Object.keys(n||{}).reduce(function(e,t){return e||KL.hasOwnProperty(t)},!1)&&(t=e,e={})),this.__opts__=HL({},KL,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=HL({},JL,e),this.__compiled__={},this.__tlds__=YL,this.__tlds_replaced__=!1,this.re={},XL(this)}eR.prototype.add=function(e,t){return this.__schemas__[e]=t,XL(this),this},eR.prototype.set=function(e){return this.__opts__=HL(this.__opts__,e),this},eR.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let t,n,r,s,i,o,a,l,c;if(this.re.schema_test.test(e))for(a=this.re.schema_search,a.lastIndex=0;null!==(t=a.exec(e));)if(s=this.testSchemaAt(e,t[2],a.lastIndex),s){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+s;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=e.search(this.re.host_fuzzy_test),l>=0&&(this.__index__<0||l<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(i=n.index+n[1].length,(this.__index__<0||i<this.__index__)&&(this.__schema__="",this.__index__=i,this.__last_index__=n.index+n[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(c=e.indexOf("@"),c>=0&&null!==(r=e.match(this.re.email_fuzzy))&&(i=r.index+r[1].length,o=r.index+r[0].length,(this.__index__<0||i<this.__index__||i===this.__index__&&o>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=i,this.__last_index__=o))),this.__index__>=0},eR.prototype.pretest=function(e){return this.re.pretest.test(e)},eR.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},eR.prototype.match=function(e){const t=[];let n=0;this.__index__>=0&&this.__text_cache__===e&&(t.push(QL(this,n)),n=this.__last_index__);let r=n?e.slice(n):e;for(;this.test(r);)t.push(QL(this,n)),r=r.slice(this.__last_index__),n+=this.__last_index__;return t.length?t:null},eR.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const t=this.re.schema_at_start.exec(e);if(!t)return null;const n=this.testSchemaAt(e,t[2],t[0].length);return n?(this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+n,QL(this,0)):null},eR.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(e,t,n){return e!==n[t-1]}).reverse(),XL(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,XL(this),this)},eR.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},eR.prototype.onCompile=function(){};const tR=2147483647,nR=36,rR=/^xn--/,sR=/[^\0-\x7F]/,iR=/[\x2E\u3002\uFF0E\uFF61]/g,oR={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},aR=Math.floor,lR=String.fromCharCode;function cR(e){throw new RangeError(oR[e])}function dR(e,t){const n=e.split("@");let r="";n.length>1&&(r=n[0]+"@",e=n[1]);const s=function(e,t){const n=[];let r=e.length;for(;r--;)n[r]=t(e[r]);return n}((e=e.replace(iR,".")).split("."),t).join(".");return r+s}function uR(e){const t=[];let n=0;const r=e.length;for(;n<r;){const s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){const r=e.charCodeAt(n++);56320==(64512&r)?t.push(((1023&s)<<10)+(1023&r)+65536):(t.push(s),n--)}else t.push(s)}return t}const hR=function(e){return e>=48&&e<58?e-48+26:e>=65&&e<91?e-65:e>=97&&e<123?e-97:nR},pR=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},mR=function(e,t,n){let r=0;for(e=n?aR(e/700):e>>1,e+=aR(e/t);e>455;r+=nR)e=aR(e/35);return aR(r+36*e/(e+38))},fR=function(e){const t=[],n=e.length;let r=0,s=128,i=72,o=e.lastIndexOf("-");o<0&&(o=0);for(let a=0;a<o;++a)e.charCodeAt(a)>=128&&cR("not-basic"),t.push(e.charCodeAt(a));for(let a=o>0?o+1:0;a<n;){const o=r;for(let t=1,s=nR;;s+=nR){a>=n&&cR("invalid-input");const o=hR(e.charCodeAt(a++));o>=nR&&cR("invalid-input"),o>aR((tR-r)/t)&&cR("overflow"),r+=o*t;const l=s<=i?1:s>=i+26?26:s-i;if(o<l)break;const c=nR-l;t>aR(tR/c)&&cR("overflow"),t*=c}const l=t.length+1;i=mR(r-o,l,0==o),aR(r/l)>tR-s&&cR("overflow"),s+=aR(r/l),r%=l,t.splice(r++,0,s)}return String.fromCodePoint(...t)},gR=function(e){const t=[],n=(e=uR(e)).length;let r=128,s=0,i=72;for(const l of e)l<128&&t.push(lR(l));const o=t.length;let a=o;for(o&&t.push("-");a<n;){let n=tR;for(const t of e)t>=r&&t<n&&(n=t);const l=a+1;n-r>aR((tR-s)/l)&&cR("overflow"),s+=(n-r)*l,r=n;for(const c of e)if(c<r&&++s>tR&&cR("overflow"),c===r){let e=s;for(let n=nR;;n+=nR){const r=n<=i?1:n>=i+26?26:n-i;if(e<r)break;const s=e-r,o=nR-r;t.push(lR(pR(r+s%o,0))),e=aR(s/o)}t.push(lR(pR(e,0))),i=mR(s,l,a===o),s=0,++a}++s,++r}return t.join("")},xR=function(e){return dR(e,function(e){return sR.test(e)?"xn--"+gR(e):e})},yR=function(e){return dR(e,function(e){return rR.test(e)?fR(e.slice(4).toLowerCase()):e})},vR={default:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},zero:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},commonmark:{options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}}},bR=/^(vbscript|javascript|file|data):/,wR=/^data:image\/(gif|png|jpeg|webp);/;function kR(e){const t=e.trim().toLowerCase();return!bR.test(t)||wR.test(t)}const jR=["http:","https:","mailto:"];function NR(e){const t=Q_(e,!0);if(t.hostname&&(!t.protocol||jR.indexOf(t.protocol)>=0))try{t.hostname=xR(t.hostname)}catch(n){}return F_(B_(t))}function CR(e){const t=Q_(e,!0);if(t.hostname&&(!t.protocol||jR.indexOf(t.protocol)>=0))try{t.hostname=yR(t.hostname)}catch(n){}return R_(B_(t),R_.defaultChars+"%")}function SR(e,t){if(!(this instanceof SR))return new SR(e,t);t||NI(e)||(t=e||{},e="default"),this.inline=new qL,this.block=new EL,this.core=new fL,this.renderer=new JI,this.linkify=new eR,this.validateLink=kR,this.normalizeLink=NR,this.normalizeLinkText=CR,this.utils=WI,this.helpers=SI({},GI),this.options={},this.configure(e),t&&this.set(t)}SR.prototype.set=function(e){return SI(this.options,e),this},SR.prototype.configure=function(e){const t=this;if(NI(e)){const t=e;if(!(e=vR[t]))throw new Error('Wrong `markdown-it` preset "'+t+'", check name')}if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(n){e.components[n].rules&&t[n].ruler.enableOnly(e.components[n].rules),e.components[n].rules2&&t[n].ruler2.enableOnly(e.components[n].rules2)}),this},SR.prototype.enable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(t){n=n.concat(this[t].ruler.enable(e,!0))},this),n=n.concat(this.inline.ruler2.enable(e,!0));const r=e.filter(function(e){return n.indexOf(e)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this},SR.prototype.disable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(t){n=n.concat(this[t].ruler.disable(e,!0))},this),n=n.concat(this.inline.ruler2.disable(e,!0));const r=e.filter(function(e){return n.indexOf(e)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this},SR.prototype.use=function(e){const t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},SR.prototype.parse=function(e,t){if("string"!=typeof e)throw new Error("Input data should be a String");const n=new this.core.State(e,this,t);return this.core.process(n),n.tokens},SR.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},SR.prototype.parseInline=function(e,t){const n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens},SR.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};const ER=new yv({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:()=>["p",0]},blockquote:{content:"block+",group:"block",parseDOM:[{tag:"blockquote"}],toDOM:()=>["blockquote",0]},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:()=>["div",["hr"]]},heading:{attrs:{level:{default:1}},content:"(text | image)*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:e=>["h"+e.attrs.level,0]},code_block:{content:"text*",group:"block",code:!0,defining:!0,marks:"",attrs:{params:{default:""}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:e=>({params:e.getAttribute("data-params")||""})}],toDOM:e=>["pre",e.attrs.params?{"data-params":e.attrs.params}:{},["code",0]]},ordered_list:{content:"list_item+",group:"block",attrs:{order:{default:1},tight:{default:!1}},parseDOM:[{tag:"ol",getAttrs:e=>({order:e.hasAttribute("start")?+e.getAttribute("start"):1,tight:e.hasAttribute("data-tight")})}],toDOM:e=>["ol",{start:1==e.attrs.order?null:e.attrs.order,"data-tight":e.attrs.tight?"true":null},0]},bullet_list:{content:"list_item+",group:"block",attrs:{tight:{default:!1}},parseDOM:[{tag:"ul",getAttrs:e=>({tight:e.hasAttribute("data-tight")})}],toDOM:e=>["ul",{"data-tight":e.attrs.tight?"true":null},0]},list_item:{content:"block+",defining:!0,parseDOM:[{tag:"li"}],toDOM:()=>["li",0]},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:e=>({src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt")})}],toDOM:e=>["img",e.attrs]},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br"]}},marks:{em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"},{style:"font-style=normal",clearMark:e=>"em"==e.type.name}],toDOM:()=>["em"]},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:e=>"normal"!=e.style.fontWeight&&null},{style:"font-weight=400",clearMark:e=>"strong"==e.type.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],toDOM:()=>["strong"]},link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:e=>({href:e.getAttribute("href"),title:e.getAttribute("title")})}],toDOM:e=>["a",e.attrs]},code:{code:!0,parseDOM:[{tag:"code"}],toDOM:()=>["code"]}}});class TR{constructor(e,t){this.schema=e,this.tokenHandlers=t,this.stack=[{type:e.topNodeType,attrs:null,content:[],marks:Py.none}]}top(){return this.stack[this.stack.length-1]}push(e){this.stack.length&&this.top().content.push(e)}addText(e){if(!e)return;let t,n=this.top(),r=n.content,s=r[r.length-1],i=this.schema.text(e,n.marks);s&&(t=function(e,t){if(e.isText&&t.isText&&Py.sameSet(e.marks,t.marks))return e.withText(e.text+t.text)}(s,i))?r[r.length-1]=t:r.push(i)}openMark(e){let t=this.top();t.marks=e.addToSet(t.marks)}closeMark(e){let t=this.top();t.marks=e.removeFromSet(t.marks)}parseTokens(e){for(let t=0;t<e.length;t++){let n=e[t],r=this.tokenHandlers[n.type];if(!r)throw new Error("Token type `"+n.type+"` not supported by Markdown parser");r(this,n,e,t)}}addNode(e,t,n){let r=this.top(),s=e.createAndFill(t,n,r?r.marks:[]);return s?(this.push(s),s):null}openNode(e,t){this.stack.push({type:e,attrs:t,content:[],marks:Py.none})}closeNode(){let e=this.stack.pop();return this.addNode(e.type,e.attrs,e.content)}}function AR(e,t,n,r){return e.getAttrs?e.getAttrs(t,n,r):e.attrs instanceof Function?e.attrs(t):e.attrs}function MR(e,t){return e.noCloseToken||"code_inline"==t||"code_block"==t||"fence"==t}function DR(e){return"\n"==e[e.length-1]?e.slice(0,e.length-1):e}function OR(){}function PR(e,t){for(;++t<e.length;)if("list_item_open"!=e[t].type)return e[t].hidden;return!1}new class{constructor(e,t,n){this.schema=e,this.tokenizer=t,this.tokens=n,this.tokenHandlers=function(e,t){let n=Object.create(null);for(let r in t){let s=t[r];if(s.block){let t=e.nodeType(s.block);MR(s,r)?n[r]=(e,n,r,i)=>{e.openNode(t,AR(s,n,r,i)),e.addText(DR(n.content)),e.closeNode()}:(n[r+"_open"]=(e,n,r,i)=>e.openNode(t,AR(s,n,r,i)),n[r+"_close"]=e=>e.closeNode())}else if(s.node){let t=e.nodeType(s.node);n[r]=(e,n,r,i)=>e.addNode(t,AR(s,n,r,i))}else if(s.mark){let t=e.marks[s.mark];MR(s,r)?n[r]=(e,n,r,i)=>{e.openMark(t.create(AR(s,n,r,i))),e.addText(DR(n.content)),e.closeMark(t)}:(n[r+"_open"]=(e,n,r,i)=>e.openMark(t.create(AR(s,n,r,i))),n[r+"_close"]=e=>e.closeMark(t))}else{if(!s.ignore)throw new RangeError("Unrecognized parsing spec "+JSON.stringify(s));MR(s,r)?n[r]=OR:(n[r+"_open"]=OR,n[r+"_close"]=OR)}}return n.text=(e,t)=>e.addText(t.content),n.inline=(e,t)=>e.parseTokens(t.children),n.softbreak=n.softbreak||(e=>e.addText(" ")),n}(e,n)}parse(e,t={}){let n,r=new TR(this.schema,this.tokenHandlers);r.parseTokens(this.tokenizer.parse(e,t));do{n=r.closeNode()}while(r.stack.length);return n||this.schema.topNodeType.createAndFill()}}(ER,SR("commonmark",{html:!1}),{blockquote:{block:"blockquote"},paragraph:{block:"paragraph"},list_item:{block:"list_item"},bullet_list:{block:"bullet_list",getAttrs:(e,t,n)=>({tight:PR(t,n)})},ordered_list:{block:"ordered_list",getAttrs:(e,t,n)=>({order:+e.attrGet("start")||1,tight:PR(t,n)})},heading:{block:"heading",getAttrs:e=>({level:+e.tag.slice(1)})},code_block:{block:"code_block",noCloseToken:!0},fence:{block:"code_block",getAttrs:e=>({params:e.info||""}),noCloseToken:!0},hr:{node:"horizontal_rule"},image:{node:"image",getAttrs:e=>({src:e.attrGet("src"),title:e.attrGet("title")||null,alt:e.children[0]&&e.children[0].content||null})},hardbreak:{node:"hard_break"},em:{mark:"em"},strong:{mark:"strong"},link:{mark:"link",getAttrs:e=>({href:e.attrGet("href"),title:e.attrGet("title")||null})},code_inline:{mark:"code",noCloseToken:!0}});const _R={open:"",close:"",mixable:!0};const IR=new class{constructor(e,t,n={}){this.nodes=e,this.marks=t,this.options=n}serialize(e,t={}){t=Object.assign({},this.options,t);let n=new RR(this.nodes,this.marks,t);return n.renderContent(e),n.out}}({blockquote(e,t){e.wrapBlock("> ",null,t,()=>e.renderContent(t))},code_block(e,t){const n=t.textContent.match(/`{3,}/gm),r=n?n.sort().slice(-1)[0]+"`":"```";e.write(r+(t.attrs.params||"")+"\n"),e.text(t.textContent,!1),e.write("\n"),e.write(r),e.closeBlock(t)},heading(e,t){e.write(e.repeat("#",t.attrs.level)+" "),e.renderInline(t,!1),e.closeBlock(t)},horizontal_rule(e,t){e.write(t.attrs.markup||"---"),e.closeBlock(t)},bullet_list(e,t){e.renderList(t,"  ",()=>(t.attrs.bullet||"*")+" ")},ordered_list(e,t){let n=t.attrs.order||1,r=String(n+t.childCount-1).length,s=e.repeat(" ",r+2);e.renderList(t,s,t=>{let s=String(n+t);return e.repeat(" ",r-s.length)+s+". "})},list_item(e,t){e.renderContent(t)},paragraph(e,t){e.renderInline(t),e.closeBlock(t)},image(e,t){e.write("!["+e.esc(t.attrs.alt||"")+"]("+t.attrs.src.replace(/[\(\)]/g,"\\$&")+(t.attrs.title?' "'+t.attrs.title.replace(/"/g,'\\"')+'"':"")+")")},hard_break(e,t,n,r){for(let s=r+1;s<n.childCount;s++)if(n.child(s).type!=t.type)return void e.write("\\\n")},text(e,t){e.text(t.text,!e.inAutolink)}},{em:{open:"*",close:"*",mixable:!0,expelEnclosingWhitespace:!0},strong:{open:"**",close:"**",mixable:!0,expelEnclosingWhitespace:!0},link:{open:(e,t,n,r)=>(e.inAutolink=function(e,t,n){if(e.attrs.title||!/^\w+:/.test(e.attrs.href))return!1;let r=t.child(n);return!(!r.isText||r.text!=e.attrs.href||r.marks[r.marks.length-1]!=e)&&(n==t.childCount-1||!e.isInSet(t.child(n+1).marks))}(t,n,r),e.inAutolink?"<":"["),close(e,t,n,r){let{inAutolink:s}=e;return e.inAutolink=void 0,s?">":"]("+t.attrs.href.replace(/[\(\)"]/g,"\\$&")+(t.attrs.title?` "${t.attrs.title.replace(/"/g,'\\"')}"`:"")+")"},mixable:!0},code:{open:(e,t,n,r)=>LR(n.child(r),-1),close:(e,t,n,r)=>LR(n.child(r-1),1),escape:!1}});function LR(e,t){let n,r=/`+/g,s=0;if(e.isText)for(;n=r.exec(e.text);)s=Math.max(s,n[0].length);let i=s>0&&t>0?" `":"`";for(let o=0;o<s;o++)i+="`";return s>0&&t<0&&(i+=" "),i}let RR=class{constructor(e,t,n){this.nodes=e,this.marks=t,this.options=n,this.delim="",this.out="",this.closed=null,this.inAutolink=void 0,this.atBlockStart=!1,this.inTightList=!1,void 0===this.options.tightLists&&(this.options.tightLists=!1),void 0===this.options.hardBreakNodeName&&(this.options.hardBreakNodeName="hard_break")}flushClose(e=2){if(this.closed){if(this.atBlank()||(this.out+="\n"),e>1){let t=this.delim,n=/\s+$/.exec(t);n&&(t=t.slice(0,t.length-n[0].length));for(let r=1;r<e;r++)this.out+=t+"\n"}this.closed=null}}getMark(e){let t=this.marks[e];if(!t){if(!1!==this.options.strict)throw new Error(`Mark type \`${e}\` not supported by Markdown renderer`);t=_R}return t}wrapBlock(e,t,n,r){let s=this.delim;this.write(null!=t?t:e),this.delim+=e,r(),this.delim=s,this.closeBlock(n)}atBlank(){return/(^|\n)$/.test(this.out)}ensureNewLine(){this.atBlank()||(this.out+="\n")}write(e){this.flushClose(),this.delim&&this.atBlank()&&(this.out+=this.delim),e&&(this.out+=e)}closeBlock(e){this.closed=e}text(e,t=!0){let n=e.split("\n");for(let r=0;r<n.length;r++)this.write(),!t&&"["==n[r][0]&&/(^|[^\\])\!$/.test(this.out)&&(this.out=this.out.slice(0,this.out.length-1)+"\\!"),this.out+=t?this.esc(n[r],this.atBlockStart):n[r],r!=n.length-1&&(this.out+="\n")}render(e,t,n){if(this.nodes[e.type.name])this.nodes[e.type.name](this,e,t,n);else{if(!1!==this.options.strict)throw new Error("Token type `"+e.type.name+"` not supported by Markdown renderer");e.type.isLeaf||(e.type.inlineContent?this.renderInline(e):this.renderContent(e),e.isBlock&&this.closeBlock(e))}}renderContent(e){e.forEach((t,n,r)=>this.render(t,e,r))}renderInline(e,t=!0){this.atBlockStart=t;let n=[],r="",s=(t,s,i)=>{let o=t?t.marks:[];t&&t.type.name===this.options.hardBreakNodeName&&(o=o.filter(t=>{if(i+1==e.childCount)return!1;let n=e.child(i+1);return t.isInSet(n.marks)&&(!n.isText||/\S/.test(n.text))}));let a=r;if(r="",t&&t.isText&&o.some(e=>{let t=this.getMark(e.type.name);return t&&t.expelEnclosingWhitespace&&!e.isInSet(n)})){let[e,r,s]=/^(\s*)(.*)$/m.exec(t.text);r&&(a+=r,(t=s?t.withText(s):null)||(o=n))}if(t&&t.isText&&o.some(t=>{let n=this.getMark(t.type.name);return n&&n.expelEnclosingWhitespace&&!this.isMarkAhead(e,i+1,t)})){let[e,s,i]=/^(.*?)(\s*)$/m.exec(t.text);i&&(r=i,(t=s?t.withText(s):null)||(o=n))}let l=o.length?o[o.length-1]:null,c=l&&!1===this.getMark(l.type.name).escape,d=o.length-(c?1:0);e:for(let e=0;e<d;e++){let t=o[e];if(!this.getMark(t.type.name).mixable)break;for(let r=0;r<n.length;r++){let s=n[r];if(!this.getMark(s.type.name).mixable)break;if(t.eq(s)){e>r?o=o.slice(0,r).concat(t).concat(o.slice(r,e)).concat(o.slice(e+1,d)):r>e&&(o=o.slice(0,e).concat(o.slice(e+1,r)).concat(t).concat(o.slice(r,d)));continue e}}}let u=0;for(;u<Math.min(n.length,d)&&o[u].eq(n[u]);)++u;for(;u<n.length;)this.text(this.markString(n.pop(),!1,e,i),!1);if(a&&this.text(a),t){for(;n.length<d;){let t=o[n.length];n.push(t),this.text(this.markString(t,!0,e,i),!1),this.atBlockStart=!1}c&&t.isText?this.text(this.markString(l,!0,e,i)+t.text+this.markString(l,!1,e,i+1),!1):this.render(t,e,i),this.atBlockStart=!1}(null==t?void 0:t.isText)&&t.nodeSize>0&&(this.atBlockStart=!1)};e.forEach(s),s(null,0,e.childCount),this.atBlockStart=!1}renderList(e,t,n){this.closed&&this.closed.type==e.type?this.flushClose(3):this.inTightList&&this.flushClose(1);let r=void 0!==e.attrs.tight?e.attrs.tight:this.options.tightLists,s=this.inTightList;this.inTightList=r,e.forEach((s,i,o)=>{o&&r&&this.flushClose(1),this.wrapBlock(t,n(o),e,()=>this.render(s,e,o))}),this.inTightList=s}esc(e,t=!1){return e=e.replace(/[`*\\~\[\]_]/g,(t,n)=>"_"==t&&n>0&&n+1<e.length&&e[n-1].match(/\w/)&&e[n+1].match(/\w/)?t:"\\"+t),t&&(e=e.replace(/^(\+[ ]|[\-*>])/,"\\$&").replace(/^(\s*)(#{1,6})(\s|$)/,"$1\\$2$3").replace(/^(\s*\d+)\.\s/,"$1\\. ")),this.options.escapeExtraCharacters&&(e=e.replace(this.options.escapeExtraCharacters,"\\$&")),e}quote(e){let t=-1==e.indexOf('"')?'""':-1==e.indexOf("'")?"''":"()";return t[0]+e+t[1]}repeat(e,t){let n="";for(let r=0;r<t;r++)n+=e;return n}markString(e,t,n,r){let s=this.getMark(e.type.name),i=t?s.open:s.close;return"string"==typeof i?i:i(this,e,n,r)}getEnclosingWhitespace(e){return{leading:(e.match(/^(\s+)/)||[void 0])[0],trailing:(e.match(/(\s+)$/)||[void 0])[0]}}isMarkAhead(e,t,n){for(;;t++){if(t>=e.childCount)return!1;let r=e.child(t);if(r.type.name!=this.options.hardBreakNodeName)return n.isInSet(r.marks);t++}}};var zR,FR;var BR=function(){if(FR)return zR;FR=1;var e=!0,t=!1,n=!1;function r(e,t,n){var r=e.attrIndex(t),s=[t,n];r<0?e.attrPush(s):e.attrs[r]=s}function s(e,t){for(var n=e[t].level-1,r=t-1;r>=0;r--)if(e[r].level===n)return r;return-1}function i(e,t){return"inline"===e[t].type&&function(e){return"paragraph_open"===e.type}(e[t-1])&&function(e){return"list_item_open"===e.type}(e[t-2])&&function(e){return 0===e.content.indexOf("[ ] ")||0===e.content.indexOf("[x] ")||0===e.content.indexOf("[X] ")}(e[t])}function o(r,s){if(r.children.unshift(function(t,n){var r=new n("html_inline","",0),s=e?' disabled="" ':"";0===t.content.indexOf("[ ] ")?r.content='<input class="task-list-item-checkbox"'+s+'type="checkbox">':0!==t.content.indexOf("[x] ")&&0!==t.content.indexOf("[X] ")||(r.content='<input class="task-list-item-checkbox" checked=""'+s+'type="checkbox">');return r}(r,s)),r.children[1].content=r.children[1].content.slice(3),r.content=r.content.slice(3),t)if(n){r.children.pop();var i="task-item-"+Math.ceil(1e7*Math.random()-1e3);r.children[0].content=r.children[0].content.slice(0,-1)+' id="'+i+'">',r.children.push(function(e,t,n){var r=new n("html_inline","",0);return r.content='<label class="task-list-item-label" for="'+t+'">'+e+"</label>",r.attrs=[{for:t}],r}(r.content,i,s))}else r.children.unshift(function(e){var t=new e("html_inline","",0);return t.content="<label>",t}(s)),r.children.push(function(e){var t=new e("html_inline","",0);return t.content="</label>",t}(s))}return zR=function(a,l){l&&(e=!l.enabled,t=!!l.label,n=!!l.labelAfter),a.core.ruler.after("inline","github-task-lists",function(t){for(var n=t.tokens,a=2;a<n.length;a++)i(n,a)&&(o(n[a],t.Token),r(n[a-2],"class","task-list-item"+(e?"":" enabled")),r(n[s(n,a-2)],"class","contains-task-list"))})},zR}();const $R=n(BR);var VR=Object.defineProperty,qR=(e,t,n)=>(((e,t,n)=>{t in e?VR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const HR=wE.create({name:"markdownTightLists",addOptions:()=>({tight:!0,tightClass:"tight",listTypes:["bulletList","orderedList"]}),addGlobalAttributes(){return[{types:this.options.listTypes,attributes:{tight:{default:this.options.tight,parseHTML:e=>"true"===e.getAttribute("data-tight")||!e.querySelector("p"),renderHTML:e=>({class:e.tight?this.options.tightClass:null,"data-tight":e.tight?"true":null})}}}]},addCommands(){var e=this;return{toggleTight:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return n=>{let{editor:r,commands:s}=n;return e.options.listTypes.some(e=>function(e){if(!r.isActive(e))return!1;const n=r.getAttributes(e);return s.updateAttributes(e,{tight:null!=t?t:!(null!=n&&n.tight)})}(e))}}}}}),UR=SR();function WR(e,t){UR.inline.State.prototype.scanDelims.call({src:e,posMax:e.length});return new UR.inline.State(e,null,null,[]).scanDelims(t,!0)}function GR(e,t,n,r){let s=e.substring(0,n)+e.substring(n+t.length);return s=s.substring(0,n+r)+t+s.substring(n+r),s}function KR(e,t,n,r){let s={text:e,from:n,to:r};return s=function(e,t,n,r){let s=n,i=e;for(;s<r&&!WR(i,s).can_open;)i=GR(i,t,s,1),s++;return{text:i,from:s,to:r}}(s.text,t,s.from,s.to),s=function(e,t,n,r){let s=r,i=e;for(;s>n&&!WR(i,s).can_close;)i=GR(i,t,s,-1),s--;return{text:i,from:n,to:s}}(s.text,t,s.from,s.to),s.to-s.from<t.length+1&&(s.text=s.text.substring(0,s.from)+s.text.substring(s.to+t.length)),s.text}class JR extends RR{constructor(e,t,n){super(e,t,null!=n?n:{}),qR(this,"inTable",!1),this.inlines=[]}render(e,t,n){super.render(e,t,n);const r=this.inlines[this.inlines.length-1];if(null!=r&&r.start&&null!=r&&r.end){const{delimiter:e,start:t,end:n}=this.normalizeInline(r);this.out=KR(this.out,e,t,n),this.inlines.pop()}}markString(e,t,n,r){const s=this.marks[e.type.name];if(s.expelEnclosingWhitespace)if(t)this.inlines.push({start:this.out.length,delimiter:s.open});else{const e=this.inlines.pop();this.inlines.push({...e,end:this.out.length})}return super.markString(e,t,n,r)}normalizeInline(e){let{start:t,end:n}=e;for(;this.out.charAt(t).match(/\s/);)t++;return{...e,start:t}}}const YR=mE.create({name:"markdownHTMLMark",addStorage:()=>({markdown:{serialize:{open(e,t){var n,r;return this.editor.storage.markdown.options.html?null!==(n=null===(r=XR(t))||void 0===r?void 0:r[0])&&void 0!==n?n:"":(console.warn(`Tiptap Markdown: "${t.type.name}" mark is only available in html mode`),"")},close(e,t){var n,r;return this.editor.storage.markdown.options.html&&null!==(n=null===(r=XR(t))||void 0===r?void 0:r[1])&&void 0!==n?n:""}},parse:{}}})});function XR(e){const t=e.type.schema,n=t.text(" ",[e]),r=cS(Ay.from(n),t).match(/^(<.*?>) (<\/.*?>)$/);return r?[r[1],r[2]]:null}function ZR(e){const t=`<body>${e}</body>`;return(new window.DOMParser).parseFromString(t,"text/html").body}const QR=KE.create({name:"markdownHTMLNode",addStorage:()=>({markdown:{serialize(e,t,n){this.editor.storage.markdown.options.html?e.write(function(e,t){const n=e.type.schema,r=cS(Ay.from(e),n);if(e.isBlock&&(t instanceof Ay||t.type.name===n.topNodeType.name))return function(e){const t=ZR(e),n=t.firstElementChild;return n.innerHTML=n.innerHTML.trim()?`\n${n.innerHTML}\n`:"\n",n.outerHTML}(r);return r}(t,n)):(console.warn(`Tiptap Markdown: "${t.type.name}" node is only available in html mode`),e.write(`[${t.type.name}]`)),t.isBlock&&e.closeBlock(t)},parse:{}}})});const ez=KE.create({name:"blockquote"}).extend({addStorage:()=>({markdown:{serialize:IR.nodes.blockquote,parse:{}}})}),tz=KE.create({name:"bulletList"}).extend({addStorage:()=>({markdown:{serialize(e,t){return e.renderList(t,"  ",()=>(this.editor.storage.markdown.options.bulletListMarker||"-")+" ")},parse:{}}})}),nz=KE.create({name:"codeBlock"}).extend({addStorage:()=>({markdown:{serialize(e,t){e.write("```"+(t.attrs.language||"")+"\n"),e.text(t.textContent,!1),e.ensureNewLine(),e.write("```"),e.closeBlock(t)},parse:{setup(e){var t;e.set({langPrefix:null!==(t=this.options.languageClassPrefix)&&void 0!==t?t:"language-"})},updateDOM(e){e.innerHTML=e.innerHTML.replace(/\n<\/code><\/pre>/g,"</code></pre>")}}}})}),rz=KE.create({name:"hardBreak"}).extend({addStorage:()=>({markdown:{serialize(e,t,n,r){for(let s=r+1;s<n.childCount;s++)if(n.child(s).type!=t.type)return void e.write(e.inTable?QR.storage.markdown.serialize.call(this,e,t,n):"\\\n")},parse:{}}})}),sz=KE.create({name:"heading"}).extend({addStorage:()=>({markdown:{serialize:IR.nodes.heading,parse:{}}})}),iz=KE.create({name:"horizontalRule"}).extend({addStorage:()=>({markdown:{serialize:IR.nodes.horizontal_rule,parse:{}}})}),oz=KE.create({name:"image"}).extend({addStorage:()=>({markdown:{serialize:IR.nodes.image,parse:{}}})}),az=KE.create({name:"listItem"}).extend({addStorage:()=>({markdown:{serialize:IR.nodes.list_item,parse:{}}})});const lz=KE.create({name:"orderedList"}).extend({addStorage:()=>({markdown:{serialize(e,t,n,r){const s=t.attrs.start||1,i=String(s+t.childCount-1).length,o=e.repeat(" ",i+2),a=function(e,t,n){let r=0;for(;n-r>0&&t.child(n-r-1).type.name===e.type.name;r++);return r}(t,n,r),l=a%2?") ":". ";e.renderList(t,o,t=>{const n=String(s+t);return e.repeat(" ",i-n.length)+n+l})},parse:{}}})}),cz=KE.create({name:"paragraph"}).extend({addStorage:()=>({markdown:{serialize:IR.nodes.paragraph,parse:{}}})});function dz(e){var t,n;return null!==(t=null==e||null===(n=e.content)||void 0===n?void 0:n.content)&&void 0!==t?t:[]}const uz=KE.create({name:"table"}).extend({addStorage:()=>({markdown:{serialize(e,t,n){!function(e){const t=dz(e),n=t[0],r=t.slice(1);if(dz(n).some(e=>"tableHeader"!==e.type.name||hz(e)||e.childCount>1))return!1;if(r.some(e=>dz(e).some(e=>"tableHeader"===e.type.name||hz(e)||e.childCount>1)))return!1;return!0}(t)?QR.storage.markdown.serialize.call(this,e,t,n):(e.inTable=!0,t.forEach((t,n,r)=>{if(e.write("| "),t.forEach((t,n,r)=>{r&&e.write(" | ");const s=t.firstChild;s.textContent.trim()&&e.renderInline(s)}),e.write(" |"),e.ensureNewLine(),!r){const n=Array.from({length:t.childCount}).map(()=>"---").join(" | ");e.write(`| ${n} |`),e.ensureNewLine()}}),e.closeBlock(t),e.inTable=!1)},parse:{}}})});function hz(e){return e.attrs.colspan>1||e.attrs.rowspan>1}const pz=KE.create({name:"taskItem"}).extend({addStorage:()=>({markdown:{serialize(e,t){const n=t.attrs.checked?"[x]":"[ ]";e.write(`${n} `),e.renderContent(t)},parse:{updateDOM(e){[...e.querySelectorAll(".task-list-item")].forEach(e=>{const t=e.querySelector("input");e.setAttribute("data-type","taskItem"),t&&(e.setAttribute("data-checked",t.checked),t.remove())})}}}})}),mz=KE.create({name:"taskList"}).extend({addStorage:()=>({markdown:{serialize:tz.storage.markdown.serialize,parse:{setup(e){e.use($R)},updateDOM(e){[...e.querySelectorAll(".contains-task-list")].forEach(e=>{e.setAttribute("data-type","taskList")})}}}})}),fz=KE.create({name:"text"}).extend({addStorage:()=>({markdown:{serialize(e,t){var n;e.text(null==(n=t.text)?void 0:n.replace(/</g,"&lt;").replace(/>/g,"&gt;"))},parse:{}}})}),gz=mE.create({name:"bold"}).extend({addStorage:()=>({markdown:{serialize:IR.marks.strong,parse:{}}})}),xz=mE.create({name:"code"}).extend({addStorage:()=>({markdown:{serialize:IR.marks.code,parse:{}}})}),yz=mE.create({name:"italic"}).extend({addStorage:()=>({markdown:{serialize:IR.marks.em,parse:{}}})}),vz=mE.create({name:"link"}).extend({addStorage:()=>({markdown:{serialize:IR.marks.link,parse:{}}})}),bz=mE.create({name:"strike"}).extend({addStorage:()=>({markdown:{serialize:{open:"~~",close:"~~",expelEnclosingWhitespace:!0},parse:{}}})}),wz=[ez,tz,nz,rz,sz,iz,QR,oz,az,lz,cz,uz,pz,mz,fz,gz,xz,YR,yz,vz,bz];function kz(e){var t,n;const r=null===(t=e.storage)||void 0===t?void 0:t.markdown,s=null===(n=wz.find(t=>t.name===e.name))||void 0===n?void 0:n.storage.markdown;return r||s?{...s,...r}:null}class jz{constructor(e){qR(this,"editor",null),this.editor=e}serialize(e){const t=new JR(this.nodes,this.marks,{hardBreakNodeName:rz.name});return t.renderContent(e),t.out}get nodes(){var e;return{...Object.fromEntries(Object.keys(this.editor.schema.nodes).map(e=>[e,this.serializeNode(QR)])),...Object.fromEntries(null!==(e=this.editor.extensionManager.extensions.filter(e=>"node"===e.type&&this.serializeNode(e)).map(e=>[e.name,this.serializeNode(e)]))&&void 0!==e?e:[])}}get marks(){var e;return{...Object.fromEntries(Object.keys(this.editor.schema.marks).map(e=>[e,this.serializeMark(YR)])),...Object.fromEntries(null!==(e=this.editor.extensionManager.extensions.filter(e=>"mark"===e.type&&this.serializeMark(e)).map(e=>[e.name,this.serializeMark(e)]))&&void 0!==e?e:[])}}serializeNode(e){var t;return null===(t=kz(e))||void 0===t||null===(t=t.serialize)||void 0===t?void 0:t.bind({editor:this.editor,options:e.options})}serializeMark(e){var t;const n=null===(t=kz(e))||void 0===t?void 0:t.serialize;return n?{...n,open:"function"==typeof n.open?n.open.bind({editor:this.editor,options:e.options}):n.open,close:"function"==typeof n.close?n.close.bind({editor:this.editor,options:e.options}):n.close}:null}}class Nz{constructor(e,t){qR(this,"editor",null),qR(this,"md",null);let{html:n,linkify:r,breaks:s}=t;this.editor=e,this.md=this.withPatchedRenderer(SR({html:n,linkify:r,breaks:s}))}parse(e){let{inline:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof e){this.editor.extensionManager.extensions.forEach(e=>{var t;return null===(t=kz(e))||void 0===t||null===(t=t.parse)||void 0===t||null===(t=t.setup)||void 0===t?void 0:t.call({editor:this.editor,options:e.options},this.md)});const n=ZR(this.md.render(e));return this.editor.extensionManager.extensions.forEach(e=>{var t;return null===(t=kz(e))||void 0===t||null===(t=t.parse)||void 0===t||null===(t=t.updateDOM)||void 0===t?void 0:t.call({editor:this.editor,options:e.options},n)}),this.normalizeDOM(n,{inline:t,content:e}),n.innerHTML}return e}normalizeDOM(e,t){let{inline:n,content:r}=t;return this.normalizeBlocks(e),e.querySelectorAll("*").forEach(e=>{var t;(null===(t=e.nextSibling)||void 0===t?void 0:t.nodeType)!==Node.TEXT_NODE||e.closest("pre")||(e.nextSibling.textContent=e.nextSibling.textContent.replace(/^\n/,""))}),n&&this.normalizeInline(e,r),e}normalizeBlocks(e){const t=Object.values(this.editor.schema.nodes).filter(e=>e.isBlock).map(e=>{var t;return null===(t=e.spec.parseDOM)||void 0===t?void 0:t.map(e=>e.tag)}).flat().filter(Boolean).join(",");t&&[...e.querySelectorAll(t)].forEach(e=>{e.parentElement.matches("p")&&function(e){const t=e.parentElement,n=t.cloneNode();for(;t.firstChild&&t.firstChild!==e;)n.appendChild(t.firstChild);n.childNodes.length>0&&t.parentElement.insertBefore(n,t),t.parentElement.insertBefore(e,t),0===t.childNodes.length&&t.remove()}(e)})}normalizeInline(e,t){var n;if(null!==(n=e.firstElementChild)&&void 0!==n&&n.matches("p")){var r,s,i,o;const n=e.firstElementChild,{nextElementSibling:a}=n,l=null!==(r=null===(s=t.match(/^\s+/))||void 0===s?void 0:s[0])&&void 0!==r?r:"",c=a?"":null!==(i=null===(o=t.match(/\s+$/))||void 0===o?void 0:o[0])&&void 0!==i?i:"";if(t.match(/^\n\n/))return void(n.innerHTML=`${n.innerHTML}${c}`);!function(e){const t=e.parentNode;for(;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)}(n),e.innerHTML=`${l}${e.innerHTML}${c}`}}withPatchedRenderer(e){const t=e=>function(){const t=e(...arguments);return"\n"===t?t:"\n"===t[t.length-1]?t.slice(0,-1):t};return e.renderer.rules.hardbreak=t(e.renderer.rules.hardbreak),e.renderer.rules.softbreak=t(e.renderer.rules.softbreak),e.renderer.rules.fence=t(e.renderer.rules.fence),e.renderer.rules.code_block=t(e.renderer.rules.code_block),e.renderer.renderToken=t(e.renderer.renderToken.bind(e.renderer)),e}}const Cz=wE.create({name:"markdownClipboard",addOptions:()=>({transformPastedText:!1,transformCopiedText:!1}),addProseMirrorPlugins(){return[new Wb({key:new Jb("markdownClipboard"),props:{clipboardTextParser:(e,t,n)=>{if(n||!this.options.transformPastedText)return null;const r=this.editor.storage.markdown.parser.parse(e,{inline:!0});return bv.fromSchema(this.editor.schema).parseSlice(ZR(r),{preserveWhitespace:!0,context:t})},clipboardTextSerializer:e=>this.options.transformCopiedText?this.editor.storage.markdown.serializer.serialize(e.content):null}})]}}),Sz=wE.create({name:"markdown",priority:50,addOptions:()=>({html:!0,tightLists:!0,tightListClass:"tight",bulletListMarker:"-",linkify:!1,breaks:!1,transformPastedText:!1,transformCopiedText:!1}),addCommands(){const e=bE.Commands.config.addCommands();return{setContent:(t,n)=>r=>e.setContent(r.editor.storage.markdown.parser.parse(t),n)(r),insertContentAt:(t,n,r)=>s=>e.insertContentAt(t,s.editor.storage.markdown.parser.parse(n,{inline:!0}),r)(s)}},onBeforeCreate(){this.editor.storage.markdown={options:{...this.options},parser:new Nz(this.editor,this.options),serializer:new jz(this.editor),getMarkdown:()=>this.editor.storage.markdown.serializer.serialize(this.editor.state.doc)},this.editor.options.initialContent=this.editor.options.content,this.editor.options.content=this.editor.storage.markdown.parser.parse(this.editor.options.content)},onCreate(){this.editor.options.content=this.editor.options.initialContent,delete this.editor.options.initialContent},addStorage:()=>({}),addExtensions(){return[HR.configure({tight:this.options.tightLists,tightClass:this.options.tightListClass}),Cz.configure({transformPastedText:this.options.transformPastedText,transformCopiedText:this.options.transformCopiedText})]}}),Ez=({editor:e,isOpen:t,onClose:n})=>{const[s,i]=r.useState("");r.useEffect(()=>{if(t){const t=e.getAttributes("link").href;i(t||"")}},[t,e]);return t?ct.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",onClick:n,children:ct.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-4 w-full max-w-sm mx-4",onClick:e=>e.stopPropagation(),children:[ct.jsx("h3",{className:"text-lg font-semibold mb-4 text-navy",children:"Adicionar Link"}),ct.jsxs("form",{onSubmit:t=>{t.preventDefault(),""===s?e.chain().focus().extendMarkRange("link").unsetLink().run():e.chain().focus().extendMarkRange("link").setLink({href:s}).run(),n()},children:[ct.jsx("input",{type:"url",value:s,onChange:e=>i(e.target.value),placeholder:"https://exemplo.com",className:"w-full px-3 py-2 border border-gray-300 rounded-md mb-4 focus:outline-none focus:ring-2 focus:ring-teal-primary",autoFocus:!0}),ct.jsxs("div",{className:"flex justify-end gap-2",children:[ct.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-md transition-colors",children:"Cancelar"}),ct.jsx("button",{type:"submit",className:"px-4 py-2 bg-teal-primary text-white rounded-md hover:bg-teal-900 transition-colors",children:"Salvar"})]})]})]})}):null},Tz=({editor:e,onLinkClick:t})=>e?ct.jsxs("div",{className:"flex flex-wrap gap-1 p-2 border-b border-gray-200 bg-gray-50 items-center",children:[ct.jsx("button",{onClick:()=>e.chain().focus().toggleHeading({level:2}).run(),className:"p-1.5 rounded hover:bg-gray-200 transition-colors "+(e.isActive("heading",{level:2})?"bg-gray-200 text-teal-primary":"text-gray-600"),title:"Ttulo H2",children:ct.jsx(fe,{size:18})}),ct.jsx("button",{onClick:()=>e.chain().focus().toggleHeading({level:3}).run(),className:"p-1.5 rounded hover:bg-gray-200 transition-colors "+(e.isActive("heading",{level:3})?"bg-gray-200 text-teal-primary":"text-gray-600"),title:"Ttulo H3",children:ct.jsx(ge,{size:18})}),ct.jsx("div",{className:"w-px h-5 bg-gray-300 mx-1"}),ct.jsx("button",{onClick:()=>e.chain().focus().toggleBold().run(),disabled:!e.can().chain().focus().toggleBold().run(),className:"p-1.5 rounded hover:bg-gray-200 transition-colors "+(e.isActive("bold")?"bg-gray-200 text-teal-primary":"text-gray-600"),title:"Negrito",children:ct.jsx(xe,{size:18})}),ct.jsx("button",{onClick:()=>e.chain().focus().toggleItalic().run(),disabled:!e.can().chain().focus().toggleItalic().run(),className:"p-1.5 rounded hover:bg-gray-200 transition-colors "+(e.isActive("italic")?"bg-gray-200 text-teal-primary":"text-gray-600"),title:"Itlico",children:ct.jsx(ye,{size:18})}),ct.jsx("div",{className:"w-px h-5 bg-gray-300 mx-1"}),ct.jsx("button",{onClick:()=>e.chain().focus().toggleBulletList().run(),className:"p-1.5 rounded hover:bg-gray-200 transition-colors "+(e.isActive("bulletList")?"bg-gray-200 text-teal-primary":"text-gray-600"),title:"Lista",children:ct.jsx(ve,{size:18})}),ct.jsx("div",{className:"w-px h-5 bg-gray-300 mx-1"}),ct.jsx("button",{onClick:t,className:"p-1.5 rounded hover:bg-gray-200 transition-colors "+(e.isActive("link")?"bg-gray-200 text-teal-primary":"text-gray-600"),title:"Link",children:ct.jsx(pe,{size:18})}),e.isActive("link")&&ct.jsx("button",{onClick:()=>e.chain().focus().unsetLink().run(),className:"p-1.5 rounded hover:bg-gray-200 text-gray-600 transition-colors",title:"Remover Link",children:ct.jsx(me,{size:18})})]}):null,Az=({content:e,onChange:t,placeholder:n})=>{const[s,i]=r.useState(!1),o=VT({extensions:[I_.configure({heading:{levels:[2,3]},link:!1}),bP.configure({openOnClick:!1,HTMLAttributes:{class:"text-teal-primary hover:underline cursor-pointer"}}),Sz.configure({html:!1,transformPastedText:!0,transformCopiedText:!0}),JM],content:e||"",editorProps:{attributes:{class:"prose prose-sm sm:prose-base max-w-none focus:outline-none min-h-[200px] px-4 py-3"}},onUpdate:({editor:e})=>{try{const n=e.storage.markdown.getMarkdown();t(n)}catch(cR){console.error("Error getting markdown:",cR)}}});r.useEffect(()=>{if(o&&e){!o.storage.markdown.getMarkdown()&&e&&o.commands.setContent(e)}},[e,o]);const a=r.useCallback(()=>{i(!0)},[]);return ct.jsxs("div",{className:"border border-gray-300 rounded-lg overflow-hidden focus-within:ring-2 focus-within:ring-teal-primary focus-within:border-transparent transition-all shadow-sm relative",children:[ct.jsx(Tz,{editor:o,onLinkClick:a}),o&&ct.jsxs(ZM,{editor:o,shouldShow:({editor:e,from:t,to:n})=>t!==n&&e.isActive("link"),className:"bg-white shadow-xl border border-gray-200 rounded-lg p-1 flex items-center gap-1",children:[ct.jsx("button",{onClick:a,className:"p-1.5 hover:bg-gray-100 rounded text-teal-primary",title:"Editar Link",children:ct.jsx(pe,{size:14})}),ct.jsx("a",{href:o.getAttributes("link").href,target:"_blank",rel:"noopener noreferrer",className:"p-1.5 hover:bg-gray-100 rounded text-gray-600",title:"Visitar Link",children:ct.jsx(F,{size:14})}),ct.jsx("button",{onClick:()=>o.chain().focus().unsetLink().run(),className:"p-1.5 hover:bg-gray-100 rounded text-red-500",title:"Remover Link",children:ct.jsx(me,{size:14})})]}),ct.jsx(LT,{editor:o,className:"bg-white"}),o&&ct.jsx(Ez,{editor:o,isOpen:s,onClose:()=>i(!1)})]})},Mz=({data:e,onChange:t,preview:n=!1})=>n?e.content?ct.jsx("div",{className:"my-6",children:ct.jsx("div",{className:"text-lg leading-relaxed prose max-w-none",children:ct.jsx(Gl,{children:e.content})})}):null:ct.jsxs("div",{className:"space-y-4",children:[ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"Texto"}),ct.jsx(Az,{content:e.content||"",onChange:e=>((e,n)=>{t&&t({[e]:n})})("content",e),placeholder:"Digite seu texto aqui..."}),ct.jsxs("div",{className:"text-right text-xs text-text-secondary mt-1",children:[e.content?.length||0," caracteres (Markdown)"]})]}),ct.jsxs("div",{className:"text-sm text-text-secondary",children:[ct.jsx("p",{children:"Dicas:"}),ct.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[ct.jsx("li",{children:"Use pargrafos curtos para melhor leitura"}),ct.jsx("li",{children:"Pressione Enter para criar novas linhas"}),ct.jsx("li",{children:"O texto ser formatado automaticamente na visualizao"})]})]})]}),Dz=({data:e,onChange:t,preview:n=!1})=>{const r=(e,n)=>{t&&t({[e]:n})};return n?e.imageUrl?ct.jsxs("div",{className:"my-8",children:[ct.jsx("img",{src:e.imageUrl,alt:e.alt||"",className:"w-full rounded-xl shadow-lg"}),e.caption&&ct.jsx("p",{className:"text-center text-sm text-text-secondary mt-4 italic",children:e.caption})]}):null:ct.jsxs("div",{className:"space-y-4",children:[ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"Imagem"}),ct.jsx(yy,{value:e.imageUrl||"",onChange:e=>r("imageUrl",e),placeholder:"Clique para fazer upload da imagem",aspectRatio:"free"})]}),e.imageUrl&&ct.jsxs(ct.Fragment,{children:[ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"Texto Alternativo (Alt)"}),ct.jsx("input",{type:"text",value:e.alt||"",onChange:e=>r("alt",e.target.value),placeholder:"Descreva a imagem para acessibilidade...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent"})]}),ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"Legenda (opcional)"}),ct.jsx("input",{type:"text",value:e.caption||"",onChange:e=>r("caption",e.target.value),placeholder:"Adicione uma legenda para a imagem...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent"})]})]})]})},Oz=({data:e,onChange:t,preview:n=!1})=>{const r=(e,n)=>{t&&t({[e]:n})};return n?e.imageUrl||e.text?ct.jsxs("div",{className:"my-8 clearfix",children:[e.imageUrl&&ct.jsx("div",{className:"relative w-full md:w-1/3 mb-4 "+("right"===e.align?"md:float-right md:ml-6":"md:float-left md:mr-6"),children:ct.jsx("img",{src:e.imageUrl,alt:e.alt||"",className:"w-full rounded-lg shadow-md"})}),e.text&&ct.jsx("div",{className:"text-lg leading-relaxed prose max-w-none",children:ct.jsx(Gl,{children:e.text})})]}):null:ct.jsxs("div",{className:"space-y-4",children:[ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"Alinhamento"}),ct.jsxs("div",{className:"flex space-x-2",children:[ct.jsxs("button",{onClick:()=>r("align","left"),className:"flex items-center space-x-2 px-4 py-2 rounded-lg border transition-colors "+("left"!==e.align&&e.align?"border-gray-300 hover:border-gray-400":"border-teal-primary bg-teal-50 text-teal-primary"),children:[ct.jsx(be,{className:"w-4 h-4"}),ct.jsx("span",{children:"Esquerda"})]}),ct.jsxs("button",{onClick:()=>r("align","right"),className:"flex items-center space-x-2 px-4 py-2 rounded-lg border transition-colors "+("right"===e.align?"border-teal-primary bg-teal-50 text-teal-primary":"border-gray-300 hover:border-gray-400"),children:[ct.jsx(we,{className:"w-4 h-4"}),ct.jsx("span",{children:"Direita"})]})]})]}),ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"Imagem"}),ct.jsx(yy,{value:e.imageUrl||"",onChange:e=>r("imageUrl",e),placeholder:"Clique para fazer upload da imagem",aspectRatio:"4:3"})]}),e.imageUrl&&ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"Texto Alternativo (Alt)"}),ct.jsx("input",{type:"text",value:e.alt||"",onChange:e=>r("alt",e.target.value),placeholder:"Descreva a imagem para acessibilidade...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent"})]}),ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"Texto"}),ct.jsx(Az,{content:e.text||"",onChange:e=>r("text",e),placeholder:"Digite o texto que acompanhar a imagem..."})]}),ct.jsx("div",{className:"text-sm text-text-secondary",children:ct.jsx("p",{children:"Dica: Este bloco exibe uma imagem ao lado de um texto, ideal para ilustrar contedos."})})]})},Pz=({data:e,onChange:t,preview:n=!1})=>{const r=(e,n)=>{t&&t({[e]:n})},s=e=>{if(!e)return null;const t=[/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\n?#]+)/,/youtube\.com\/embed\/([^&\n?#]+)/];for(const n of t){const t=e.match(n);if(t&&t[1])return t[1]}return null},i=e=>`https://www.youtube.com/embed/${e}`;if(n){const t=s(e.videoUrl);return t?ct.jsxs("div",{className:"my-8",children:[ct.jsx("div",{className:"aspect-video rounded-xl overflow-hidden shadow-lg",children:ct.jsx("iframe",{src:i(t),className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),e.title&&ct.jsx("p",{className:"text-center mt-4 text-lg font-medium text-navy",children:e.title})]}):null}const o=s(e.videoUrl),a=e.videoUrl&&(l=e.videoUrl,null!==s(l));var l;return ct.jsxs("div",{className:"space-y-4",children:[ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"URL do Vdeo (YouTube)"}),ct.jsxs("div",{className:"relative",children:[ct.jsx("input",{type:"url",value:e.videoUrl||"",onChange:e=>r("videoUrl",e.target.value),placeholder:"https://www.youtube.com/watch?v=...",className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent"}),e.videoUrl&&ct.jsx("a",{href:e.videoUrl,target:"_blank",rel:"noopener noreferrer",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-teal-primary hover:text-teal-900",children:ct.jsx(F,{className:"w-4 h-4"})})]}),e.videoUrl&&!a&&ct.jsx("p",{className:"text-sm text-red-500 mt-1",children:"URL invlida. Por favor, insira uma URL vlida do YouTube."})]}),ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"Ttulo do Vdeo (opcional)"}),ct.jsx("input",{type:"text",value:e.title||"",onChange:e=>r("title",e.target.value),placeholder:"Digite um ttulo para o vdeo...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent"})]}),a&&ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"Visualizao"}),ct.jsx("div",{className:"aspect-video rounded-lg overflow-hidden bg-gray-100",children:ct.jsx("iframe",{src:i(o),className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]}),ct.jsxs("div",{className:"text-sm text-text-secondary",children:[ct.jsx("p",{children:"Dicas:"}),ct.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[ct.jsx("li",{children:"Cole a URL completa do vdeo do YouTube"}),ct.jsx("li",{children:"Funciona com URLs do tipo: youtube.com/watch?v=... ou youtu.be/..."}),ct.jsx("li",{children:"O vdeo ser exibido em formato responsivo"})]})]})]})},_z=({data:e,onChange:t,preview:n=!1})=>{const r=(e,n)=>{t&&t({[e]:n})},s=e=>{try{return new URL(e),!0}catch{return!1}};return n?e.text&&e.url?ct.jsx("div",{className:"my-6 text-center",children:ct.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-6 py-3 rounded-lg font-semibold transition-colors "+("primary"===e.style?"bg-teal-primary text-white hover:bg-teal-900":"bg-orange-warm text-white hover:bg-orange-600"),children:e.text})}):null:ct.jsxs("div",{className:"space-y-4",children:[ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"Texto do Boto"}),ct.jsx("input",{type:"text",value:e.text||"",onChange:e=>r("text",e.target.value),placeholder:"Ex: Saiba mais, Leia o artigo completo...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent"})]}),ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"URL do Link"}),ct.jsxs("div",{className:"relative",children:[ct.jsx("input",{type:"url",value:e.url||"",onChange:e=>r("url",e.target.value),placeholder:"https://exemplo.com/pagina",className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent"}),e.url&&s(e.url)&&ct.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-teal-primary hover:text-teal-900",children:ct.jsx(F,{className:"w-4 h-4"})})]}),e.url&&!s(e.url)&&ct.jsx("p",{className:"text-sm text-red-500 mt-1",children:"URL invlida. Por favor, insira uma URL completa (https://...)."})]}),ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"Estilo do Boto"}),ct.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[ct.jsx("button",{onClick:()=>r("style","primary"),className:"p-4 rounded-lg border-2 transition-colors "+("primary"!==e.style&&e.style?"border-gray-200 hover:border-gray-300":"border-teal-primary bg-teal-50"),children:ct.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[ct.jsx("div",{className:"w-full px-4 py-2 bg-teal-primary text-white rounded text-center text-sm",children:"Primrio"}),ct.jsx("span",{className:"text-xs text-text-secondary",children:"Cor principal do site"})]})}),ct.jsx("button",{onClick:()=>r("style","secondary"),className:"p-4 rounded-lg border-2 transition-colors "+("secondary"===e.style?"border-orange-warm bg-orange-50":"border-gray-200 hover:border-gray-300"),children:ct.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[ct.jsx("div",{className:"w-full px-4 py-2 bg-orange-warm text-white rounded text-center text-sm",children:"Secundrio"}),ct.jsx("span",{className:"text-xs text-text-secondary",children:"Cor de destaque"})]})})]})]}),e.text&&e.url&&s(e.url)&&ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"Visualizao"}),ct.jsx("div",{className:"p-4 bg-gray-50 rounded-lg text-center",children:ct.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-6 py-3 rounded-lg font-semibold transition-colors "+("secondary"===e.style?"bg-orange-warm text-white hover:bg-orange-600":"bg-teal-primary text-white hover:bg-teal-900"),children:e.text})})]}),ct.jsxs("div",{className:"text-sm text-text-secondary",children:[ct.jsx("p",{children:"Dicas:"}),ct.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[ct.jsx("li",{children:"Use textos curtos e claros para melhor converso"}),ct.jsx("li",{children:"Links externos abriro em nova aba"}),ct.jsx("li",{children:"Escolha o estilo que combina melhor com seu contedo"})]})]})]})},Iz=({data:e,onChange:t,preview:n=!1})=>{const r=(e,n)=>{t&&t({[e]:n})},s=e=>{try{return new URL(e),!0}catch{return!1}};return n?e.imageUrl&&e.linkUrl?ct.jsx("div",{className:"my-6",children:ct.jsxs("a",{href:e.linkUrl,target:"_blank",rel:"noopener noreferrer",className:"block group",children:[ct.jsxs("div",{className:"relative overflow-hidden rounded-lg shadow-md group-hover:shadow-lg transition-shadow",children:[ct.jsx("img",{src:e.imageUrl,alt:e.alt||"",className:"w-full h-auto object-cover transition-transform group-hover:scale-105"}),e.showOverlay&&ct.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:ct.jsxs("div",{className:"text-white text-center",children:[ct.jsx(F,{className:"w-8 h-8 mx-auto mb-2"}),ct.jsx("p",{className:"text-sm font-medium",children:"Clique para visitar"})]})})]}),e.caption&&ct.jsx("p",{className:"text-sm text-gray-600 mt-2 text-center italic",children:e.caption})]})}):null:ct.jsxs("div",{className:"space-y-4",children:[ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"Imagem"}),ct.jsx(yy,{value:e.imageUrl||"",onChange:e=>r("imageUrl",e),placeholder:"Clique para fazer upload da imagem",aspectRatio:"free"}),e.imageUrl&&!s(e.imageUrl)&&ct.jsx("p",{className:"text-sm text-red-500 mt-1",children:"URL da imagem invlida."})]}),ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"URL do Link"}),ct.jsxs("div",{className:"relative",children:[ct.jsx("input",{type:"url",value:e.linkUrl||"",onChange:e=>r("linkUrl",e.target.value),placeholder:"https://exemplo.com/pagina",className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent"}),e.linkUrl&&s(e.linkUrl)&&ct.jsx("a",{href:e.linkUrl,target:"_blank",rel:"noopener noreferrer",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-teal-primary hover:text-teal-900",children:ct.jsx(F,{className:"w-4 h-4"})})]}),e.linkUrl&&!s(e.linkUrl)&&ct.jsx("p",{className:"text-sm text-red-500 mt-1",children:"URL do link invlida."})]}),ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"Texto Alternativo (Alt)"}),ct.jsx("input",{type:"text",value:e.alt||"",onChange:e=>r("alt",e.target.value),placeholder:"Descrio da imagem para acessibilidade",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent"})]}),ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"Legenda (opcional)"}),ct.jsx("input",{type:"text",value:e.caption||"",onChange:e=>r("caption",e.target.value),placeholder:"Legenda que aparecer abaixo da imagem",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent"})]}),ct.jsxs("div",{className:"flex items-center",children:[ct.jsx("input",{type:"checkbox",id:"showOverlay",checked:e.showOverlay||!1,onChange:e=>r("showOverlay",e.target.checked),className:"w-4 h-4 text-teal-primary border-gray-300 rounded focus:ring-teal-primary"}),ct.jsx("label",{htmlFor:"showOverlay",className:"ml-2 text-sm text-gray-700",children:"Mostrar overlay ao passar o mouse"})]}),e.imageUrl&&e.linkUrl&&s(e.imageUrl)&&s(e.linkUrl)&&ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"Visualizao"}),ct.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:ct.jsxs("a",{href:e.linkUrl,target:"_blank",rel:"noopener noreferrer",className:"block group",children:[ct.jsxs("div",{className:"relative overflow-hidden rounded-lg shadow-md group-hover:shadow-lg transition-shadow",children:[ct.jsx("img",{src:e.imageUrl,alt:e.alt||"",className:"w-full h-48 object-cover transition-transform group-hover:scale-105"}),e.showOverlay&&ct.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:ct.jsxs("div",{className:"text-white text-center",children:[ct.jsx(F,{className:"w-6 h-6 mx-auto mb-1"}),ct.jsx("p",{className:"text-xs",children:"Clique para visitar"})]})})]}),e.caption&&ct.jsx("p",{className:"text-sm text-gray-600 mt-2 text-center italic",children:e.caption})]})})]}),ct.jsxs("div",{className:"text-sm text-text-secondary",children:[ct.jsx("p",{children:"Dicas:"}),ct.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[ct.jsx("li",{children:"Use o upload para enviar imagens diretamente para o servidor"}),ct.jsx("li",{children:"Use imagens de boa qualidade e otimizadas para web"}),ct.jsx("li",{children:"O texto alternativo  importante para acessibilidade"}),ct.jsx("li",{children:"O overlay ajuda a indicar que a imagem  clicvel"}),ct.jsx("li",{children:"Links externos abriro em nova aba"})]})]})]})},Lz=({data:e,onChange:t,preview:n=!1})=>{const[s,i]=r.useState(0),o=(e,n)=>{t&&t({[e]:n})},a=(t,n,r)=>{const s=[...e.images||[]];s[t]={...s[t],[n]:r},o("images",s)},l=()=>{const t=[...e.images||[]];t.push({url:"",alt:"",caption:"",link:""}),o("images",t)},c=()=>{const t=e.images?.length||0;i(e=>(e+1)%t)},d=()=>{const t=e.images?.length||0;i(e=>(e-1+t)%t)},u=e=>{try{return new URL(e),!0}catch{return!1}};if(n){const t=e.images?.filter(e=>e.url&&u(e.url))||[];return 0===t.length?null:ct.jsx("div",{className:"my-6",children:ct.jsxs("div",{className:"relative overflow-hidden rounded-lg shadow-md",children:[ct.jsx("div",{className:"relative h-96",children:t.map((e,t)=>ct.jsx("div",{className:"absolute inset-0 transition-opacity duration-500 "+(t===s?"opacity-100":"opacity-0"),children:e.link?ct.jsx("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"block w-full h-full",children:ct.jsx("img",{src:e.url,alt:e.alt||"",className:"w-full h-full object-cover"})}):ct.jsx("img",{src:e.url,alt:e.alt||"",className:"w-full h-full object-cover"})},t))}),t.length>1&&ct.jsxs(ct.Fragment,{children:[ct.jsx("button",{onClick:d,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 transition-colors",children:ct.jsx(R,{className:"w-5 h-5"})}),ct.jsx("button",{onClick:c,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 transition-colors",children:ct.jsx(N,{className:"w-5 h-5"})})]}),t.length>1&&ct.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2",children:t.map((e,t)=>ct.jsx("button",{onClick:()=>i(t),className:"w-2 h-2 rounded-full transition-colors "+(t===s?"bg-white":"bg-white bg-opacity-50")},t))}),t[s]?.caption&&ct.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-4",children:ct.jsx("p",{className:"text-white text-sm",children:t[s].caption})})]})})}const h=e.images||[];return ct.jsxs("div",{className:"space-y-4",children:[ct.jsxs("div",{className:"flex items-center justify-between",children:[ct.jsx("label",{className:"block text-sm font-medium text-navy",children:"Imagens do Carrossel"}),ct.jsxs("button",{onClick:l,className:"flex items-center space-x-1 px-3 py-1 bg-teal-primary text-white rounded-lg hover:bg-teal-900 transition-colors",children:[ct.jsx(ie,{className:"w-4 h-4"}),ct.jsx("span",{children:"Adicionar Imagem"})]})]}),0===h.length?ct.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[ct.jsx(ke,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),ct.jsx("p",{className:"text-gray-600 mb-4",children:"Nenhuma imagem no carrossel"}),ct.jsx("button",{onClick:l,className:"px-4 py-2 bg-teal-primary text-white rounded-lg hover:bg-teal-900 transition-colors",children:"Adicionar Primeira Imagem"})]}):ct.jsx("div",{className:"space-y-4",children:h.map((t,n)=>ct.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[ct.jsxs("div",{className:"flex items-center justify-between mb-4",children:[ct.jsxs("h4",{className:"font-medium text-navy",children:["Imagem ",n+1]}),ct.jsx("button",{onClick:()=>(t=>{const n=[...e.images||[]];n.splice(t,1),o("images",n),s>=n.length&&s>0&&i(s-1)})(n),className:"text-red-500 hover:text-red-700 transition-colors",children:ct.jsx(ee,{className:"w-4 h-4"})})]}),ct.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"Imagem"}),ct.jsx(yy,{value:t.url||"",onChange:e=>a(n,"url",e),placeholder:"Clique para fazer upload da imagem",aspectRatio:"free"}),t.url&&!u(t.url)&&ct.jsx("p",{className:"text-sm text-red-500 mt-1",children:"URL invlida."})]}),ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"Link (opcional)"}),ct.jsxs("div",{className:"relative",children:[ct.jsx("input",{type:"url",value:t.link||"",onChange:e=>a(n,"link",e.target.value),placeholder:"https://exemplo.com/pagina",className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent"}),t.link&&u(t.link)&&ct.jsx("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-teal-primary hover:text-teal-900",children:ct.jsx(F,{className:"w-4 h-4"})})]})]}),ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"Texto Alternativo"}),ct.jsx("input",{type:"text",value:t.alt||"",onChange:e=>a(n,"alt",e.target.value),placeholder:"Descrio para acessibilidade",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent"})]}),ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"Legenda"}),ct.jsx("input",{type:"text",value:t.caption||"",onChange:e=>a(n,"caption",e.target.value),placeholder:"Legenda da imagem",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent"})]})]}),t.url&&u(t.url)&&ct.jsxs("div",{className:"mt-4",children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"Visualizao"}),ct.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[t.link?ct.jsx("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"block",children:ct.jsx("img",{src:t.url,alt:t.alt||"",className:"w-full h-32 object-cover"})}):ct.jsx("img",{src:t.url,alt:t.alt||"",className:"w-full h-32 object-cover"}),t.caption&&ct.jsx("p",{className:"text-sm text-gray-600 p-2 bg-gray-50 italic",children:t.caption})]})]})]},n))}),ct.jsxs("div",{className:"text-sm text-text-secondary",children:[ct.jsx("p",{children:"Dicas:"}),ct.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[ct.jsx("li",{children:"Adicione vrias imagens para criar um carrossel dinmico"}),ct.jsx("li",{children:"Use imagens com propores similares para melhor visualizao"}),ct.jsx("li",{children:"Links opcionais permitem que cada imagem seja clicvel"}),ct.jsx("li",{children:"Legendas aparecem na parte inferior das imagens"}),ct.jsx("li",{children:"O carrossel  responsivo e funciona em todos os dispositivos"})]})]})]})},Rz=({data:e,onChange:t,preview:n=!1})=>{const r=(e,n)=>{t&&t({[e]:n})};return n?e.code?ct.jsx("div",{className:"my-8",children:ct.jsx("div",{className:"p-4 bg-gray-100 rounded-lg text-center",children:ct.jsx("div",{dangerouslySetInnerHTML:{__html:e.code}})})}):null:ct.jsxs("div",{className:"space-y-4",children:[ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"Tipo de Anncio"}),ct.jsxs("select",{value:e.type||"adsense",onChange:e=>r("type",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent",children:[ct.jsx("option",{value:"adsense",children:"Google AdSense"}),ct.jsx("option",{value:"custom",children:"Cdigo Personalizado"}),ct.jsx("option",{value:"affiliate",children:"Afiliado"}),ct.jsx("option",{value:"banner",children:"Banner Simples"})]})]}),ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"Cdigo do Anncio"}),ct.jsxs("div",{className:"relative",children:[ct.jsx(je,{className:"absolute left-3 top-3 w-4 h-4 text-text-secondary"}),ct.jsx("textarea",{value:e.code||"",onChange:e=>r("code",e.target.value),placeholder:'\x3c!-- Cole o cdigo do anncio aqui --\x3e\n<ins class="adsbygoogle"\n     style="display:block"\n     data-ad-client="ca-pub-XXXXXXXXXXXXXXXX"\n     data-ad-slot="XXXXXXXXXX"\n     data-ad-format="auto"\n     data-full-width-responsive="true"></ins>\n<script>\n     (adsbygoogle = window.adsbygoogle || []).push({});\n<\/script>',rows:8,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent resize-none font-mono text-sm"})]}),ct.jsxs("div",{className:"text-right text-xs text-text-secondary mt-1",children:[e.code?.length||0," caracteres"]})]}),e.code&&ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"Visualizao"}),ct.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[ct.jsxs("div",{className:"text-center text-text-secondary mb-2",children:[ct.jsx(E,{className:"w-8 h-8 mx-auto mb-2"}),ct.jsx("p",{className:"text-sm",children:"rea do Anncio"})]}),ct.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded p-4 min-h-[100px] flex items-center justify-center",children:ct.jsx("span",{className:"text-xs text-text-secondary",children:"O cdigo do anncio ser renderizado aqui"})})]})]}),ct.jsxs("div",{className:"text-sm text-text-secondary",children:[ct.jsx("p",{children:"Dicas:"}),ct.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[ct.jsx("li",{children:"Cole o cdigo completo do AdSense ou outra rede de anncios"}),ct.jsx("li",{children:"Para banners simples, voc pode usar tags HTML bsicas"}),ct.jsx("li",{children:"Teste o cdigo antes de publicar para garantir que funcione corretamente"}),ct.jsx("li",{children:"Respeite as polticas das redes de anncios"})]})]}),ct.jsxs("div",{className:"text-sm text-text-secondary",children:[ct.jsx("p",{className:"font-medium mb-2",children:"Exemplos:"}),ct.jsxs("div",{className:"space-y-2",children:[ct.jsxs("details",{className:"bg-gray-50 rounded p-3",children:[ct.jsx("summary",{className:"cursor-pointer font-medium",children:"Banner Simples"}),ct.jsx("pre",{className:"mt-2 text-xs bg-white p-2 rounded border overflow-x-auto",children:'<a href="https://exemplo.com" target="_blank">\n  <img src="https://exemplo.com/banner.jpg" alt="Banner" />\n</a>'})]}),ct.jsxs("details",{className:"bg-gray-50 rounded p-3",children:[ct.jsx("summary",{className:"cursor-pointer font-medium",children:"HTML Personalizado"}),ct.jsx("pre",{className:"mt-2 text-xs bg-white p-2 rounded border overflow-x-auto",children:'<div class="ad-banner">\n  <h3>Patrocinado</h3>\n  <p>Contedo do anncio aqui</p>\n  <a href="#" class="cta-button">Saiba mais</a>\n</div>'})]})]})]})]})},zz=({value:e,onChange:t,preview:n=!1})=>{const[s,i]=r.useState(e||[]),[o,a]=r.useState(n),l=Ue(We(et),We(Qe,{coordinateGetter:Ze})),c=r.useCallback(e=>{i(e),t(e)},[t]),d=e=>{const t={id:`block_${Date.now()}`,type:e,data:h(e)};c([...s,t])},u=(e,t)=>{c(s.map(n=>n.id===e?{...n,data:{...n.data,...t}}:n))},h=e=>{switch(e){case"capa":return{title:"",imageUrl:"",alt:"",showInBody:!0};case"text":return{content:""};case"fullImage":return{imageUrl:"",alt:"",caption:""};case"imageText":return{imageUrl:"",alt:"",text:"",align:"left"};case"video":return{videoUrl:"",title:""};case"button":return{text:"",url:"",style:"primary"};case"imagemComLink":return{imageUrl:"",linkUrl:"",alt:"",caption:"",showOverlay:!0};case"carousel":return{images:[]};case"ad":return{code:"",type:"adsense"};default:return{}}},p=[{type:"text",label:"Texto",icon:Ne,description:"Adicionar bloco de texto"},{type:"capa",label:"Capa",icon:ke,description:"Imagem de capa com ttulo"},{type:"fullImage",label:"Imagem",icon:ke,description:"Imagem em tamanho completo"},{type:"imagemComLink",label:"Imagem com Link",icon:pe,description:"Imagem clicvel com link"},{type:"imageText",label:"Imagem + Texto",icon:ke,description:"Imagem ao lado do texto"},{type:"carousel",label:"Carrossel",icon:ke,description:"Carrossel de mltiplas imagens"},{type:"video",label:"Vdeo",icon:Ce,description:"Vdeo do YouTube"},{type:"button",label:"Boto",icon:pe,description:"Boto de chamada para ao"},{type:"ad",label:"Anncio",icon:E,description:"Bloco de anncio"}],m=e=>{const t={capa:vy,text:Mz,fullImage:Dz,imagemComLink:Iz,imageText:Oz,carousel:Lz,video:Pz,button:_z,ad:Rz}[e.type];return t?o?ct.jsx(t,{data:e.data,preview:!0},e.id):ct.jsx(Fz,{block:e,onUpdate:t=>u(e.id,t),onRemove:()=>{return t=e.id,void c(s.filter(e=>e.id!==t));var t},onDuplicate:()=>(e=>{const t=s.find(t=>t.id===e);if(t){const e={...t,id:`block_${Date.now()}`,data:{...t.data}};c([...s,e])}})(e.id),children:ct.jsx(t,{data:e.data,onChange:t=>u(e.id,t)})},e.id):null};return o?ct.jsxs("div",{className:"space-y-6",children:[ct.jsxs("div",{className:"flex items-center justify-between mb-6",children:[ct.jsx("h3",{className:"text-lg font-semibold text-navy",children:"Visualizao"}),ct.jsxs("button",{onClick:()=>a(!1),className:"btn-outline flex items-center space-x-2",children:[ct.jsx(Q,{className:"w-4 h-4"}),ct.jsx("span",{children:"Editar"})]})]}),s.map(m),0===s.length&&ct.jsx("div",{className:"text-center py-12 text-text-secondary",children:ct.jsx("p",{children:"Nenhum contedo adicionado ainda."})})]}):ct.jsxs("div",{className:"space-y-6",children:[ct.jsxs("div",{className:"flex items-center justify-between mb-6",children:[ct.jsx("h3",{className:"text-lg font-semibold text-navy",children:"Editor de Contedo"}),ct.jsx("div",{className:"flex items-center space-x-2",children:ct.jsxs("button",{onClick:()=>a(!0),className:"btn-outline flex items-center space-x-2",children:[ct.jsx(y,{className:"w-4 h-4"}),ct.jsx("span",{children:"Visualizar"})]})})]}),ct.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[ct.jsx("h4",{className:"text-sm font-medium text-navy mb-3",children:"Adicionar Bloco"}),ct.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-2",children:p.map(({type:e,label:t,icon:n})=>ct.jsxs("button",{onClick:()=>d(e),className:"flex flex-col items-center justify-center p-3 bg-white border border-gray-200 rounded-lg hover:border-teal-primary hover:bg-teal-50 transition-colors",children:[ct.jsx(n,{className:"w-5 h-5 text-teal-primary mb-1"}),ct.jsx("span",{className:"text-xs font-medium text-navy",children:t})]},e))})]}),s.length>0?ct.jsx(Ge,{sensors:l,collisionDetection:Ke,onDragEnd:e=>{const{active:t,over:n}=e;if(t.id!==n.id){const e=s.findIndex(e=>e.id===t.id),r=s.findIndex(e=>e.id===n.id);c(Xe(s,e,r))}},children:ct.jsx(Je,{items:s.map(e=>e.id),strategy:Ye,children:ct.jsx("div",{className:"space-y-4",children:s.map(m)})})}):ct.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[ct.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:ct.jsx(ie,{className:"w-8 h-8 text-gray-400"})}),ct.jsx("h3",{className:"text-lg font-medium text-navy mb-2",children:"Nenhum bloco adicionado"}),ct.jsx("p",{className:"text-text-secondary mb-4",children:"Comece adicionando blocos para construir sua matria."}),ct.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:p.slice(0,3).map(({type:e,label:t,icon:n})=>ct.jsxs("button",{onClick:()=>d(e),className:"btn-primary flex items-center space-x-2",children:[ct.jsx(n,{className:"w-4 h-4"}),ct.jsxs("span",{children:["Adicionar ",t]})]},e))})]})]})},Fz=({block:e,onUpdate:t,onRemove:n,onDuplicate:r,children:s})=>{const{attributes:i,listeners:o,setNodeRef:a,transform:l,transition:c,isDragging:d}=tt({id:e.id}),u={transform:nt.Transform.toString(l),transition:c,opacity:d?.5:1};return ct.jsxs("div",{ref:a,style:u,className:"bg-white border border-gray-200 rounded-lg overflow-hidden "+(d?"shadow-lg":"shadow-sm"),children:[ct.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-gray-50 border-b border-gray-200",children:[ct.jsxs("div",{className:"flex items-center space-x-3",children:[ct.jsx("button",{...i,...o,className:"p-1 hover:bg-gray-200 rounded transition-colors cursor-grab active:cursor-grabbing",children:ct.jsx(Se,{className:"w-4 h-4 text-text-secondary"})}),ct.jsx("span",{className:"text-sm font-medium text-navy",children:(h=e.type,{capa:"Capa",text:"Texto",fullImage:"Imagem",imageText:"Imagem + Texto",video:"Vdeo",button:"Boto",ad:"Anncio"}[h]||h)})]}),ct.jsxs("div",{className:"flex items-center space-x-1",children:[ct.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-200 rounded transition-colors",title:"Duplicar bloco",children:ct.jsx(ie,{className:"w-4 h-4 text-text-secondary"})}),ct.jsx("button",{onClick:n,className:"p-1 hover:bg-red-50 rounded transition-colors",title:"Remover bloco",children:ct.jsx(ee,{className:"w-4 h-4 text-red-500"})})]})]}),ct.jsx("div",{className:"p-4",children:s})]});var h},Bz=()=>{const{id:e}=a(),t=c(),n=i(),s=n.state?.returnPage||1,o=Boolean(e),{user:l}=dy(),[d,u]=r.useState(!1),[h,p]=r.useState(!1),[m,f]=r.useState(null),[g,x]=r.useState(!1),[y,v]=r.useState(""),[b,w]=r.useState(!1),[k,j]=r.useState({title:"",excerpt:"",content:JSON.stringify([]),category:"",author:"",image:"",featured:!1,urgent:!1,status:"draft",slug:"",tags:[],meta_title:"",meta_description:"",meta_keywords:""}),[N]=r.useState(["Poltica","Economia","Sociedade","Esportes","Cultura","MPSC","Tecnologia","Sade","Educao"]);r.useEffect(()=>{o&&C()},[e]),r.useEffect(()=>{if(g&&!h&&"draft"===k.status&&k.title){const e=setTimeout(()=>{E(!1,!0)},3e4);return()=>clearTimeout(e)}},[k,g,h]),r.useEffect(()=>{const e=e=>{g&&(e.preventDefault(),e.returnValue="")};return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)},[g]);const C=async()=>{try{u(!0);const{data:n,error:r}=await rs.from("posts").select("*").eq("id",e).single();if(r)throw r;let s="[]";if(n.content)try{const e=JSON.parse(n.content);s=JSON.stringify(e)}catch(t){console.error("Invalid content JSON in database:",t),console.error("Content that failed:",n.content),s="[]"}j({...n,content:s,tags:n.tags||[]}),v((n.tags||[]).join(", ")),f(new Date(n.updated_at))}catch(cR){console.error("Error fetching post:",cR),A.error("Erro ao carregar matria")}finally{u(!1)}},S=(e,t)=>{if(j(n=>({...n,[e]:t})),x(!0),"title"===e&&!o){const e=((e,t=[])=>{let n=Hr(e,{lower:!0,strict:!0,locale:"pt",remove:/[*+~.()'"!:@]/g}),r=n,s=1;for(;t.includes(r);)r=`${n}-${s}`,s++;return r})(t);j(t=>({...t,slug:e}))}},E=async(n=!1,r=!1)=>{if((()=>{if(!k.title.trim())return A.error("O ttulo  obrigatrio"),!1;if(!k.excerpt.trim())return A.error("O resumo  obrigatrio"),!1;if(!k.category)return A.error("A categoria  obrigatria"),!1;if(!k.author.trim())return!0;try{const e=JSON.parse(k.content||"[]");if(!Array.isArray(e)||0===e.length)return A.error("Adicione pelo menos um bloco de contedo"),!1}catch(cR){return A.error("O contedo est em formato invlido"),!1}return!0})())if(l)try{p(!0);const i=k.meta_title||k.title.substring(0,60),a=k.meta_description||k.excerpt.substring(0,160),l=k.meta_keywords||(k.tags&&k.tags.length>0?k.tags.join(", "):k.category),c={...k,meta_title:i,meta_description:a,meta_keywords:l,status:n?"published":"draft",date:k.date||(new Date).toISOString(),updated_at:(new Date).toISOString()};let d;if(d=o?await rs.from("posts").update(c).eq("id",e).select().single():await rs.from("posts").insert(c).select().single(),d.error){if("23505"!==d.error.code||!d.error.message?.includes("slug"))throw d.error;{const t=`${c.slug}-${Date.now()}`;r||A.success("Ttulo duplicado detectado. A URL foi ajustada automaticamente.",{icon:""});const n={...c,slug:t};if(d=o?await rs.from("posts").update(n).eq("id",e).select().single():await rs.from("posts").insert(n).select().single(),d.error)throw d.error}}f(new Date),x(!1),r?!o&&d.data?.id&&(window.history.replaceState(null,"",`/admin/posts/edit/${d.data.id}`),t(`/admin/posts/edit/${d.data.id}`,{replace:!0,state:{returnPage:s}})):(A.success(`Matria ${e?"atualizada":"criada"} com sucesso!`),t(`/admin/posts?page=${s}`,{state:{refresh:Date.now()}}))}catch(cR){console.error("Error saving post:",cR),r||A.error("Erro ao salvar matria: "+(cR.message||"Erro desconhecido"))}finally{p(!1)}else r||(A.error("Voc precisa estar autenticado para salvar matrias"),t("/login"))};return d?ct.jsx("div",{className:"min-h-screen flex items-center justify-center",children:ct.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-primary"})}):ct.jsxs(ct.Fragment,{children:[ct.jsx(hn,{children:ct.jsxs("title",{children:[o?"Editar Matria":"Nova Matria"," - Opine Agora SC"]})}),ct.jsxs("div",{className:"min-h-screen bg-gray-50",children:[ct.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:ct.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:ct.jsxs("div",{className:"flex justify-between items-center py-4",children:[ct.jsxs("div",{children:[ct.jsx("h1",{className:"text-2xl font-bold text-navy",children:e?"Editar Matria":"Nova Matria"}),ct.jsx("p",{className:"text-text-secondary",children:"published"===k.status?"Publicado":"Rascunho"})]}),ct.jsxs("div",{className:"flex items-center space-x-2",children:[ct.jsx("div",{className:"flex flex-col items-end mr-4",children:ct.jsx("p",{className:"text-xs text-text-secondary",children:h?"Salvando...":m?`Salvo s ${$e(m,"HH:mm",{locale:Yr})}`:"Rascunho no salvo"})}),ct.jsxs("button",{onClick:()=>{g?E(!1,!1):t(`/admin/posts?page=${s}`)},className:"btn-outline flex items-center space-x-2",children:[ct.jsx(I,{className:"w-4 h-4"}),ct.jsx("span",{children:"Voltar"})]}),ct.jsxs("button",{onClick:()=>E(!1),disabled:h,className:"btn-secondary flex items-center space-x-2 disabled:opacity-50",children:[ct.jsx(Ee,{className:"w-4 h-4"}),ct.jsx("span",{children:h?"Salvando...":"Salvar Rascunho"})]}),ct.jsxs("button",{onClick:()=>E(!0),disabled:h,className:"btn-primary flex items-center space-x-2 disabled:opacity-50",children:[ct.jsx(K,{className:"w-4 h-4"}),ct.jsx("span",{children:h?"Publicando...":"Publicar"})]})]})]})})}),ct.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:ct.jsxs("div",{className:"space-y-8",children:[ct.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[ct.jsxs("h2",{className:"text-lg font-semibold text-navy mb-6 flex items-center space-x-2",children:[ct.jsx(Y,{className:"w-5 h-5"}),ct.jsx("span",{children:"Informaes Bsicas"})]}),ct.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[ct.jsxs("div",{className:"md:col-span-2",children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"Ttulo *"}),ct.jsx("input",{type:"text",value:k.title,onChange:e=>S("title",e.target.value),placeholder:"Digite o ttulo da matria...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent"})]}),ct.jsxs("div",{className:"md:col-span-2",children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"Resumo *"}),ct.jsx("textarea",{value:k.excerpt,onChange:e=>S("excerpt",e.target.value),placeholder:"Digite um resumo da matria (ser exibido na listagem)...",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent resize-none"})]}),ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"Categoria *"}),ct.jsxs("select",{value:k.category,onChange:e=>S("category",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent",children:[ct.jsx("option",{value:"",children:"Selecione uma categoria"}),N.map(e=>ct.jsx("option",{value:e,children:e},e))]})]}),ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"Autor *"}),ct.jsx("input",{type:"text",value:k.author,onChange:e=>S("author",e.target.value),placeholder:"Nome do autor...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent"})]}),ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"URL Amigvel (Slug)"}),ct.jsx("input",{type:"text",value:k.slug,onChange:e=>S("slug",e.target.value),placeholder:"url-amigavel-da-materia",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent"})]}),ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"Tags"}),ct.jsx("input",{type:"text",value:y,onChange:e=>(e=>{v(e);const t=e.split(",").map(e=>e.trim()).filter(Boolean);S("tags",t)})(e.target.value),placeholder:"tag1, tag2, tag3",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent"}),ct.jsx("p",{className:"text-xs text-text-secondary mt-1",children:"Separe as tags com vrgula"})]})]})]}),ct.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[ct.jsxs("h2",{className:"text-lg font-semibold text-navy mb-6 flex items-center space-x-2",children:[ct.jsx(ke,{className:"w-5 h-5"}),ct.jsx("span",{children:"Imagem Destaque"})]}),ct.jsx(yy,{value:k.image||"",onChange:e=>S("image",e),placeholder:"Clique para fazer upload da imagem destaque",aspectRatio:"16:9"})]}),ct.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:ct.jsx(zz,{value:k.content?(()=>{try{return JSON.parse(k.content)}catch(cR){return console.error("Error parsing content JSON:",cR),[]}})():[],onChange:e=>S("content",JSON.stringify(e))})}),ct.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[ct.jsxs("button",{onClick:()=>w(!b),className:"w-full flex items-center justify-between text-lg font-semibold text-navy mb-2 focus:outline-none",children:[ct.jsxs("div",{className:"flex items-center space-x-2",children:[ct.jsx(K,{className:"w-5 h-5"}),ct.jsx("span",{children:"Configuraes de SEO (Opcional)"})]}),b?ct.jsx(le,{className:"w-5 h-5 text-teal-primary"}):ct.jsx(ce,{className:"w-5 h-5 text-gray-400"})]}),b&&ct.jsxs("div",{className:"space-y-6 mt-6 border-t pt-6 transition-all duration-300",children:[ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"Meta Ttulo"}),ct.jsx("input",{type:"text",value:k.meta_title||"",onChange:e=>S("meta_title",e.target.value),placeholder:`Padro: ${k.title.substring(0,60)}`,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent"}),ct.jsx("p",{className:"text-xs text-text-secondary mt-1",children:"Ttulo que aparecer nos resultados de busca do Google (Ideal: at 60 caracteres)"})]}),ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"Meta Descrio"}),ct.jsx("textarea",{value:k.meta_description||"",onChange:e=>S("meta_description",e.target.value),placeholder:`Padro: ${k.excerpt.substring(0,160)}`,rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent resize-none"}),ct.jsx("p",{className:"text-xs text-text-secondary mt-1",children:"Resumo que aparecer nos resultados de busca (Ideal: at 160 caracteres)"})]}),ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"Palavras-chave (Keywords)"}),ct.jsx("input",{type:"text",value:k.meta_keywords||"",onChange:e=>S("meta_keywords",e.target.value),placeholder:`Padro: ${k.tags.join(", ")||k.category}`,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent"}),ct.jsx("p",{className:"text-xs text-text-secondary mt-1",children:"Separe com vrgulas (Ex: poltica, eleies, sc)"})]})]}),!b&&ct.jsx("p",{className:"text-sm text-text-secondary",children:"Os campos de SEO sero gerados automaticamente com base no ttulo, resumo e tags se deixados em branco."})]}),ct.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[ct.jsx("h2",{className:"text-lg font-semibold text-navy mb-6",children:"Opes"}),ct.jsxs("div",{className:"space-y-6",children:[ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-navy mb-2",children:"Data de Publicao"}),ct.jsxs("div",{className:"flex items-center gap-2",children:[ct.jsx("input",{type:"datetime-local",value:k.date?new Date(k.date).toISOString().slice(0,16):"",onChange:e=>S("date",new Date(e.target.value).toISOString()),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent"}),k.date&&ct.jsx("button",{type:"button",onClick:()=>S("date",""),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors text-sm font-medium",title:"Limpar data (usar data atual)",children:"Limpar"})]}),ct.jsx("p",{className:"text-xs text-text-secondary mt-1",children:"Se deixado em branco, ser usada a data atual no momento da publicao."})]}),ct.jsxs("div",{className:"flex items-center justify-between",children:[ct.jsxs("div",{children:[ct.jsx("label",{className:"text-sm font-medium text-navy",children:"Matria em Destaque"}),ct.jsx("p",{className:"text-xs text-text-secondary",children:"Ser exibida na pgina inicial"})]}),ct.jsx("button",{onClick:()=>S("featured",!k.featured),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors "+(k.featured?"bg-teal-primary":"bg-gray-200"),children:ct.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform "+(k.featured?"translate-x-6":"translate-x-1")})})]}),ct.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[ct.jsxs("div",{children:[ct.jsxs("label",{className:"text-sm font-medium text-navy flex items-center space-x-2",children:[ct.jsx("span",{children:"Matria Urgente"}),ct.jsxs("span",{className:"relative flex h-2 w-2",children:[ct.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-[hsl(5,55%,48%)] opacity-75"}),ct.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-[hsl(5,55%,48%)]"})]})]}),ct.jsx("p",{className:"text-xs text-text-secondary",children:"Aparecer no ticker de notcias urgentes e na pgina dedicada"})]}),ct.jsx("button",{onClick:()=>S("urgent",!k.urgent),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors "+(k.urgent?"bg-[hsl(5,55%,48%)]":"bg-gray-200"),children:ct.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform "+(k.urgent?"translate-x-6":"translate-x-1")})})]})]})]})]})})]})]})},$z=()=>{const{id:e}=a(),t=c(),n=Boolean(e),[s,i]=r.useState({title:"",slug:"",content:"",category:"banner",link_url:"",image_url:"",status:"approved",fullWidth:!0,start_date:$e(new Date,"yyyy-MM-dd"),end_date:$e(new Date(Date.now()+2592e6),"yyyy-MM-dd")}),[o,l]=r.useState(!1),[d,u]=r.useState(!1);r.useEffect(()=>{n&&h()},[e,n]);const h=async()=>{try{l(!0);const{data:t,error:r}=await rs.from("ads").select("*").eq("id",e).single();if(r)throw r;if(t){let e=!0,r=t.content||"";if("banner"===t.category)try{const n=JSON.parse(t.content);"object"==typeof n&&null!==n&&(e=!1!==n.fullWidth,r="")}catch(n){r=t.content}i({title:t.title||"",slug:t.slug||"",content:r,category:t.category||"banner",link_url:t.link_url||"",image_url:t.image_url||"",status:t.status||"approved",fullWidth:e,start_date:t.start_date?(()=>{const e=new Date(t.start_date);return isNaN(e.getTime())?$e(new Date,"yyyy-MM-dd"):e.toISOString().split("T")[0]})():$e(new Date,"yyyy-MM-dd"),end_date:t.end_date?(()=>{const e=new Date(t.end_date);return isNaN(e.getTime())?$e(new Date(Date.now()+2592e6),"yyyy-MM-dd"):e.toISOString().split("T")[0]})():$e(new Date(Date.now()+2592e6),"yyyy-MM-dd")})}}catch(cR){console.error("Error fetching ad:",cR),A.error("Erro ao carregar anncio"),t("/admin/ads")}finally{l(!1)}},p=e=>{const{name:t,value:n}=e.target;i(e=>({...e,[t]:n})),"title"===t&&i(e=>{return{...e,slug:(t=n,t.toLowerCase().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""))};var t})},m=async(r=!1)=>{if(s.title.trim()?["banner","sidebar"].includes(s.category)||s.content.trim()?s.start_date&&s.end_date?!(new Date(s.start_date)>new Date(s.end_date)&&(A.error("A data de incio deve ser anterior  data de fim"),1)):(A.error("As datas de incio e fim so obrigatrias"),0):(A.error("O contedo  obrigatrio"),0):(A.error("O ttulo  obrigatrio"),0))try{u(!0);const i={...s,status:r?"approved":"draft",updated_at:(new Date).toISOString(),created_at:(new Date).toISOString()};let o;if("banner"===s.category&&(i.content=JSON.stringify({fullWidth:s.fullWidth})),delete i.fullWidth,n?(delete i.created_at,o=await rs.from("ads").update(i).eq("id",e).select().single()):(i.created_at=(new Date).toISOString(),o=await rs.from("ads").insert(i).select().single()),o.error)throw o.error;A.success(r?"Anncio publicado com sucesso!":"Anncio salvo como rascunho!"),t("/admin/ads")}catch(cR){console.error("Error saving ad:",cR),A.error("Erro ao salvar anncio")}finally{u(!1)}};return ct.jsxs(ct.Fragment,{children:[ct.jsxs(hn,{children:[ct.jsxs("title",{children:[n?"Editar Anncio":"Novo Anncio"," - Opine Agora SC"]}),ct.jsx("meta",{name:"description",content:(n?"Editar":"Criar")+" anncio no portal Opine Agora SC"})]}),ct.jsxs("div",{className:"min-h-screen bg-gray-50",children:[ct.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:ct.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:ct.jsxs("div",{className:"flex justify-between items-center py-4",children:[ct.jsxs("div",{children:[ct.jsx("h1",{className:"text-2xl font-bold text-navy",children:n?"Editar Anncio":"Novo Anncio"}),ct.jsx("p",{className:"text-text-secondary",children:n?"Edite as informaes do anncio":"Preencha as informaes para criar um novo anncio"})]}),ct.jsxs("button",{onClick:()=>t("/admin/ads"),className:"flex items-center space-x-2 text-teal-primary hover:text-teal-900 font-medium px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors",children:[ct.jsx(I,{className:"w-4 h-4"}),ct.jsx("span",{children:"Voltar"})]})]})})}),ct.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:ct.jsx("div",{className:"bg-white rounded-lg shadow-md",children:ct.jsxs("div",{className:"p-6 space-y-6",children:[ct.jsxs("div",{children:[ct.jsx("h2",{className:"text-lg font-semibold text-navy mb-4",children:"Informaes Bsicas"}),ct.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[ct.jsxs("div",{className:"md:col-span-2",children:[ct.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["banner","sidebar"].includes(s.category)?"Texto Alternativo (Alt)":"Ttulo do Anncio *"}),ct.jsx("input",{type:"text",name:"title",value:s.title,onChange:p,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent",placeholder:["banner","sidebar"].includes(s.category)?"Descreva a imagem para acessibilidade":"Ttulo do anncio",required:!0})]}),ct.jsxs("div",{className:"md:col-span-2",children:[ct.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoria"}),ct.jsx("select",{name:"category",value:s.category,onChange:p,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent",children:[{value:"banner",label:"Banner"},{value:"sidebar",label:"Sidebar"},{value:"footer",label:"Footer"},{value:"popup",label:"Popup"}].map(e=>ct.jsx("option",{value:e.value,children:e.label},e.value))})]}),"banner"===s.category&&ct.jsx("div",{className:"md:col-span-2 bg-gray-50 p-4 rounded-lg border border-gray-200",children:ct.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[ct.jsxs("div",{className:"relative",children:[ct.jsx("input",{type:"checkbox",name:"fullWidth",checked:s.fullWidth,onChange:e=>i(t=>({...t,fullWidth:e.target.checked})),className:"sr-only"}),ct.jsx("div",{className:"block w-14 h-8 rounded-full transition-colors "+(s.fullWidth?"bg-teal-primary":"bg-gray-400")}),ct.jsx("div",{className:"dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition-transform "+(s.fullWidth?"transform translate-x-6":"")})]}),ct.jsxs("div",{className:"flex flex-col",children:[ct.jsx("span",{className:"text-sm font-medium text-navy",children:s.fullWidth?"Largura Total (Full Width)":"Alinhado ao Contedo (1200px)"}),ct.jsx("span",{className:"text-xs text-text-secondary",children:s.fullWidth?"O banner ocupar 100% da largura da tela":"O banner ser centralizado e limitado  largura do contedo principal"})]})]})}),!["banner","sidebar"].includes(s.category)&&ct.jsxs("div",{className:"md:col-span-2",children:[ct.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contedo *"}),ct.jsx("textarea",{name:"content",value:s.content,onChange:p,rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent",placeholder:"Contedo do anncio",required:!0})]})]})]}),ct.jsxs("div",{children:[ct.jsx("h2",{className:"text-lg font-semibold text-navy mb-4",children:"Link do Anncio"}),ct.jsx("input",{type:"url",name:"link_url",value:s.link_url,onChange:p,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent",placeholder:"https://exemplo.com/anuncio"})]}),ct.jsxs("div",{children:[ct.jsx("h2",{className:"text-lg font-semibold text-navy mb-4",children:"Imagem do Anncio"}),ct.jsx(yy,{value:s.image_url,onChange:e=>i(t=>({...t,image_url:e})),placeholder:"Clique para fazer upload do banner/imagem",aspectRatio:"free"})]}),ct.jsxs("div",{children:[ct.jsx("h2",{className:"text-lg font-semibold text-navy mb-4",children:"Perodo de Exibio"}),ct.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Incio *"}),ct.jsx("input",{type:"date",name:"start_date",value:s.start_date,onChange:p,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent",required:!0})]}),ct.jsxs("div",{children:[ct.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Fim *"}),ct.jsx("input",{type:"date",name:"end_date",value:s.end_date,onChange:p,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent",required:!0})]})]})]}),ct.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[ct.jsx("button",{onClick:()=>t("/admin/ads"),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),ct.jsxs("div",{className:"flex items-center space-x-4",children:[ct.jsx("button",{onClick:()=>m(!1),disabled:d,className:"px-6 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Salvando...":"Salvar Rascunho"}),ct.jsx("button",{onClick:()=>m(!0),disabled:d,className:"px-6 py-2 bg-teal-primary text-white rounded-lg hover:bg-teal-900 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Publicando...":"Publicar Anncio"})]})]})]})})})]})]})},Vz=()=>{const[e,t]=r.useState(null),[n,s]=r.useState(!0);if(r.useEffect(()=>{const e=async()=>{try{const e=await fetch("https://api.open-meteo.com/v1/forecast?latitude=-27.2313&longitude=-52.0239&current=temperature_2m,weather_code&timezone=America%2FSao_Paulo"),n=await e.json();t(n.current)}catch(cR){console.error("Error fetching weather:",cR)}finally{s(!1)}};e();const n=setInterval(e,18e5);return()=>clearInterval(n)},[]),n||!e)return null;return ct.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 px-3 py-1 rounded-full",children:[ct.jsx("span",{className:"text-sm font-semibold text-white hidden sm:inline",children:"Concrdia - SC"}),(e=>e<=1?ct.jsx(Ae,{className:"w-5 h-5 text-yellow-400"}):e<=3?ct.jsx(Me,{className:"w-5 h-5 text-gray-300"}):e<=48?ct.jsx(Me,{className:"w-5 h-5 text-gray-400"}):e<=67||e>=80&&e<=82?ct.jsx(De,{className:"w-5 h-5 text-blue-300"}):e>=71&&e<=77?ct.jsx(Oe,{className:"w-5 h-5 text-white"}):e>=95?ct.jsx(Pe,{className:"w-5 h-5 text-yellow-300"}):ct.jsx(Ae,{className:"w-5 h-5 text-yellow-400"}))(e.weather_code),ct.jsxs("span",{className:"text-sm font-bold text-white",children:[Math.round(e.temperature_2m),"C"]})]})},qz=()=>{const[e,t]=r.useState("");return r.useEffect(()=>{const e=$e(new Date,"EEEE, d 'de' MMMM 'de' yyyy",{locale:Yr});t(e.charAt(0).toUpperCase()+e.slice(1))},[]),ct.jsx("div",{className:"bg-navy text-white text-sm py-2 px-0",children:ct.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:ct.jsxs("div",{className:"flex justify-between items-center",children:[ct.jsx("div",{className:"font-semibold text-sm sm:text-base",children:e}),ct.jsx(Vz,{})]})})})},Hz=()=>{const[e,t]=r.useState(!1),[n,s]=r.useState(!1),[a,l]=r.useState(""),{user:d,signOut:u}=dy(),h=i(),p=c(),m=[{name:"Incio",href:"/"},{name:"Eleies",href:"/eleicoes"},{name:"Concrdia",href:"/concordia"},{name:"Sobre",href:"/sobre"},{name:"Categorias",href:"/categoria/todas"}],f=e=>"/"===e?"/"===h.pathname:h.pathname.startsWith(e);return ct.jsxs("header",{className:"shadow-md sticky top-0 z-50 flex flex-col",children:[ct.jsx(qz,{}),ct.jsxs("div",{className:"bg-white",children:[ct.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[ct.jsxs("div",{className:"flex justify-between items-center h-16",children:[ct.jsx(o,{to:"/",className:"flex items-center space-x-3",children:ct.jsxs("div",{className:"flex flex-col items-start",children:[ct.jsxs("div",{className:"flex items-center gap-0.5",children:[ct.jsx("span",{className:"font-montserrat text-xl sm:text-2xl md:text-2xl lg:text-3xl font-black tracking-tight leading-none text-navy",children:"OPINE"}),ct.jsx("span",{className:"font-montserrat text-xl sm:text-2xl md:text-2xl lg:text-3xl font-black tracking-tight leading-none text-orange-600",children:"AGORA"}),ct.jsx("span",{className:"font-montserrat text-xs sm:text-sm font-bold text-navy bg-cream px-1.5 py-0.5 rounded ml-1",children:"SC"})]}),ct.jsx("span",{className:"font-montserrat text-[10px] sm:text-xs text-navy tracking-widest uppercase font-semibold mt-1 block",children:"Opinio com Credibilidade"})]})}),ct.jsx("nav",{className:"hidden md:flex items-center md:space-x-4 lg:space-x-6 xl:space-x-8",children:m.map(e=>ct.jsxs(o,{to:e.href,className:"relative pb-1 md:text-sm lg:text-base xl:text-lg font-bold transition-colors hover:text-orange-600 "+(f(e.href)?"text-orange-600":"text-navy"),children:[e.name,f(e.href)&&ct.jsx("span",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-1/2 h-0.5 bg-orange-600 rounded-full"})]},e.name))}),ct.jsx("div",{className:"hidden md:flex items-center space-x-4",children:ct.jsx("button",{onClick:()=>s(!0),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",title:"Buscar",children:ct.jsx(J,{className:"w-6 h-6 text-text-secondary"})})}),ct.jsxs("div",{className:"md:hidden flex items-center space-x-2",children:[ct.jsx("button",{onClick:()=>s(!0),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Buscar",children:ct.jsx(J,{className:"w-5 h-5 text-text-primary"})}),ct.jsx("button",{onClick:()=>t(!e),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Menu",children:ct.jsx(Te,{className:"w-6 h-6 text-text-primary"})})]})]}),ct.jsxs("div",{className:"fixed inset-0 z-50 md:hidden transition-opacity duration-300 ease-in-out "+(e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"),children:[ct.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>t(!1)}),ct.jsxs("div",{className:"absolute top-0 left-0 bottom-0 w-[280px] bg-white shadow-xl transform transition-transform duration-300 ease-in-out flex flex-col "+(e?"translate-x-0":"-translate-x-full"),children:[ct.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[ct.jsx("div",{className:"flex flex-col items-start",children:ct.jsxs("div",{className:"flex items-center gap-0.5",children:[ct.jsx("span",{className:"font-montserrat text-lg font-black tracking-tight leading-none text-navy",children:"OPINE"}),ct.jsx("span",{className:"font-montserrat text-lg font-black tracking-tight leading-none text-orange-600",children:"AGORA"}),ct.jsx("span",{className:"font-montserrat text-[10px] font-bold text-navy bg-cream px-1 py-0.5 rounded ml-1",children:"SC"})]})}),ct.jsx("button",{onClick:()=>t(!1),className:"p-1 rounded-full hover:bg-gray-100 transition-colors",children:ct.jsx(k,{className:"w-6 h-6 text-text-primary"})})]}),ct.jsxs("div",{className:"flex-1 overflow-y-auto py-4 px-2 space-y-1",children:[m.map(e=>ct.jsx(o,{to:e.href,onClick:()=>t(!1),className:"block px-3 py-3 rounded-md text-base font-semibold transition-colors "+(f(e.href)?"text-orange-600 bg-orange-50":"text-navy hover:bg-gray-50"),children:e.name},e.name)),d&&ct.jsxs(ct.Fragment,{children:[ct.jsx("div",{className:"my-2 border-t border-gray-100"}),ct.jsx(o,{to:"/admin",onClick:()=>t(!1),className:"block px-3 py-3 rounded-md text-base font-medium text-navy hover:bg-gray-50",children:ct.jsxs("div",{className:"flex items-center space-x-3",children:[ct.jsx(g,{className:"w-5 h-5"}),ct.jsx("span",{children:"Painel Admin"})]})}),ct.jsx("button",{onClick:async()=>{try{await u(),t(!1)}catch(cR){console.error("Error signing out:",cR)}},className:"w-full text-left px-3 py-3 rounded-md text-base font-medium text-red-600 hover:bg-red-50",children:ct.jsxs("div",{className:"flex items-center space-x-3",children:[ct.jsx(se,{className:"w-5 h-5"}),ct.jsx("span",{children:"Sair"})]})})]})]}),ct.jsx("div",{className:"p-4 border-t border-gray-100 bg-gray-50",children:ct.jsxs("p",{className:"text-xs text-center text-text-secondary",children:[" ",(new Date).getFullYear()," Opine Agora SC"]})})]})]})]}),n&&ct.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-start justify-center pt-20",onClick:()=>s(!1),children:ct.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4",onClick:e=>e.stopPropagation(),children:ct.jsx("form",{onSubmit:e=>{e.preventDefault(),a.trim()&&(p(`/search?q=${encodeURIComponent(a.trim())}`),s(!1),window.scrollTo(0,0))},className:"p-4",children:ct.jsxs("div",{className:"flex items-center space-x-3",children:[ct.jsx(J,{className:"w-5 h-5 text-text-secondary"}),ct.jsx("input",{type:"text",value:a,onChange:e=>l(e.target.value),placeholder:"Buscar notcias...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-primary focus:border-transparent",autoFocus:!0}),ct.jsx("button",{type:"button",onClick:()=>s(!1),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:ct.jsx(k,{className:"w-5 h-5 text-text-primary"})})]})})})})]}),ct.jsx(ls,{})]})},Uz=()=>ct.jsx("svg",{width:"18",height:"18",fill:"currentColor",viewBox:"0 0 24 24",children:ct.jsx("path",{d:"M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"})}),Wz=({className:e})=>ct.jsx("svg",{className:e,viewBox:"0 0 24 24",fill:"currentColor",children:ct.jsx("path",{d:"M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"})}),Gz=()=>{const e=(new Date).getFullYear(),[t,n]=r.useState(""),[s,i]=r.useState(!1),{addNewsletter:a}=as(),l={principal:[{name:"Incio",href:"/"},{name:"Eleies",href:"/eleicoes"},{name:"Concrdia",href:"/concordia"},{name:"Categorias",href:"/categoria/todas"}],empresa:[{name:"Sobre Ns",href:"/sobre"},{name:"Contato",href:"/contato"},{name:"rea Administrativa",href:"/login"},{name:"Poltica de Privacidade",href:"/politica-privacidade"},{name:"Termos de Uso",href:"/termos-uso"}],contato:[{icon:T,text:"contato@opineagora.com.br",href:"mailto:contato@opineagora.com.br"},{icon:G,text:"(48) 99999-9999",href:"tel:+48999999999"},{icon:B,text:"Concrdia, SC",href:"#"}]},c=[{name:"Facebook",href:"https://www.facebook.com/share/18GTHnk7hp/",icon:L,color:"hover:bg-blue-600"},{name:"Twitter",href:"#",icon:Uz,color:"hover:bg-sky-500"},{name:"Instagram",href:"https://www.instagram.com/opineagorasc.com.br?igsh=MWphcXI0dTNreDlyMw==",icon:_e,color:"hover:bg-pink-600"},{name:"WhatsApp",href:"https://wa.me/554899999999",icon:Wz,color:"hover:bg-green-600"},{name:"Telegram",href:"#",icon:P,color:"hover:bg-blue-500"}];return ct.jsx("footer",{className:"bg-[var(--navy)] text-gray-200",children:ct.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[ct.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[ct.jsx("div",{className:"lg:col-span-1 text-center md:text-left",children:ct.jsxs("div",{className:"flex flex-col items-center md:items-start space-y-4",children:[ct.jsx("div",{className:"flex items-center space-x-3",children:ct.jsx("div",{className:"bg-white rounded-lg p-3 shadow-lg",children:ct.jsxs("div",{className:"flex flex-col items-start",children:[ct.jsxs("div",{className:"flex items-center gap-0.5",children:[ct.jsx("span",{className:"font-montserrat text-xl font-black tracking-tight leading-none text-navy",children:"OPINE"}),ct.jsx("span",{className:"font-montserrat text-xl font-black tracking-tight leading-none text-orange-600",children:"AGORA"}),ct.jsx("span",{className:"font-montserrat text-xs font-bold text-navy bg-cream px-1.5 py-0.5 rounded ml-1",children:"SC"})]}),ct.jsx("span",{className:"font-montserrat text-xs text-navy tracking-widest uppercase font-semibold mt-1 block text-center",children:"Opinio com Credibilidade"})]})})}),ct.jsx("p",{className:"text-gray-200 text-sm leading-relaxed mb-4 font-medium",children:"Portal de notcias de Santa Catarina comprometido com a informao transparente, imparcial e de qualidade para a sociedade catarinense."}),ct.jsx("div",{className:"flex space-x-2",children:c.map(e=>{const t=e.icon;return ct.jsx("a",{href:e.href,className:`w-10 h-10 bg-gray-900 rounded-full flex items-center justify-center transition-colors ${e.color}`,target:"_blank",rel:"noopener noreferrer","aria-label":e.name,children:ct.jsx(t,{className:"w-5 h-5 text-white"})},e.name)})})]})}),ct.jsxs("div",{className:"text-center md:text-left",children:[ct.jsx("h5",{className:"text-sm font-semibold uppercase tracking-wider mb-4 text-teal-300",children:"Navegao"}),ct.jsx("ul",{className:"space-y-2 flex flex-col items-center md:items-start",children:l.principal.map(e=>ct.jsx("li",{children:ct.jsx(o,{to:e.href,className:"text-gray-200 hover:text-orange-600 transition-colors text-sm font-medium focus:outline-none rounded",children:e.name})},e.name))})]}),ct.jsxs("div",{className:"text-center md:text-left",children:[ct.jsx("h5",{className:"text-sm font-semibold uppercase tracking-wider mb-4 text-teal-300",children:"Empresa"}),ct.jsx("ul",{className:"space-y-2 flex flex-col items-center md:items-start",children:l.empresa.map(e=>ct.jsx("li",{children:ct.jsx(o,{to:e.href,className:"text-gray-200 hover:text-orange-600 transition-colors text-sm font-medium focus:outline-none rounded",children:e.name})},e.name))})]}),ct.jsxs("div",{className:"text-center md:text-left",children:[ct.jsx("h5",{className:"text-sm font-semibold uppercase tracking-wider mb-4 text-teal-300",children:"Contato"}),ct.jsx("ul",{className:"space-y-3 flex flex-col items-center md:items-start",children:l.contato.map((e,t)=>{const n=e.icon;return ct.jsx("li",{children:ct.jsxs("a",{href:e.href,className:"flex items-center space-x-2 text-gray-200 hover:text-orange-600 transition-colors text-sm font-medium focus:outline-none",children:[ct.jsx(n,{className:"w-3 h-3 flex-shrink-0"}),ct.jsx("span",{children:e.text})]})},t)})}),ct.jsxs("div",{className:"mt-4 text-center md:text-left",children:[ct.jsx("h5",{className:"text-sm font-semibold mb-2 text-teal-300",children:"Newsletter"}),ct.jsx("p",{className:"text-sm text-gray-200 mb-2 font-medium",children:"Receba as principais notcias no seu e-mail."}),ct.jsxs("form",{className:"flex flex-col items-center md:items-start space-y-2",onSubmit:async e=>{if(e.preventDefault(),!t||!t.trim())return void A.error("Por favor, insira um email vlido.");if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))try{i(!0),await a(t),A.success("Inscrio realizada com sucesso! "),n("")}catch(cR){A.error(cR.message)}finally{i(!1)}else A.error("Por favor, insira um email vlido.")},children:[ct.jsx("div",{className:"w-full relative min-w-0",children:ct.jsx("input",{type:"email",placeholder:"Seu e-mail",value:t,onChange:e=>n(e.target.value),className:"w-full px-3 py-2 bg-white/10 backdrop-blur-md border border-white/20 rounded-lg text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-teal-400 focus:border-transparent text-sm font-medium shadow-lg",required:!0,disabled:s})}),ct.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 bg-teal-500 text-white rounded hover:bg-orange-600 transition-colors text-sm font-semibold disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:s?ct.jsxs(ct.Fragment,{children:[ct.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),ct.jsx("span",{children:"Inscrevendo..."})]}):ct.jsxs(ct.Fragment,{children:[ct.jsx(T,{className:"w-4 h-4"}),ct.jsx("span",{children:"Inscrever-se"})]})})]})]})]})]}),ct.jsx("div",{className:"border-t border-blue-800 mt-6 pt-6",children:ct.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center text-sm text-gray-200 font-medium",children:[ct.jsxs("p",{children:[e," Opine"," ",ct.jsx("span",{className:"text-orange-600",children:"Agora"})," SC. Todos os direitos reservados. | opineagorasc.com.br"]}),ct.jsx("div",{className:"flex items-center space-x-3 mt-2 md:mt-0",children:ct.jsx("span",{children:ct.jsxs("a",{href:"https://www.linkedin.com/in/pedroalves0/",target:"_blank",rel:"noopener noreferrer",children:["Desenvolvido por"," ",ct.jsx("span",{className:"text-orange-600 border-b-2",children:"Pedro Alves"})]})})})]})})]})})},Kz=()=>{const[e,t]=r.useState(!1),n=()=>{window.scrollY>300?t(!0):t(!1)};return r.useEffect(()=>(window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)}),[]),ct.jsx(ct.Fragment,{children:e&&ct.jsx("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"fixed bottom-8 right-8 z-50 p-3 bg-teal-primary text-white rounded-full shadow-lg hover:bg-orange-600 transition-all duration-300 transform hover:scale-110 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 animate-fade-in","aria-label":"Voltar para o topo",children:ct.jsx(Ie,{className:"w-6 h-6"})})})},Jz=({children:e})=>{const{user:t,loading:n}=dy(),s=i();return r.useEffect(()=>{},[t,n,s.pathname]),n?ct.jsx("div",{className:"min-h-screen flex items-center justify-center",children:ct.jsxs("div",{className:"text-center",children:[ct.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-primary mx-auto mb-4"}),ct.jsx("p",{className:"text-gray-600",children:"Carregando..."})]})}):t&&"/login"===s.pathname?ct.jsx(h,{to:"/admin",replace:!0}):e},Yz=({children:e})=>{const{user:t,loading:n}=dy(),r=i();if(n)return ct.jsx("div",{className:"min-h-screen flex items-center justify-center",children:ct.jsxs("div",{className:"text-center",children:[ct.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-primary mx-auto mb-4"}),ct.jsx("p",{className:"text-gray-600",children:"Verificando permisses de administrador..."})]})});if(!t)return ct.jsx(h,{to:"/login",state:{from:r},replace:!0});return"cristiano@opineagorasc.com.br"===t?.email?e:ct.jsx(h,{to:"/login",state:{from:r},replace:!0})};function Xz(){const{loading:e}=dy(),t=i();return(()=>{const e=i();r.useEffect(()=>{"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual"),window.scrollTo(0,0)},[e.pathname])})(),e?ct.jsx("div",{className:"min-h-screen flex items-center justify-center",children:ct.jsxs("div",{className:"text-center",children:[ct.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-primary mx-auto mb-4"}),ct.jsx("p",{className:"text-gray-600",children:"Carregando..."})]})}):ct.jsxs("div",{className:"min-h-screen flex flex-col",children:[ct.jsxs(hn,{children:[ct.jsx("title",{children:"Opine Agora SC - Opinio com Credibilidade | Notcias de Santa Catarina"}),ct.jsx("meta",{name:"description",content:"Portal de notcias de Santa Catarina com foco em informao local, poltica, economia e opinio. Comprometido com a verdade e a transparncia. Opine Agora SC - sua fonte confivel de notcias."}),ct.jsx("meta",{name:"keywords",content:"Opine Agora SC, Opine Agora, notcias Santa Catarina, jornalismo SC, poltica Santa Catarina, economia SC, Concrdia SC, notcias locais, portal de notcias, jornalismo online, opinio com credibilidade, Santa Catarina, SC, notcias em tempo real, poltica catarinense, economia catarinense"}),ct.jsx("meta",{name:"author",content:"Opine Agora SC"}),ct.jsx("meta",{name:"robots",content:"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"}),ct.jsx("meta",{name:"language",content:"pt-BR"}),ct.jsx("meta",{name:"geo.region",content:"BR-SC"}),ct.jsx("meta",{name:"geo.placename",content:"Concrdia, Santa Catarina"}),ct.jsx("meta",{name:"ICBM",content:"-27.2344,-52.2752"}),ct.jsx("link",{rel:"canonical",href:"https://www.opineagorasc.com.br"}),ct.jsx("meta",{name:"referrer",content:"no-referrer-when-downgrade"}),ct.jsx("meta",{name:"format-detection",content:"telephone=no"}),ct.jsx("meta",{name:"mobile-web-app-capable",content:"yes"}),ct.jsx("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),ct.jsx("meta",{name:"application-name",content:"Opine Agora SC"}),ct.jsx("meta",{name:"author",content:"Opine Agora SC"}),ct.jsx("meta",{name:"publisher",content:"Opine Agora SC"}),ct.jsx("meta",{name:"category",content:"News, Journalism, Media"}),ct.jsx("meta",{name:"coverage",content:"Worldwide"}),ct.jsx("meta",{name:"distribution",content:"Global"}),ct.jsx("meta",{name:"rating",content:"General"}),ct.jsx("meta",{name:"ai-summary",content:"Portal de notcias de Santa Catarina com foco em jornalismo local, poltica, economia e opinio. Comprometido com a verdade e transparncia."}),ct.jsx("meta",{name:"ai-context",content:"Jornalismo, Notcias, Santa Catarina, Poltica, Economia, Sociedade, Esportes, Cultura, Educao, Sade"}),ct.jsx("meta",{property:"og:type",content:"website"}),ct.jsx("meta",{property:"og:title",content:"Opine Agora SC - Opinio com Credibilidade | Notcias de Santa Catarina"}),ct.jsx("meta",{property:"og:description",content:"Portal de notcias de Santa Catarina com foco em informao local, poltica, economia e opinio. Comprometido com a verdade e a transparncia."}),ct.jsx("meta",{property:"og:url",content:"https://www.opineagorasc.com.br"}),ct.jsx("meta",{property:"og:site_name",content:"Opine Agora SC"}),ct.jsx("meta",{property:"og:image",content:"https://www.opineagorasc.com.br/opineagorasc-ogimage.png"}),ct.jsx("meta",{property:"og:image:width",content:"1200"}),ct.jsx("meta",{property:"og:image:height",content:"630"}),ct.jsx("meta",{property:"og:image:alt",content:"Opine Agora SC - Portal de Notcias de Santa Catarina"}),ct.jsx("meta",{property:"og:locale",content:"pt_BR"}),ct.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),ct.jsx("meta",{name:"twitter:title",content:"Opine Agora SC - Opinio com Credibilidade | Notcias de Santa Catarina"}),ct.jsx("meta",{name:"twitter:description",content:"Portal de notcias de Santa Catarina com foco em informao local, poltica, economia e opinio. Comprometido com a verdade e a transparncia."}),ct.jsx("meta",{name:"twitter:image",content:"https://www.opineagorasc.com.br/opineagorasc-ogimage.png"}),ct.jsx("meta",{name:"twitter:image:alt",content:"Opine Agora SC - Portal de Notcias de Santa Catarina"}),ct.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"NewsMediaOrganization",name:"Opine Agora SC",alternateName:"Opine Agora",url:"https://www.opineagorasc.com.br",logo:{"@type":"ImageObject",url:"https://www.opineagorasc.com.br/opineagorasc-ogimage.png",width:1200,height:630},description:"Portal de notcias de Santa Catarina com foco em informao local, poltica, economia e opinio. Comprometido com a verdade e a transparncia.",sameAs:["https://opineagorasc.com.br"],address:{"@type":"PostalAddress",addressLocality:"Concrdia",addressRegion:"SC",addressCountry:"BR"},contactPoint:{"@type":"ContactPoint",email:"contato@opineagora.com.br",contactType:"customer service"},areaServed:{"@type":"Place",name:"Santa Catarina, Brazil"},knowsAbout:["Poltica de Santa Catarina","Economia Catarinense","Notcias Locais","Jornalismo Online","Sociedade Catarinense","Esportes em SC","Cultura em Santa Catarina","Educao SC","Sade em Santa Catarina"],makesOffer:[{"@type":"Offer",itemOffered:{"@type":"Service",name:"Notcias e Jornalismo",description:"Contedo jornalstico sobre Santa Catarina"}}]})})]}),ct.jsxs(p,{children:[ct.jsx(m,{path:"/login",element:ct.jsx(Jz,{children:ct.jsx(ay,{})})}),ct.jsx(m,{path:"/admin/*",element:ct.jsx(Yz,{children:ct.jsxs(p,{children:[ct.jsx(m,{path:"/",element:ct.jsx(uy,{})}),ct.jsx(m,{path:"posts",element:ct.jsx(my,{})}),ct.jsx(m,{path:"posts/new",element:ct.jsx(Bz,{})}),ct.jsx(m,{path:"posts/edit/:id",element:ct.jsx(Bz,{})}),ct.jsx(m,{path:"ads",element:ct.jsx(fy,{})}),ct.jsx(m,{path:"ads/new",element:ct.jsx($z,{})}),ct.jsx(m,{path:"ads/edit/:id",element:ct.jsx($z,{})}),ct.jsx(m,{path:"comments",element:ct.jsx(gy,{})}),ct.jsx(m,{path:"newsletters",element:ct.jsx(xy,{})})]})})}),ct.jsx(m,{path:"/*",element:ct.jsxs(ct.Fragment,{children:[ct.jsx(Hz,{}),ct.jsx("main",{className:"flex-1 fade-in",children:ct.jsxs(p,{children:[ct.jsx(m,{path:"/",element:ct.jsx(ms,{})}),ct.jsx(m,{path:"/categoria/:category",element:ct.jsx(lc,{})}),ct.jsx(m,{path:"/eleicoes",element:ct.jsx(cc,{})}),ct.jsx(m,{path:"/concordia",element:ct.jsx(uc,{})}),ct.jsx(m,{path:"/sobre",element:ct.jsx(hc,{})}),ct.jsx(m,{path:"/contato",element:ct.jsx(ry,{})}),ct.jsx(m,{path:"/categoria/todas",element:ct.jsx(sy,{})}),ct.jsx(m,{path:"/post/:slug",element:ct.jsx(ac,{})}),ct.jsx(m,{path:"/search",element:ct.jsx(iy,{})}),ct.jsx(m,{path:"/politica-privacidade",element:ct.jsx(oy,{})}),ct.jsx(m,{path:"/termos-uso",element:ct.jsx(oy,{})}),ct.jsx(m,{path:"/anuncios",element:ct.jsx(ly,{})}),ct.jsx(m,{path:"/urgentes",element:ct.jsx(cy,{})}),ct.jsx(m,{path:"*",element:ct.jsx(ms,{})})]})},t.pathname),ct.jsx(Gz,{})]})})]}),ct.jsx(Le,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#008080",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#ff6b35",secondary:"#fff"}}}}),ct.jsx(Kz,{})]})}ut.createRoot(document.getElementById("root")).render(ct.jsx(sn,{children:ct.jsx(f,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:ct.jsx(Xz,{})})}));
